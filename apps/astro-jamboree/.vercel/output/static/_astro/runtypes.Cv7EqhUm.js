import{j as s,P as a,g as p,h as o,i as l}from"./component.WAFr8TWY.js";import"./index.BbkJZrTS.js";const e={items:{branded:!0,typedErrors:!0,templateLiterals:!0,emailFormatAmbiguityIsAccountedFor:!0,acceptsTypedInput:!1,canGenerateJsonSchema:!1},explanations:{emailFormatAmbiguityIsAccountedFor:"A default method for email validation is not provided, which makes this check pass."}},t=`<pre class="shiki vitesse-dark twoslash lsp" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#4D9375">import</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">function</span><span style="color:#80A665"> Array</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">E</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> RuntypeBase</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">unknown</span><span style="color:#666666">>,</span><span style="color:#5DA994"> RO</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> boolean</span><span style="color:#666666">>(</span><span style="color:#BD976A">element</span><span style="color:#666666">: </span><span style="color:#5DA994">E</span><span style="color:#666666">):</span><span style="color:#5DA994"> Arr</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">E</span><span style="color:#666666">,</span><span style="color:#CB7676"> false</span><span style="color:#666666">></span></span>
<span class="line"><span style="color:#CB7676">interface</span><span style="color:#5DA994"> Array</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">E</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> RuntypeBase</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">unknown</span><span style="color:#666666">>,</span><span style="color:#5DA994"> RO</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> boolean</span><span style="color:#666666">></span></span></code></pre></code></span>Array</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">function</span><span style="color:#80A665"> Intersect</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">A</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#666666"> [</span><span style="color:#5DA994">RuntypeBase</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">unknown</span><span style="color:#666666">>,</span><span style="color:#666666"> ...</span><span style="color:#5DA994">RuntypeBase</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">unknown</span><span style="color:#666666">>[]]>(...</span><span style="color:#BD976A">intersectees</span><span style="color:#666666">: </span><span style="color:#5DA994">A</span><span style="color:#666666">):</span><span style="color:#5DA994"> Intersect</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">A</span><span style="color:#666666">></span></span>
<span class="line"><span style="color:#CB7676">interface</span><span style="color:#5DA994"> Intersect</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">A</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#666666"> [</span><span style="color:#5DA994">RuntypeBase</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">unknown</span><span style="color:#666666">>,</span><span style="color:#666666"> ...</span><span style="color:#5DA994">RuntypeBase</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">unknown</span><span style="color:#666666">>[]]></span></span></code></pre></code><div class="twoslash-popup-docs">Construct an intersection runtype from runtypes for its alternatives.</div></span>Intersect</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">function</span><span style="color:#80A665"> Lazy</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">A</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> RuntypeBase</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>(</span><span style="color:#80A665">delayed</span><span style="color:#666666">: () => </span><span style="color:#5DA994">A</span><span style="color:#666666">):</span><span style="color:#5DA994"> A</span></code><div class="twoslash-popup-docs">Construct a possibly-recursive Runtype.</div></span>Lazy</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">function</span><span style="color:#80A665"> Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">A</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> LiteralBase</span><span style="color:#666666">>(</span><span style="color:#BD976A">valueBase</span><span style="color:#666666">: </span><span style="color:#5DA994">A</span><span style="color:#666666">):</span><span style="color:#5DA994"> Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">A</span><span style="color:#666666">></span></span>
<span class="line"><span style="color:#CB7676">interface</span><span style="color:#5DA994"> Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">A</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> LiteralBase</span><span style="color:#666666">></span></span></code></pre></code><div class="twoslash-popup-docs">Construct a runtype for a type literal.</div></span>Literal</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">Number</span><span style="color:#666666">: </span><span style="color:#5DA994">Number</span></code><div class="twoslash-popup-docs">Validates that a value is a number.</div></span>Number</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">function</span><span style="color:#80A665"> Record</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">O</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">    [</span><span style="color:#BD976A">_</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666">]: </span><span style="color:#5DA994">RuntypeBase</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">unknown</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">}>(</span><span style="color:#BD976A">fields</span><span style="color:#666666">: </span><span style="color:#5DA994">O</span><span style="color:#666666">):</span><span style="color:#5DA994"> Record</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">O</span><span style="color:#666666">,</span><span style="color:#CB7676"> false</span><span style="color:#666666">></span></span>
<span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Record</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">O</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> {</span><span style="color:#666666"> [</span><span style="color:#BD976A">_</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666">]: </span><span style="color:#5DA994">RuntypeBase</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">unknown</span><span style="color:#666666">>;</span><span style="color:#666666"> },</span><span style="color:#5DA994"> RO</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> boolean</span><span style="color:#666666">></span><span style="color:#666666"> =</span><span style="color:#5DA994"> InternalRecord</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">O</span><span style="color:#666666">,</span><span style="color:#CB7676"> false</span><span style="color:#666666">,</span><span style="color:#5DA994"> RO</span><span style="color:#666666">></span></span></code></pre></code></span>Record</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Result</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#666666">></span><span style="color:#666666"> =</span><span style="color:#5DA994"> Success</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#666666">></span><span style="color:#666666"> |</span><span style="color:#5DA994"> Failure</span></code><div class="twoslash-popup-docs">The result of a type validation.</div></span>Result</span></span><span style="color:#4D9375"> as</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> LibResult</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#666666">></span><span style="color:#666666"> =</span><span style="color:#5DA994"> Success</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#666666">></span><span style="color:#666666"> |</span><span style="color:#5DA994"> Failure</span></code><div class="twoslash-popup-docs">The result of a type validation.</div></span>LibResult</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">interface</span><span style="color:#5DA994"> Runtype</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">A</span><span style="color:#666666"> =</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">></span></code><div class="twoslash-popup-docs">A runtype determines at runtime whether a value conforms to a type specification.</div></span>Runtype</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">interface</span><span style="color:#5DA994"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">B</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> string</span><span style="color:#666666">></span></code></span>RuntypeBrand</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Static</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">A</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> RuntypeBase</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">unknown</span><span style="color:#666666">>></span><span style="color:#666666"> =</span><span style="color:#5DA994"> A</span><span style="color:#666666">[</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">_falseWitness</span><span style="color:#C98A7D99">"</span><span style="color:#666666">]</span></code><div class="twoslash-popup-docs">Obtains the static type associated with a Runtype.</div></span>Static</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">String</span><span style="color:#666666">: </span><span style="color:#5DA994">String</span></code><div class="twoslash-popup-docs">Validates that a value is a string.</div></span>String</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">function</span><span style="color:#80A665"> Template</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">A</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> TemplateStringsArray</span><span style="color:#666666">,</span><span style="color:#5DA994"> B</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#5DA994"> RuntypeBase</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">LiteralBase</span><span style="color:#666666">>[]>(</span><span style="color:#BD976A">strings</span><span style="color:#666666">: </span><span style="color:#5DA994">A</span><span style="color:#666666">,</span><span style="color:#666666"> ...</span><span style="color:#BD976A">runtypes</span><span style="color:#666666">: </span><span style="color:#5DA994">B</span><span style="color:#666666">):</span><span style="color:#5DA994"> Template</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">A</span><span style="color:#666666"> &#x26;</span><span style="color:#666666"> [</span><span style="color:#5DA994">string</span><span style="color:#666666">,</span><span style="color:#666666"> ...</span><span style="color:#5DA994">string</span><span style="color:#666666">[]],</span><span style="color:#5DA994"> B</span><span style="color:#666666">></span><span style="color:#666666"> (</span><span style="color:#DBD7CAEE">+</span><span style="color:#4C9A91">2</span><span style="color:#5DA994"> overloads</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#CB7676">interface</span><span style="color:#5DA994"> Template</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">A</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#666666"> [</span><span style="color:#5DA994">string</span><span style="color:#666666">,</span><span style="color:#666666"> ...</span><span style="color:#5DA994">string</span><span style="color:#666666">[]],</span><span style="color:#5DA994"> B</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#5DA994"> RuntypeBase</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">LiteralBase</span><span style="color:#666666">>[]></span></span></code></pre></code><div class="twoslash-popup-docs">Validates that a value is a string that conforms to the template.

You can use the familiar syntax to create a \`Template\` runtype:

\`\`\`ts
const T = Template\`foo\${Literal('bar')}baz\`;
\`\`\`

But then the type inference won't work:

\`\`\`ts
type T = Static&#x3C;typeof T>; // inferred as string
\`\`\`

Because TS doesn't provide the exact string literal type information (\`["foo", "baz"]\` in this case) to the underlying function. See the issue [microsoft/TypeScript#33304](https://github.com/microsoft/TypeScript/issues/33304), especially this comment [microsoft/TypeScript#33304 (comment)](https://github.com/microsoft/TypeScript/issues/33304#issuecomment-697977783) we hope to be implemented.

If you want the type inference rather than the tagged syntax, you have to manually write a function call:

\`\`\`ts
const T = Template(['foo', 'baz'] as const, Literal('bar'));
type T = Static&#x3C;typeof T>; // inferred as "foobarbaz"
\`\`\`

As a convenient solution for this, it also supports another style of passing arguments:

\`\`\`ts
const T = Template('foo', Literal('bar'), 'baz');
type T = Static&#x3C;typeof T>; // inferred as "foobarbaz"
\`\`\`

You can pass various things to the \`Template\` constructor, as long as they are assignable to \`string | number | bigint | boolean | null | undefined\` and the corresponding \`Runtype\`s:

\`\`\`ts
// Equivalent runtypes
Template(Literal('42'));
Template(42);
Template(Template('42'));
Template(4, '2');
Template(Literal(4), '2');
Template(String.withConstraint(s => s === '42'));
Template(
  Intersect(
    Number.withConstraint(n => n === 42),
    String.withConstraint(s => s.length === 2),
    // \`Number\`s in \`Template\` accept alternative representations like \`"0x2A"\`,
    // thus we have to constraint the length of string, to accept only \`"42"\`
  ),
);
\`\`\`

Trivial items such as bare literals, \`Literal\`s, and single-element \`Union\`s and \`Intersect\`s are all coerced into strings at the creation time of the runtype. Additionally, \`Union\`s of such runtypes are converted into \`RegExp\` patterns like \`(?:foo|bar|...)\`, so we can assume \`Union\` of \`Literal\`s is a fully supported runtype in \`Template\`.

### Caveats

A \`Template\` internally constructs a \`RegExp\` to parse strings. This can lead to a problem if it contains multiple non-literal runtypes:

\`\`\`ts
const UpperCaseString = Constraint(String, s => s === s.toUpperCase(), {
  name: 'UpperCaseString',
});
const LowerCaseString = Constraint(String, s => s === s.toLowerCase(), {
  name: 'LowerCaseString',
});
Template(UpperCaseString, LowerCaseString);
\`\`\`

The only thing we can do for parsing such strings correctly is brute-forcing every single possible combination until it fulfills all the constraints, which must be hardly done. Actually \`Template\` treats \`String\` runtypes as the simplest \`RegExp\` pattern \`.*\` and the “greedy” strategy is always used, that is, the above runtype won't work expectedly because the entire pattern is just \`^(.*)(.*)$\` and the first \`.*\` always wins. You have to avoid using \`Constraint\` this way, and instead manually parse it using a single \`Constraint\` which covers the entire string.</div></span>Template</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">function</span><span style="color:#80A665"> Union</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#666666"> [</span><span style="color:#5DA994">RuntypeBase</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">unknown</span><span style="color:#666666">>,</span><span style="color:#666666"> ...</span><span style="color:#5DA994">RuntypeBase</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">unknown</span><span style="color:#666666">>[]]>(...</span><span style="color:#BD976A">alternatives</span><span style="color:#666666">: </span><span style="color:#5DA994">T</span><span style="color:#666666">):</span><span style="color:#5DA994"> Union</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#666666">></span></span>
<span class="line"><span style="color:#CB7676">interface</span><span style="color:#5DA994"> Union</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">A</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#666666"> [</span><span style="color:#5DA994">RuntypeBase</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">unknown</span><span style="color:#666666">>,</span><span style="color:#666666"> ...</span><span style="color:#5DA994">RuntypeBase</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">unknown</span><span style="color:#666666">>[]]></span></span></code></pre></code><div class="twoslash-popup-docs">Construct a union runtype from runtypes for its alternatives.</div></span>Union</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#4D9375"> from</span><span style="color:#C98A7D99"> '</span><span style="color:#C98A7D">runtypes</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#4D9375">import</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#80A665">chain</span><span style="color:#666666">: &#x3C;</span><span style="color:#5DA994">E</span><span style="color:#666666">, </span><span style="color:#5DA994">T</span><span style="color:#666666">, </span><span style="color:#5DA994">U</span><span style="color:#666666">>(</span><span style="color:#80A665">f</span><span style="color:#666666">: (</span><span style="color:#BD976A">t</span><span style="color:#666666">: </span><span style="color:#5DA994">T</span><span style="color:#666666">) => </span><span style="color:#5DA994">Result</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">E</span><span style="color:#666666">, </span><span style="color:#5DA994">U</span><span style="color:#666666">>) => (</span><span style="color:#BD976A">r</span><span style="color:#666666">: </span><span style="color:#5DA994">Result</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">E</span><span style="color:#666666">, </span><span style="color:#5DA994">T</span><span style="color:#666666">>) => </span><span style="color:#5DA994">Result</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">E</span><span style="color:#666666">, </span><span style="color:#5DA994">U</span><span style="color:#666666">></span></code></span>chain</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">COLOURS</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#666666"> [</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">]</span></code></span>COLOURS</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">EMAIL_REGEX_S</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">^(?:[a-z0-9!#$%&#x26;'*+/=?^_\`{|}~-]+(?:</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">.[a-z0-9!#$%&#x26;'*+/=?^_\`{|}~-]+)*|</span><span style="color:#C99076">\\"</span><span style="color:#C98A7D">(?:[</span><span style="color:#C99076">\\u0001</span><span style="color:#C98A7D">-</span><span style="color:#C99076">\\b\\v\\f\\u000E</span><span style="color:#C98A7D">-</span><span style="color:#C99076">\\u001F</span><span style="color:#C98A7D">!#-[]-]|</span><span style="color:#C99076">\\\\\\\\</span><span style="color:#C98A7D">[</span><span style="color:#C99076">\\u0001</span><span style="color:#C98A7D">-</span><span style="color:#C99076">\\t\\v\\f\\u000E</span><span style="color:#C98A7D">-])*</span><span style="color:#C99076">\\"</span><span style="color:#C98A7D">)@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[</span><span style="color:#C99076">\\u0001</span><span style="color:#C98A7D">-</span><span style="color:#C99076">\\b\\v\\f\\u000E</span><span style="color:#C98A7D">-</span><span style="color:#C99076">\\u001F</span><span style="color:#C98A7D">!-ZS-]|</span><span style="color:#C99076">\\\\\\\\</span><span style="color:#C98A7D">[</span><span style="color:#C99076">\\u0001</span><span style="color:#C98A7D">-</span><span style="color:#C99076">\\t\\v\\f\\u000E</span><span style="color:#C98A7D">-])+)</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">])$</span><span style="color:#C98A7D99">"</span></code></span>EMAIL_REGEX_S</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">ISO_DATE_REGEX_S</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">^([</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">+-]?</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d{4}(?!</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d{2}</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">b))((-?)((0[1-9]|1[0-2])(</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">3([12]</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d|0[1-9]|3[01]))?|W([0-4]</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d|[12]</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d{2}|3([0-5]</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d|6[1-6])))([T</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">s]((([01]</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d|2[0-3])((:?)[0-5]</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d)?|24</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">:?00)([</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">.,]</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d+(?!:))?)?(</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">17[0-5]</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d([</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">.,]</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d+)?)?([zZ]|([</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">+-])([01]</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d|2[0-3]):?([0-5]</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d)?)?)?)?$</span><span style="color:#C98A7D99">"</span></code></span>ISO_DATE_REGEX_S</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">PROFILE_TYPE_ARTIST</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">artist</span><span style="color:#C98A7D99">"</span></code></span>PROFILE_TYPE_ARTIST</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">PROFILE_TYPE_LISTENER</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">listener</span><span style="color:#C98A7D99">"</span></code></span>PROFILE_TYPE_LISTENER</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Result</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">E</span><span style="color:#666666">,</span><span style="color:#5DA994"> T</span><span style="color:#666666">></span><span style="color:#666666"> =</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    _tag</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">left</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    error</span><span style="color:#666666">: </span><span style="color:#5DA994">E</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    _tag</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">right</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    value</span><span style="color:#666666">: </span><span style="color:#5DA994">T</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>Result</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">SUBSCRIPTION_TYPES</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#666666"> [</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span><span style="color:#666666">]</span></code></span>SUBSCRIPTION_TYPES</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#4D9375"> from</span><span style="color:#C98A7D99"> '</span><span style="color:#C98A7D">./libs/common/src/index</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">NonNegative</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Number</span><span style="color:#666666">, </span><span style="color:#5DA994">number</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>></span></code></span>NonNegative</span></span><span style="color:#666666"> =</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">Number</span><span style="color:#666666">: </span><span style="color:#5DA994">Number</span></code><div class="twoslash-popup-docs">Validates that a value is a number.</div></span>Number</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Runtype</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">number</span><span style="color:#666666">>.</span><span style="color:#80A665">withConstraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">number</span><span style="color:#666666">,</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">>(</span><span style="color:#BD976A">constraint</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">ConstraintCheck</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Number</span><span style="color:#666666">>,</span><span style="color:#BD976A"> options</span><span style="color:#CB7676">?:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">    name?: </span><span style="color:#BD976A">string</span><span style="color:#CB7676"> |</span><span style="color:#CB7676"> undefined</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    args</span><span style="color:#CB7676">?:</span><span style="color:#BD976A"> unknown</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> |</span><span style="color:#CB7676"> undefined</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Number</span><span style="color:#666666">,</span><span style="color:#BD976A"> number</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#666666">></span></span></code></pre></code><div class="twoslash-popup-docs">Use an arbitrary constraint function to validate a runtype, and optionally
to change its name and/or its static type.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@template</span><span class="twoslash-popup-docs-tag-value">T - Optionally override the static type of the resulting runtype</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">constraint - Custom function
that returns \`true\` if the constraint is satisfied, \`false\` or a custom
error message if not.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">options</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">options.name - allows setting the name of this
constrained runtype, which is helpful in reflection or diagnostic
use-cases.</span></span></div></span>withConstraint</span></span><span style="color:#666666">((</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">n</span><span style="color:#666666">:</span><span style="color:#BD976A"> number</span></code></span>n</span></span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">n</span><span style="color:#666666">:</span><span style="color:#BD976A"> number</span></code></span>n</span></span><span style="color:#666666"> >=</span><span style="color:#4C9A91"> 0</span><span style="color:#666666">).</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">Runtype</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">number</span><span style="color:#666666">>.</span><span style="color:#80A665">withBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>(</span><span style="color:#BD976A">brand</span><span style="color:#DBD7CAEE">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Number</span><span style="color:#666666">,</span><span style="color:#BD976A"> number</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>></span></code><div class="twoslash-popup-docs">Adds a brand to the type.</div></span>withBrand</span></span><span style="color:#666666">(</span></span>
<span class="line"><span style="color:#C98A7D99">  '</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">'</span></span>
<span class="line"><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">Integer</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Number</span><span style="color:#666666">, </span><span style="color:#5DA994">number</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>></span></code></span>Integer</span></span><span style="color:#666666"> =</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">Number</span><span style="color:#666666">: </span><span style="color:#5DA994">Number</span></code><div class="twoslash-popup-docs">Validates that a value is a number.</div></span>Number</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Runtype</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">number</span><span style="color:#666666">>.</span><span style="color:#80A665">withConstraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">number</span><span style="color:#666666">,</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">>(</span><span style="color:#BD976A">constraint</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">ConstraintCheck</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Number</span><span style="color:#666666">>,</span><span style="color:#BD976A"> options</span><span style="color:#CB7676">?:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">    name?: </span><span style="color:#BD976A">string</span><span style="color:#CB7676"> |</span><span style="color:#CB7676"> undefined</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    args</span><span style="color:#CB7676">?:</span><span style="color:#BD976A"> unknown</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> |</span><span style="color:#CB7676"> undefined</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Number</span><span style="color:#666666">,</span><span style="color:#BD976A"> number</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#666666">></span></span></code></pre></code><div class="twoslash-popup-docs">Use an arbitrary constraint function to validate a runtype, and optionally
to change its name and/or its static type.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@template</span><span class="twoslash-popup-docs-tag-value">T - Optionally override the static type of the resulting runtype</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">constraint - Custom function
that returns \`true\` if the constraint is satisfied, \`false\` or a custom
error message if not.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">options</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">options.name - allows setting the name of this
constrained runtype, which is helpful in reflection or diagnostic
use-cases.</span></span></div></span>withConstraint</span></span><span style="color:#666666">((</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">n</span><span style="color:#666666">:</span><span style="color:#BD976A"> number</span></code></span>n</span></span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">n</span><span style="color:#666666">:</span><span style="color:#BD976A"> number</span></code></span>n</span></span><span style="color:#CB7676"> % </span><span style="color:#4C9A91">1</span><span style="color:#CB7676"> === </span><span style="color:#4C9A91">0</span><span style="color:#666666">).</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">Runtype</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">number</span><span style="color:#666666">>.</span><span style="color:#80A665">withBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>(</span><span style="color:#BD976A">brand</span><span style="color:#DBD7CAEE">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Number</span><span style="color:#666666">,</span><span style="color:#BD976A"> number</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>></span></code><div class="twoslash-popup-docs">Adds a brand to the type.</div></span>withBrand</span></span><span style="color:#666666">(</span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">'</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">NonNegativeInteger</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegativeInteger</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Number</span><span style="color:#666666">, </span><span style="color:#5DA994">number</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>, </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Number</span><span style="color:#666666">, </span><span style="color:#5DA994">number</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>]>></span></code></span>NonNegativeInteger</span></span><span style="color:#666666"> =</span><span style="color:#80A665"> </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#5DA994"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Number</span><span style="color:#666666">,</span><span style="color:#5DA994"> number</span><span style="color:#666666">,</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">>>,</span><span style="color:#5DA994"> Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#5DA994"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Number</span><span style="color:#666666">,</span><span style="color:#5DA994"> number</span><span style="color:#666666">,</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">>>]>(</span><span style="color:#BD976A">intersectees_0</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;...</span><span style="color:#CB7676">>></span><span style="color:#666666">,</span><span style="color:#BD976A"> intersectees_1</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Brand</span><span style="color:#666666">&#x3C;...>)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Intersect</span><span style="color:#666666">&#x3C;...></span></code><div class="twoslash-popup-docs">Construct an intersection runtype from runtypes for its alternatives.</div></span>Intersect</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">NonNegative</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Number</span><span style="color:#666666">, </span><span style="color:#5DA994">number</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>></span></code></span>NonNegative</span></span><span style="color:#666666">,</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">Integer</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Number</span><span style="color:#666666">, </span><span style="color:#5DA994">number</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>></span></code></span>Integer</span></span><span style="color:#666666">).</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">Runtype</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">number</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">></span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676">>></span><span style="color:#666666">.</span><span style="color:#80A665">withBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegativeInteger</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>(</span><span style="color:#BD976A">brand</span><span style="color:#DBD7CAEE">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegativeInteger</span><span style="color:#C98A7D99">"</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegativeInteger</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#BD976A">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Number</span><span style="color:#666666">,</span><span style="color:#BD976A"> number</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>></span><span style="color:#666666">,</span><span style="color:#BD976A"> Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;...</span><span style="color:#CB7676">>></span><span style="color:#666666">]</span><span style="color:#CB7676">>></span></code><div class="twoslash-popup-docs">Adds a brand to the type.</div></span>withBrand</span></span><span style="color:#666666">(</span></span>
<span class="line"><span style="color:#C98A7D99">  '</span><span style="color:#C98A7D">NonNegativeInteger</span><span style="color:#C98A7D99">'</span></span>
<span class="line"><span style="color:#666666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">NonEmptyString</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>></span></code></span>NonEmptyString</span></span><span style="color:#666666"> =</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">String</span><span style="color:#666666">: </span><span style="color:#5DA994">String</span></code><div class="twoslash-popup-docs">Validates that a value is a string.</div></span>String</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Runtype</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">string</span><span style="color:#666666">>.</span><span style="color:#80A665">withConstraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666">,</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">>(</span><span style="color:#BD976A">constraint</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">ConstraintCheck</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">>,</span><span style="color:#BD976A"> options</span><span style="color:#CB7676">?:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">    name?: </span><span style="color:#BD976A">string</span><span style="color:#CB7676"> |</span><span style="color:#CB7676"> undefined</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    args</span><span style="color:#CB7676">?:</span><span style="color:#BD976A"> unknown</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> |</span><span style="color:#CB7676"> undefined</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">,</span><span style="color:#BD976A"> string</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#666666">></span></span></code></pre></code><div class="twoslash-popup-docs">Use an arbitrary constraint function to validate a runtype, and optionally
to change its name and/or its static type.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@template</span><span class="twoslash-popup-docs-tag-value">T - Optionally override the static type of the resulting runtype</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">constraint - Custom function
that returns \`true\` if the constraint is satisfied, \`false\` or a custom
error message if not.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">options</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">options.name - allows setting the name of this
constrained runtype, which is helpful in reflection or diagnostic
use-cases.</span></span></div></span>withConstraint</span></span><span style="color:#666666">((</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">s</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span></code></span>s</span></span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">s</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span></code></span>s</span></span><span style="color:#666666">.</span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">String</span><span style="color:#666666">.</span><span style="color:#B8A965">length</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">number</span></code><div class="twoslash-popup-docs">Returns the length of a String object.</div></span>length</span></span><span style="color:#666666"> ></span><span style="color:#4C9A91"> 0</span><span style="color:#666666">).</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">Runtype</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">string</span><span style="color:#666666">>.</span><span style="color:#80A665">withBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>(</span><span style="color:#BD976A">brand</span><span style="color:#DBD7CAEE">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">,</span><span style="color:#BD976A"> string</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>></span></code><div class="twoslash-popup-docs">Adds a brand to the type.</div></span>withBrand</span></span><span style="color:#666666">(</span></span>
<span class="line"><span style="color:#C98A7D99">  '</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">'</span></span>
<span class="line"><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> NonEmptyString</span><span style="color:#666666"> =</span><span style="color:#5DA994"> string</span><span style="color:#666666"> &#x26;</span><span style="color:#5DA994"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">></span></code></span>NonEmptyString</span></span><span style="color:#666666"> =</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Static</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">A</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> RuntypeBase</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">unknown</span><span style="color:#666666">>></span><span style="color:#666666"> =</span><span style="color:#5DA994"> A</span><span style="color:#666666">[</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">_falseWitness</span><span style="color:#C98A7D99">"</span><span style="color:#666666">]</span></code><div class="twoslash-popup-docs">Obtains the static type associated with a Runtype.</div></span>Static</span></span><span style="color:#666666">&#x3C;</span><span style="color:#CB7676">typeof</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">NonEmptyString</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>></span></code></span>NonEmptyString</span></span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">Email</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Email</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>, </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>></span></code></span>Email</span></span><span style="color:#666666"> =</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">NonEmptyString</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>></span></code></span>NonEmptyString</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Runtype</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676">>></span><span style="color:#666666">.</span><span style="color:#80A665">withConstraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26;</span><span style="color:#5DA994"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>,</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">>(</span><span style="color:#BD976A">constraint</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">ConstraintCheck</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">,</span><span style="color:#BD976A"> string</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>>></span><span style="color:#666666">,</span><span style="color:#BD976A"> options</span><span style="color:#CB7676">?:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> |</span><span style="color:#CB7676"> undefined</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Constraint</span><span style="color:#666666">&#x3C;...></span></span></code></pre></code><div class="twoslash-popup-docs">Use an arbitrary constraint function to validate a runtype, and optionally
to change its name and/or its static type.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@template</span><span class="twoslash-popup-docs-tag-value">T - Optionally override the static type of the resulting runtype</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">constraint - Custom function
that returns \`true\` if the constraint is satisfied, \`false\` or a custom
error message if not.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">options</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">options.name - allows setting the name of this
constrained runtype, which is helpful in reflection or diagnostic
use-cases.</span></span></div></span>withConstraint</span></span><span style="color:#666666">(</span></span>
<span class="line"><span style="color:#666666">  (</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">s</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">></span></code></span>s</span></span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#CB7676"> !!</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">s</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">></span></code></span>s</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">String</span><span style="color:#666666">.</span><span style="color:#80A665">match</span><span style="color:#666666">(</span><span style="color:#BD976A">regexp</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">string</span><span style="color:#CB7676"> |</span><span style="color:#BD976A"> RegExp</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">RegExpMatchArray</span><span style="color:#CB7676"> |</span><span style="color:#CB7676"> null</span><span style="color:#666666"> (</span><span style="color:#CB7676">+</span><span style="color:#4C9A91">1</span><span style="color:#BD976A"> overload</span><span style="color:#666666">)</span></code><div class="twoslash-popup-docs">Matches a string with a regular expression, and returns an array containing the results of that search.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">regexp A variable name or string literal containing the regular expression pattern and flags.</span></span></div></span>match</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">EMAIL_REGEX_S</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">^(?:[a-z0-9!#$%&#x26;'*+/=?^_\`{|}~-]+(?:</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">.[a-z0-9!#$%&#x26;'*+/=?^_\`{|}~-]+)*|</span><span style="color:#C99076">\\"</span><span style="color:#C98A7D">(?:[</span><span style="color:#C99076">\\u0001</span><span style="color:#C98A7D">-</span><span style="color:#C99076">\\b\\v\\f\\u000E</span><span style="color:#C98A7D">-</span><span style="color:#C99076">\\u001F</span><span style="color:#C98A7D">!#-[]-]|</span><span style="color:#C99076">\\\\\\\\</span><span style="color:#C98A7D">[</span><span style="color:#C99076">\\u0001</span><span style="color:#C98A7D">-</span><span style="color:#C99076">\\t\\v\\f\\u000E</span><span style="color:#C98A7D">-])*</span><span style="color:#C99076">\\"</span><span style="color:#C98A7D">)@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[</span><span style="color:#C99076">\\u0001</span><span style="color:#C98A7D">-</span><span style="color:#C99076">\\b\\v\\f\\u000E</span><span style="color:#C98A7D">-</span><span style="color:#C99076">\\u001F</span><span style="color:#C98A7D">!-ZS-]|</span><span style="color:#C99076">\\\\\\\\</span><span style="color:#C98A7D">[</span><span style="color:#C99076">\\u0001</span><span style="color:#C98A7D">-</span><span style="color:#C99076">\\t\\v\\f\\u000E</span><span style="color:#C98A7D">-])+)</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">])$</span><span style="color:#C98A7D99">"</span></code></span>EMAIL_REGEX_S</span></span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#666666">).</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">Runtype</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676">>></span><span style="color:#666666">.</span><span style="color:#80A665">withBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Email</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>(</span><span style="color:#BD976A">brand</span><span style="color:#DBD7CAEE">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Email</span><span style="color:#C98A7D99">"</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Email</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">,</span><span style="color:#BD976A"> string</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>></span><span style="color:#666666">,</span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>></span></code><div class="twoslash-popup-docs">Adds a brand to the type.</div></span>withBrand</span></span><span style="color:#666666">(</span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">Email</span><span style="color:#C98A7D99">'</span><span style="color:#666666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">StripeCustomerId</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">StripeCustomerId</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Template</span><span style="color:#666666">&#x3C;[</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">cus_</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">""</span><span style="color:#666666">], [</span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>]>></span></code></span>StripeCustomerId</span></span><span style="color:#666666"> =</span><span style="color:#80A665"> </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">Template</span><span style="color:#666666">&#x3C;[</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">cus_</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#5DA994"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">,</span><span style="color:#5DA994"> string</span><span style="color:#666666">,</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">>]>(</span><span style="color:#BD976A">args_0</span><span style="color:#DBD7CAEE">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">cus_</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> args_1</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">,</span><span style="color:#BD976A"> string</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#666666">>)</span><span style="color:#DBD7CAEE">: </span><span style="color:#80A665">Template</span><span style="color:#666666">&#x3C;[</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">cus_</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#C98A7D99"> ""</span><span style="color:#666666">],</span><span style="color:#666666"> [</span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">,</span><span style="color:#5DA994"> string</span><span style="color:#666666">,</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">>]></span><span style="color:#666666"> (</span><span style="color:#CB7676">+</span><span style="color:#4C9A91">2</span><span style="color:#BD976A"> overloads</span><span style="color:#666666">)</span></code><div class="twoslash-popup-docs">Validates that a value is a string that conforms to the template.

You can use the familiar syntax to create a \`Template\` runtype:

\`\`\`ts
const T = Template\`foo\${Literal('bar')}baz\`;
\`\`\`

But then the type inference won't work:

\`\`\`ts
type T = Static&#x3C;typeof T>; // inferred as string
\`\`\`

Because TS doesn't provide the exact string literal type information (\`["foo", "baz"]\` in this case) to the underlying function. See the issue [microsoft/TypeScript#33304](https://github.com/microsoft/TypeScript/issues/33304), especially this comment [microsoft/TypeScript#33304 (comment)](https://github.com/microsoft/TypeScript/issues/33304#issuecomment-697977783) we hope to be implemented.

If you want the type inference rather than the tagged syntax, you have to manually write a function call:

\`\`\`ts
const T = Template(['foo', 'baz'] as const, Literal('bar'));
type T = Static&#x3C;typeof T>; // inferred as "foobarbaz"
\`\`\`

As a convenient solution for this, it also supports another style of passing arguments:

\`\`\`ts
const T = Template('foo', Literal('bar'), 'baz');
type T = Static&#x3C;typeof T>; // inferred as "foobarbaz"
\`\`\`

You can pass various things to the \`Template\` constructor, as long as they are assignable to \`string | number | bigint | boolean | null | undefined\` and the corresponding \`Runtype\`s:

\`\`\`ts
// Equivalent runtypes
Template(Literal('42'));
Template(42);
Template(Template('42'));
Template(4, '2');
Template(Literal(4), '2');
Template(String.withConstraint(s => s === '42'));
Template(
  Intersect(
    Number.withConstraint(n => n === 42),
    String.withConstraint(s => s.length === 2),
    // \`Number\`s in \`Template\` accept alternative representations like \`"0x2A"\`,
    // thus we have to constraint the length of string, to accept only \`"42"\`
  ),
);
\`\`\`

Trivial items such as bare literals, \`Literal\`s, and single-element \`Union\`s and \`Intersect\`s are all coerced into strings at the creation time of the runtype. Additionally, \`Union\`s of such runtypes are converted into \`RegExp\` patterns like \`(?:foo|bar|...)\`, so we can assume \`Union\` of \`Literal\`s is a fully supported runtype in \`Template\`.

### Caveats

A \`Template\` internally constructs a \`RegExp\` to parse strings. This can lead to a problem if it contains multiple non-literal runtypes:

\`\`\`ts
const UpperCaseString = Constraint(String, s => s === s.toUpperCase(), {
  name: 'UpperCaseString',
});
const LowerCaseString = Constraint(String, s => s === s.toLowerCase(), {
  name: 'LowerCaseString',
});
Template(UpperCaseString, LowerCaseString);
\`\`\`

The only thing we can do for parsing such strings correctly is brute-forcing every single possible combination until it fulfills all the constraints, which must be hardly done. Actually \`Template\` treats \`String\` runtypes as the simplest \`RegExp\` pattern \`.*\` and the “greedy” strategy is always used, that is, the above runtype won't work expectedly because the entire pattern is just \`^(.*)(.*)$\` and the first \`.*\` always wins. You have to avoid using \`Constraint\` this way, and instead manually parse it using a single \`Constraint\` which covers the entire string.</div></span>Template</span></span><span style="color:#666666">(</span></span>
<span class="line"><span style="color:#C98A7D99">  '</span><span style="color:#C98A7D">cus_</span><span style="color:#C98A7D99">'</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">String</span><span style="color:#666666">: </span><span style="color:#5DA994">String</span></code><div class="twoslash-popup-docs">Validates that a value is a string.</div></span>String</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Runtype</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">string</span><span style="color:#666666">>.</span><span style="color:#80A665">withConstraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666">,</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">>(</span><span style="color:#BD976A">constraint</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">ConstraintCheck</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">>,</span><span style="color:#BD976A"> options</span><span style="color:#CB7676">?:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">    name?: </span><span style="color:#BD976A">string</span><span style="color:#CB7676"> |</span><span style="color:#CB7676"> undefined</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    args</span><span style="color:#CB7676">?:</span><span style="color:#BD976A"> unknown</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> |</span><span style="color:#CB7676"> undefined</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">,</span><span style="color:#BD976A"> string</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#666666">></span></span></code></pre></code><div class="twoslash-popup-docs">Use an arbitrary constraint function to validate a runtype, and optionally
to change its name and/or its static type.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@template</span><span class="twoslash-popup-docs-tag-value">T - Optionally override the static type of the resulting runtype</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">constraint - Custom function
that returns \`true\` if the constraint is satisfied, \`false\` or a custom
error message if not.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">options</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">options.name - allows setting the name of this
constrained runtype, which is helpful in reflection or diagnostic
use-cases.</span></span></div></span>withConstraint</span></span><span style="color:#666666">((</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">s</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span></code></span>s</span></span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">s</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span></code></span>s</span></span><span style="color:#666666">.</span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">String</span><span style="color:#666666">.</span><span style="color:#B8A965">length</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">number</span></code><div class="twoslash-popup-docs">Returns the length of a String object.</div></span>length</span></span><span style="color:#666666"> >=</span><span style="color:#4C9A91"> 14</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#666666">).</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">Runtype</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">\`</span><span style="color:#C98A7D">cus_</span><span style="color:#666666">\${</span><span style="color:#C98A7D">string</span><span style="color:#666666">}</span><span style="color:#C98A7D99">\`</span><span style="color:#666666">>.</span><span style="color:#80A665">withBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">StripeCustomerId</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>(</span><span style="color:#BD976A">brand</span><span style="color:#DBD7CAEE">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">StripeCustomerId</span><span style="color:#C98A7D99">"</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">StripeCustomerId</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Template</span><span style="color:#666666">&#x3C;[</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">cus_</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#C98A7D99"> ""</span><span style="color:#666666">],</span><span style="color:#666666"> [</span><span style="color:#BD976A">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">,</span><span style="color:#BD976A"> string</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#666666">>]</span><span style="color:#CB7676">>></span></code><div class="twoslash-popup-docs">Adds a brand to the type.</div></span>withBrand</span></span><span style="color:#666666">(</span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">StripeCustomerId</span><span style="color:#C98A7D99">'</span><span style="color:#666666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">// @ts-expect-error sexy: it indeed interprets the type as \`cus_\${string}\`</span></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">stripeCustomerId</span><span style="color:#666666">: </span><span style="color:#C98A7D99">\`</span><span style="color:#C98A7D">cus_</span><span style="color:#666666">\${</span><span style="color:#5DA994">string</span><span style="color:#666666">}</span><span style="color:#C98A7D99">\`</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">StripeCustomerId</span><span style="color:#C98A7D99">"</span><span style="color:#666666">></span></code></span>stripeCustomerId</span></span><span style="color:#666666">: </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Static</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">A</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> RuntypeBase</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">unknown</span><span style="color:#666666">>></span><span style="color:#666666"> =</span><span style="color:#5DA994"> A</span><span style="color:#666666">[</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">_falseWitness</span><span style="color:#C98A7D99">"</span><span style="color:#666666">]</span></code><div class="twoslash-popup-docs">Obtains the static type associated with a Runtype.</div></span>Static</span></span><span style="color:#666666">&#x3C;</span><span style="color:#CB7676">typeof</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">StripeCustomerId</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">StripeCustomerId</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Template</span><span style="color:#666666">&#x3C;[</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">cus_</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">""</span><span style="color:#666666">], [</span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>]>></span></code></span>StripeCustomerId</span></span><span style="color:#666666">> =</span></span>
<span class="line"><span style="color:#C98A7D99">  '</span><span style="color:#C98A7D">NOT CUS_NffrFeUfNV2Hib</span><span style="color:#C98A7D99">'</span><span style="color:#4D9375"> as</span><span style="color:#C98A7D99"> '</span><span style="color:#C98A7D">NOT CUS_NffrFeUfNV2Hib</span><span style="color:#C98A7D99">'</span><span style="color:#666666"> &#x26;</span></span>
<span class="line"><span style="color:#5DA994">    </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">interface</span><span style="color:#5DA994"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">B</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> string</span><span style="color:#666666">></span></code></span>RuntypeBrand</span></span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">StripeCustomerId</span><span style="color:#C98A7D99">'</span><span style="color:#666666">>;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">// inconvenience</span></span>
<span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> TupleToLiteral</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]></span><span style="color:#666666"> =</span><span style="color:#5DA994"> T</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#666666"> [</span><span style="color:#CB7676">infer</span><span style="color:#5DA994"> K</span><span style="color:#666666">,</span><span style="color:#666666"> ...</span><span style="color:#CB7676">infer</span><span style="color:#5DA994"> REST</span><span style="color:#666666">]</span><span style="color:#CB7676"> ?</span><span style="color:#5DA994"> K</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> string</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> [</span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">K</span><span style="color:#666666">>,</span><span style="color:#666666"> ...</span><span style="color:#5DA994">TupleToLiteral</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">REST</span><span style="color:#666666">>]</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#CB7676"> :</span><span style="color:#666666"> []</span></code></span>TupleToLiteral</span></span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">function</span><span style="color:#666666"> (</span><span style="color:#BD976A">type</span><span style="color:#BD976A"> parameter</span><span style="color:#666666">)</span><span style="color:#80A665"> T</span><span style="color:#80A665"> in</span><span style="color:#80A665"> type</span><span style="color:#80A665"> TupleToLiteral</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]></span></code></span>T</span></span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]></span><span style="color:#666666"> =</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">function</span><span style="color:#666666"> (</span><span style="color:#BD976A">type</span><span style="color:#BD976A"> parameter</span><span style="color:#666666">)</span><span style="color:#80A665"> T</span><span style="color:#80A665"> in</span><span style="color:#80A665"> type</span><span style="color:#80A665"> TupleToLiteral</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]></span></code></span>T</span></span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#666666"> [</span></span>
<span class="line"><span style="color:#CB7676">  infer</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">function</span><span style="color:#666666"> (</span><span style="color:#BD976A">type</span><span style="color:#BD976A"> parameter</span><span style="color:#666666">)</span><span style="color:#80A665"> K</span></code></span>K</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#666666">  ...</span><span style="color:#CB7676">infer</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">function</span><span style="color:#666666"> (</span><span style="color:#BD976A">type</span><span style="color:#BD976A"> parameter</span><span style="color:#666666">)</span><span style="color:#80A665"> REST</span></code></span>REST</span></span></span>
<span class="line"><span style="color:#666666">]</span></span>
<span class="line"><span style="color:#CB7676">  ?</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">function</span><span style="color:#666666"> (</span><span style="color:#BD976A">type</span><span style="color:#BD976A"> parameter</span><span style="color:#666666">)</span><span style="color:#80A665"> K</span></code></span>K</span></span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> string</span></span>
<span class="line"><span style="color:#CB7676">    ?</span><span style="color:#666666"> [</span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">interface</span><span style="color:#5DA994"> Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">A</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> LiteralBase</span><span style="color:#666666">></span></code><div class="twoslash-popup-docs">Construct a runtype for a type literal.</div></span>Literal</span></span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">function</span><span style="color:#666666"> (</span><span style="color:#BD976A">type</span><span style="color:#BD976A"> parameter</span><span style="color:#666666">)</span><span style="color:#80A665"> K</span></code></span>K</span></span><span style="color:#666666">>,</span><span style="color:#666666"> ...</span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> TupleToLiteral</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]></span><span style="color:#666666"> =</span><span style="color:#5DA994"> T</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#666666"> [</span><span style="color:#CB7676">infer</span><span style="color:#5DA994"> K</span><span style="color:#666666">,</span><span style="color:#666666"> ...</span><span style="color:#CB7676">infer</span><span style="color:#5DA994"> REST</span><span style="color:#666666">]</span><span style="color:#CB7676"> ?</span><span style="color:#5DA994"> K</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> string</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> [</span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">K</span><span style="color:#666666">>,</span><span style="color:#666666"> ...</span><span style="color:#5DA994">TupleToLiteral</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">REST</span><span style="color:#666666">>]</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#CB7676"> :</span><span style="color:#666666"> []</span></code></span>TupleToLiteral</span></span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">function</span><span style="color:#666666"> (</span><span style="color:#BD976A">type</span><span style="color:#BD976A"> parameter</span><span style="color:#666666">)</span><span style="color:#80A665"> REST</span></code></span>REST</span></span><span style="color:#666666">>]</span></span>
<span class="line"><span style="color:#CB7676">    :</span><span style="color:#5DA994"> never</span></span>
<span class="line"><span style="color:#CB7676">  :</span><span style="color:#666666"> [];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">SubscriptionType</span><span style="color:#666666">: </span><span style="color:#5DA994">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>, </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>, </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>]></span></code></span>SubscriptionType</span></span><span style="color:#666666"> =</span><span style="color:#80A665"> </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>,</span><span style="color:#5DA994"> Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>,</span><span style="color:#5DA994"> Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>]>(</span><span style="color:#BD976A">alternatives_0</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>,</span><span style="color:#BD976A"> alternatives_1</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>,</span><span style="color:#BD976A"> alternatives_2</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Literal</span><span style="color:#666666">&#x3C;...>)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Union</span><span style="color:#666666">&#x3C;...></span></code><div class="twoslash-popup-docs">Construct a union runtype from runtypes for its alternatives.</div></span>Union</span></span><span style="color:#666666">(</span></span>
<span class="line"><span style="color:#666666">  ...(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">SUBSCRIPTION_TYPES</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#666666"> [</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span><span style="color:#666666">]</span></code></span>SUBSCRIPTION_TYPES</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">ReadonlyArray</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>.</span><span style="color:#80A665">map</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>>(</span><span style="color:#BD976A">callbackfn</span><span style="color:#DBD7CAEE">: </span><span style="color:#666666">(</span><span style="color:#BD976A">value</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> | </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> | </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> index</span><span style="color:#666666">: </span><span style="color:#5DA994">number</span><span style="color:#666666">,</span><span style="color:#BD976A"> array</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#666666"> (</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> | </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> | </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span><span style="color:#666666">)[])</span><span style="color:#666666"> =></span><span style="color:#BD976A"> Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>,</span><span style="color:#BD976A"> thisArg</span><span style="color:#CB7676">?:</span><span style="color:#BD976A"> any</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Literal</span><span style="color:#666666">&#x3C;...>[]</span></code><div class="twoslash-popup-docs">Calls a defined callback function on each element of an array, and returns an array that contains the results.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">callbackfn A function that accepts up to three arguments. The map method calls the callbackfn function one time for each element in the array.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">thisArg An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.</span></span></div></span>map</span></span><span style="color:#666666">((</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">s</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span></code></span>s</span></span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#80A665"> </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>(</span><span style="color:#BD976A">valueBase</span><span style="color:#DBD7CAEE">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span><span style="color:#666666">></span></code><div class="twoslash-popup-docs">Construct a runtype for a type literal.</div></span>Literal</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">s</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span></code></span>s</span></span><span style="color:#666666">))</span><span style="color:#4D9375"> as</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> TupleToLiteral</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]></span><span style="color:#666666"> =</span><span style="color:#5DA994"> T</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#666666"> [</span><span style="color:#CB7676">infer</span><span style="color:#5DA994"> K</span><span style="color:#666666">,</span><span style="color:#666666"> ...</span><span style="color:#CB7676">infer</span><span style="color:#5DA994"> REST</span><span style="color:#666666">]</span><span style="color:#CB7676"> ?</span><span style="color:#5DA994"> K</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> string</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> [</span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">K</span><span style="color:#666666">>,</span><span style="color:#666666"> ...</span><span style="color:#5DA994">TupleToLiteral</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">REST</span><span style="color:#666666">>]</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#CB7676"> :</span><span style="color:#666666"> []</span></code></span>TupleToLiteral</span></span><span style="color:#666666">&#x3C;</span></span>
<span class="line"><span style="color:#CB7676">    typeof </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">SUBSCRIPTION_TYPES</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#666666"> [</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span><span style="color:#666666">]</span></code></span>SUBSCRIPTION_TYPES</span></span></span>
<span class="line"><span style="color:#666666">  >)</span></span>
<span class="line"><span style="color:#666666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">IsoDateString</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>></span></code></span>IsoDateString</span></span><span style="color:#666666"> =</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">String</span><span style="color:#666666">: </span><span style="color:#5DA994">String</span></code><div class="twoslash-popup-docs">Validates that a value is a string.</div></span>String</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Runtype</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">string</span><span style="color:#666666">>.</span><span style="color:#80A665">withConstraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666">,</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">>(</span><span style="color:#BD976A">constraint</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">ConstraintCheck</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">>,</span><span style="color:#BD976A"> options</span><span style="color:#CB7676">?:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">    name?: </span><span style="color:#BD976A">string</span><span style="color:#CB7676"> |</span><span style="color:#CB7676"> undefined</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    args</span><span style="color:#CB7676">?:</span><span style="color:#BD976A"> unknown</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> |</span><span style="color:#CB7676"> undefined</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">,</span><span style="color:#BD976A"> string</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#666666">></span></span></code></pre></code><div class="twoslash-popup-docs">Use an arbitrary constraint function to validate a runtype, and optionally
to change its name and/or its static type.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@template</span><span class="twoslash-popup-docs-tag-value">T - Optionally override the static type of the resulting runtype</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">constraint - Custom function
that returns \`true\` if the constraint is satisfied, \`false\` or a custom
error message if not.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">options</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">options.name - allows setting the name of this
constrained runtype, which is helpful in reflection or diagnostic
use-cases.</span></span></div></span>withConstraint</span></span><span style="color:#666666">(</span></span>
<span class="line"><span style="color:#666666">  (</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">s</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span></code></span>s</span></span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#CB7676"> !!</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">s</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span></code></span>s</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">String</span><span style="color:#666666">.</span><span style="color:#80A665">match</span><span style="color:#666666">(</span><span style="color:#BD976A">regexp</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">string</span><span style="color:#CB7676"> |</span><span style="color:#BD976A"> RegExp</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">RegExpMatchArray</span><span style="color:#CB7676"> |</span><span style="color:#CB7676"> null</span><span style="color:#666666"> (</span><span style="color:#CB7676">+</span><span style="color:#4C9A91">1</span><span style="color:#BD976A"> overload</span><span style="color:#666666">)</span></code><div class="twoslash-popup-docs">Matches a string with a regular expression, and returns an array containing the results of that search.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">regexp A variable name or string literal containing the regular expression pattern and flags.</span></span></div></span>match</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">ISO_DATE_REGEX_S</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">^([</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">+-]?</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d{4}(?!</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d{2}</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">b))((-?)((0[1-9]|1[0-2])(</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">3([12]</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d|0[1-9]|3[01]))?|W([0-4]</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d|[12]</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d{2}|3([0-5]</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d|6[1-6])))([T</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">s]((([01]</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d|2[0-3])((:?)[0-5]</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d)?|24</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">:?00)([</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">.,]</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d+(?!:))?)?(</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">17[0-5]</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d([</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">.,]</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d+)?)?([zZ]|([</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">+-])([01]</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d|2[0-3]):?([0-5]</span><span style="color:#C99076">\\\\</span><span style="color:#C98A7D">d)?)?)?)?$</span><span style="color:#C98A7D99">"</span></code></span>ISO_DATE_REGEX_S</span></span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#666666">).</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">Runtype</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">string</span><span style="color:#666666">>.</span><span style="color:#80A665">withBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>(</span><span style="color:#BD976A">brand</span><span style="color:#DBD7CAEE">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">,</span><span style="color:#BD976A"> string</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>></span></code><div class="twoslash-popup-docs">Adds a brand to the type.</div></span>withBrand</span></span><span style="color:#666666">(</span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">'</span><span style="color:#666666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">HexColour</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">HexColour</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>></span></code></span>HexColour</span></span><span style="color:#666666"> =</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">String</span><span style="color:#666666">: </span><span style="color:#5DA994">String</span></code><div class="twoslash-popup-docs">Validates that a value is a string.</div></span>String</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Runtype</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">string</span><span style="color:#666666">>.</span><span style="color:#80A665">withConstraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666">,</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">>(</span><span style="color:#BD976A">constraint</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">ConstraintCheck</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">>,</span><span style="color:#BD976A"> options</span><span style="color:#CB7676">?:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">    name?: </span><span style="color:#BD976A">string</span><span style="color:#CB7676"> |</span><span style="color:#CB7676"> undefined</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    args</span><span style="color:#CB7676">?:</span><span style="color:#BD976A"> unknown</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> |</span><span style="color:#CB7676"> undefined</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">,</span><span style="color:#BD976A"> string</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#666666">></span></span></code></pre></code><div class="twoslash-popup-docs">Use an arbitrary constraint function to validate a runtype, and optionally
to change its name and/or its static type.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@template</span><span class="twoslash-popup-docs-tag-value">T - Optionally override the static type of the resulting runtype</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">constraint - Custom function
that returns \`true\` if the constraint is satisfied, \`false\` or a custom
error message if not.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">options</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">options.name - allows setting the name of this
constrained runtype, which is helpful in reflection or diagnostic
use-cases.</span></span></div></span>withConstraint</span></span><span style="color:#666666">(</span></span>
<span class="line"><span style="color:#666666">  (</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">s</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span></code></span>s</span></span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#CB7676"> !!</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">s</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span></code></span>s</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">String</span><span style="color:#666666">.</span><span style="color:#80A665">match</span><span style="color:#666666">(</span><span style="color:#BD976A">matcher</span><span style="color:#DBD7CAEE">: </span><span style="color:#666666">{</span></span>
<span class="line"><span style="color:#666666">    [</span><span style="color:#BD976A">Symbol</span><span style="color:#666666">.</span><span style="color:#BD976A">match</span><span style="color:#666666">](</span><span style="color:#BD976A">string</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666">): </span><span style="color:#5DA994">RegExpMatchArray</span><span style="color:#666666"> | </span><span style="color:#CB7676">null</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">})</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">RegExpMatchArray</span><span style="color:#CB7676"> |</span><span style="color:#CB7676"> null</span><span style="color:#666666"> (</span><span style="color:#CB7676">+</span><span style="color:#4C9A91">1</span><span style="color:#BD976A"> overload</span><span style="color:#666666">)</span></span></code></pre></code><div class="twoslash-popup-docs">Matches a string or an object that supports being matched against, and returns an array
containing the results of that search, or null if no matches are found.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">matcher An object that supports being matched against.</span></span></div></span>match</span></span><span style="color:#666666">(</span><span style="color:#C98A7D99">/</span><span style="color:#4D9375">^</span><span style="color:#C4704F">#</span><span style="color:#666666">[</span><span style="color:#C99076">a-fA-F0-9</span><span style="color:#666666">]</span><span style="color:#4C9A91">{6}</span><span style="color:#4D9375">$</span><span style="color:#C98A7D99">/</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#666666">).</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">Runtype</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">string</span><span style="color:#666666">>.</span><span style="color:#80A665">withBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">HexColour</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>(</span><span style="color:#BD976A">brand</span><span style="color:#DBD7CAEE">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">HexColour</span><span style="color:#C98A7D99">"</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">HexColour</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">,</span><span style="color:#BD976A"> string</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>></span></code><div class="twoslash-popup-docs">Adds a brand to the type.</div></span>withBrand</span></span><span style="color:#666666">(</span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">HexColour</span><span style="color:#C98A7D99">'</span><span style="color:#666666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">Colour</span><span style="color:#666666">: </span><span style="color:#5DA994">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>, </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>, </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>]></span></code></span>Colour</span></span><span style="color:#666666"> =</span><span style="color:#80A665"> </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>,</span><span style="color:#5DA994"> Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>,</span><span style="color:#5DA994"> Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>]>(</span><span style="color:#BD976A">alternatives_0</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>,</span><span style="color:#BD976A"> alternatives_1</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>,</span><span style="color:#BD976A"> alternatives_2</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Literal</span><span style="color:#666666">&#x3C;...>)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Union</span><span style="color:#666666">&#x3C;...></span></code><div class="twoslash-popup-docs">Construct a union runtype from runtypes for its alternatives.</div></span>Union</span></span><span style="color:#666666">(</span></span>
<span class="line"><span style="color:#666666">  ...(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">COLOURS</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#666666"> [</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">]</span></code></span>COLOURS</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">ReadonlyArray</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>.</span><span style="color:#80A665">map</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>>(</span><span style="color:#BD976A">callbackfn</span><span style="color:#DBD7CAEE">: </span><span style="color:#666666">(</span><span style="color:#BD976A">value</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> | </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> | </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> index</span><span style="color:#666666">: </span><span style="color:#5DA994">number</span><span style="color:#666666">,</span><span style="color:#BD976A"> array</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#666666"> (</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> | </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> | </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">)[])</span><span style="color:#666666"> =></span><span style="color:#BD976A"> Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>,</span><span style="color:#BD976A"> thisArg</span><span style="color:#CB7676">?:</span><span style="color:#BD976A"> any</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Literal</span><span style="color:#666666">&#x3C;...>[]</span></code><div class="twoslash-popup-docs">Calls a defined callback function on each element of an array, and returns an array that contains the results.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">callbackfn A function that accepts up to three arguments. The map method calls the callbackfn function one time for each element in the array.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">thisArg An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.</span></span></div></span>map</span></span><span style="color:#666666">((</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">c</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span></code></span>c</span></span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#80A665"> </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>(</span><span style="color:#BD976A">valueBase</span><span style="color:#DBD7CAEE">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">></span></code><div class="twoslash-popup-docs">Construct a runtype for a type literal.</div></span>Literal</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">c</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span></code></span>c</span></span><span style="color:#666666">))</span><span style="color:#4D9375"> as</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> TupleToLiteral</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]></span><span style="color:#666666"> =</span><span style="color:#5DA994"> T</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#666666"> [</span><span style="color:#CB7676">infer</span><span style="color:#5DA994"> K</span><span style="color:#666666">,</span><span style="color:#666666"> ...</span><span style="color:#CB7676">infer</span><span style="color:#5DA994"> REST</span><span style="color:#666666">]</span><span style="color:#CB7676"> ?</span><span style="color:#5DA994"> K</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> string</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> [</span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">K</span><span style="color:#666666">>,</span><span style="color:#666666"> ...</span><span style="color:#5DA994">TupleToLiteral</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">REST</span><span style="color:#666666">>]</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#CB7676"> :</span><span style="color:#666666"> []</span></code></span>TupleToLiteral</span></span><span style="color:#666666">&#x3C;</span><span style="color:#CB7676">typeof </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">COLOURS</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#666666"> [</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">]</span></code></span>COLOURS</span></span><span style="color:#666666">>)</span></span>
<span class="line"><span style="color:#666666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">HexColourOrColour</span><span style="color:#666666">: </span><span style="color:#5DA994">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">HexColour</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>, </span><span style="color:#5DA994">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>, </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>, </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>]>]></span></code></span>HexColourOrColour</span></span><span style="color:#666666"> =</span><span style="color:#80A665"> </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">HexColour</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#5DA994"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">,</span><span style="color:#5DA994"> string</span><span style="color:#666666">,</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">>>,</span><span style="color:#5DA994"> Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>,</span><span style="color:#5DA994"> Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>,</span><span style="color:#5DA994"> Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>]>]>(</span><span style="color:#BD976A">alternatives_0</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Brand</span><span style="color:#666666">&#x3C;...>,</span><span style="color:#BD976A"> alternatives_1</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Union</span><span style="color:#666666">&#x3C;...>)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Union</span><span style="color:#666666">&#x3C;...></span></code><div class="twoslash-popup-docs">Construct a union runtype from runtypes for its alternatives.</div></span>Union</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">HexColour</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">HexColour</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>></span></code></span>HexColour</span></span><span style="color:#666666">,</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">Colour</span><span style="color:#666666">: </span><span style="color:#5DA994">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>, </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>, </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>]></span></code></span>Colour</span></span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> HexColourOrColour</span><span style="color:#666666"> =</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> |</span><span style="color:#666666"> (</span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26;</span><span style="color:#5DA994"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">HexColour</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>)</span></code></span>HexColourOrColour</span></span><span style="color:#666666"> =</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Static</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">A</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> RuntypeBase</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">unknown</span><span style="color:#666666">>></span><span style="color:#666666"> =</span><span style="color:#5DA994"> A</span><span style="color:#666666">[</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">_falseWitness</span><span style="color:#C98A7D99">"</span><span style="color:#666666">]</span></code><div class="twoslash-popup-docs">Obtains the static type associated with a Runtype.</div></span>Static</span></span><span style="color:#666666">&#x3C;</span><span style="color:#CB7676">typeof</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">HexColourOrColour</span><span style="color:#666666">: </span><span style="color:#5DA994">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">HexColour</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>, </span><span style="color:#5DA994">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>, </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>, </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>]>]></span></code></span>HexColourOrColour</span></span><span style="color:#666666">>;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">ProfileListener</span><span style="color:#666666">: </span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">listener</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    boughtTracks</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegativeInteger</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Number</span><span style="color:#666666">, </span><span style="color:#5DA994">number</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>, </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;...>>]>>;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#CB7676">false</span><span style="color:#666666">></span></span></code></pre></code></span>ProfileListener</span></span><span style="color:#666666"> =</span><span style="color:#80A665"> </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">listener</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    boughtTracks</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegativeInteger</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Number</span><span style="color:#666666">, </span><span style="color:#5DA994">number</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>, </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;...>>]>>;</span></span>
<span class="line"><span style="color:#666666">}>(</span><span style="color:#BD976A">fields</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">}):</span><span style="color:#5DA994"> Record</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">></span></span></code></pre></code></span>Record</span></span><span style="color:#666666">({</span></span>
<span class="line"><span style="color:#B8A965">  </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">type</span><span style="color:#666666">:</span><span style="color:#BD976A"> Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">listener</span><span style="color:#C98A7D99">"</span><span style="color:#666666">></span></code></span>type</span></span><span style="color:#666666">: </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">listener</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>(</span><span style="color:#BD976A">valueBase</span><span style="color:#DBD7CAEE">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">listener</span><span style="color:#C98A7D99">"</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">listener</span><span style="color:#C98A7D99">"</span><span style="color:#666666">></span></code><div class="twoslash-popup-docs">Construct a runtype for a type literal.</div></span>Literal</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">PROFILE_TYPE_LISTENER</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">listener</span><span style="color:#C98A7D99">"</span></code></span>PROFILE_TYPE_LISTENER</span></span><span style="color:#666666">),</span></span>
<span class="line"><span style="color:#B8A965">  </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">boughtTracks</span><span style="color:#666666">:</span><span style="color:#BD976A"> Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegativeInteger</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#BD976A">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Number</span><span style="color:#666666">,</span><span style="color:#BD976A"> number</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>></span><span style="color:#666666">,</span><span style="color:#BD976A"> Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Number</span><span style="color:#666666">,</span><span style="color:#BD976A"> number</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>></span><span style="color:#666666">]</span><span style="color:#CB7676">>></span></code></span>boughtTracks</span></span><span style="color:#666666">: </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">NonNegativeInteger</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegativeInteger</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Number</span><span style="color:#666666">, </span><span style="color:#5DA994">number</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>, </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Number</span><span style="color:#666666">, </span><span style="color:#5DA994">number</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>]>></span></code></span>NonNegativeInteger</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#666666">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">ProfileArtist</span><span style="color:#666666">: </span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">artist</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    publishedTracks</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegativeInteger</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Number</span><span style="color:#666666">, </span><span style="color:#5DA994">number</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>, </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;...>>]>>;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#CB7676">false</span><span style="color:#666666">></span></span></code></pre></code></span>ProfileArtist</span></span><span style="color:#666666"> =</span><span style="color:#80A665"> </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">artist</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    publishedTracks</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegativeInteger</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Number</span><span style="color:#666666">, </span><span style="color:#5DA994">number</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>, </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;...>>]>>;</span></span>
<span class="line"><span style="color:#666666">}>(</span><span style="color:#BD976A">fields</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">}):</span><span style="color:#5DA994"> Record</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">></span></span></code></pre></code></span>Record</span></span><span style="color:#666666">({</span></span>
<span class="line"><span style="color:#B8A965">  </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">type</span><span style="color:#666666">:</span><span style="color:#BD976A"> Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">artist</span><span style="color:#C98A7D99">"</span><span style="color:#666666">></span></code></span>type</span></span><span style="color:#666666">: </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">artist</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>(</span><span style="color:#BD976A">valueBase</span><span style="color:#DBD7CAEE">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">artist</span><span style="color:#C98A7D99">"</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">artist</span><span style="color:#C98A7D99">"</span><span style="color:#666666">></span></code><div class="twoslash-popup-docs">Construct a runtype for a type literal.</div></span>Literal</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">PROFILE_TYPE_ARTIST</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">artist</span><span style="color:#C98A7D99">"</span></code></span>PROFILE_TYPE_ARTIST</span></span><span style="color:#666666">),</span></span>
<span class="line"><span style="color:#B8A965">  </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">publishedTracks</span><span style="color:#666666">:</span><span style="color:#BD976A"> Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegativeInteger</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#BD976A">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Number</span><span style="color:#666666">,</span><span style="color:#BD976A"> number</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>></span><span style="color:#666666">,</span><span style="color:#BD976A"> Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Number</span><span style="color:#666666">,</span><span style="color:#BD976A"> number</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>></span><span style="color:#666666">]</span><span style="color:#CB7676">>></span></code></span>publishedTracks</span></span><span style="color:#666666">: </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">NonNegativeInteger</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegativeInteger</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Number</span><span style="color:#666666">, </span><span style="color:#5DA994">number</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>, </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Number</span><span style="color:#666666">, </span><span style="color:#5DA994">number</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>]>></span></code></span>NonNegativeInteger</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#666666">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">Profile</span><span style="color:#666666">: </span><span style="color:#5DA994">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">listener</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    boughtTracks</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegativeInteger</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Number</span><span style="color:#666666">, </span><span style="color:#5DA994">number</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>, </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;...>>]>>;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#CB7676">false</span><span style="color:#666666">>, </span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;...>]></span></span></code></pre></code></span>Profile</span></span><span style="color:#666666"> =</span><span style="color:#80A665"> </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#80A665">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">listener</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    boughtTracks</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegativeInteger</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Number</span><span style="color:#666666">, </span><span style="color:#5DA994">number</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>, </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;...>>]>>;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#CB7676"> false</span><span style="color:#666666">>,</span><span style="color:#BD976A"> Record</span><span style="color:#666666">&#x3C;...>]>(</span><span style="color:#BD976A">alternatives_0</span><span style="color:#666666">: </span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;...>,</span><span style="color:#BD976A"> alternatives_1</span><span style="color:#666666">: </span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;...>):</span><span style="color:#5DA994"> Union</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">></span></span></code></pre></code><div class="twoslash-popup-docs">Construct a union runtype from runtypes for its alternatives.</div></span>Union</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">ProfileListener</span><span style="color:#666666">: </span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">listener</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    boughtTracks</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegativeInteger</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Number</span><span style="color:#666666">, </span><span style="color:#5DA994">number</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>, </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;...>>]>>;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#CB7676">false</span><span style="color:#666666">></span></span></code></pre></code></span>ProfileListener</span></span><span style="color:#666666">,</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">ProfileArtist</span><span style="color:#666666">: </span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">artist</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    publishedTracks</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegativeInteger</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Number</span><span style="color:#666666">, </span><span style="color:#5DA994">number</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>, </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;...>>]>>;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#CB7676">false</span><span style="color:#666666">></span></span></code></pre></code></span>ProfileArtist</span></span><span style="color:#666666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">TemporalConcernUnsorted</span><span style="color:#666666">: </span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    createdAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#BD976A">    updatedAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#CB7676">false</span><span style="color:#666666">></span></span></code></pre></code></span>TemporalConcernUnsorted</span></span><span style="color:#666666"> =</span><span style="color:#80A665"> </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    createdAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#BD976A">    updatedAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">}>(</span><span style="color:#BD976A">fields</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">}):</span><span style="color:#5DA994"> Record</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">></span></span></code></pre></code></span>Record</span></span><span style="color:#666666">({</span></span>
<span class="line"><span style="color:#B8A965">  </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">createdAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">,</span><span style="color:#BD976A"> string</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>></span></code></span>createdAt</span></span><span style="color:#666666">: </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">IsoDateString</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>></span></code></span>IsoDateString</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#B8A965">  </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">updatedAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">,</span><span style="color:#BD976A"> string</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>></span></code></span>updatedAt</span></span><span style="color:#666666">: </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">IsoDateString</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>></span></code></span>IsoDateString</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#666666">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">TemporalConcern</span><span style="color:#666666">: </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    createdAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#BD976A">    updatedAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#CB7676">false</span><span style="color:#666666">>, {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">></span></span></code></pre></code></span>TemporalConcern</span></span><span style="color:#666666"> =</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">TemporalConcernUnsorted</span><span style="color:#666666">: </span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    createdAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#BD976A">    updatedAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#CB7676">false</span><span style="color:#666666">></span></span></code></pre></code></span>TemporalConcernUnsorted</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Runtype</span><span style="color:#666666">&#x3C;{</span><span style="color:#80A665"> createdAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span><span style="color:#80A665"> updatedAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span><span style="color:#666666"> }>.</span><span style="color:#80A665">withConstraint</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    createdAt</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    updatedAt</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">>(</span><span style="color:#BD976A">constraint</span><span style="color:#666666">: </span><span style="color:#5DA994">ConstraintCheck</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    createdAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;...>>;</span></span>
<span class="line"><span style="color:#BD976A">    updatedAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;...>;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#CB7676">false</span><span style="color:#666666">>>,</span><span style="color:#BD976A"> options</span><span style="color:#CB7676">?</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">} | </span><span style="color:#CB7676">undefined</span><span style="color:#666666">):</span><span style="color:#5DA994"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">></span></span></code></pre></code><div class="twoslash-popup-docs">Use an arbitrary constraint function to validate a runtype, and optionally
to change its name and/or its static type.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@template</span><span class="twoslash-popup-docs-tag-value">T - Optionally override the static type of the resulting runtype</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">constraint - Custom function
that returns \`true\` if the constraint is satisfied, \`false\` or a custom
error message if not.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">options</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">options.name - allows setting the name of this
constrained runtype, which is helpful in reflection or diagnostic
use-cases.</span></span></div></span>withConstraint</span></span><span style="color:#666666">((</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">v</span><span style="color:#666666">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>v</span></span><span style="color:#666666">)</span><span style="color:#666666"> =></span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">v</span><span style="color:#666666">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>v</span></span><span style="color:#666666">.</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">createdAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">></span></code></span>createdAt</span></span><span style="color:#666666"> &#x3C;=</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">v</span><span style="color:#666666">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>v</span></span><span style="color:#666666">.</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">updatedAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">></span></code></span>updatedAt</span></span></span>
<span class="line"><span style="color:#CB7676">    ? </span><span style="color:#4D9375">true</span></span>
<span class="line"><span style="color:#CB7676">    : </span><span style="color:#C98A7D99">\`</span><span style="color:#C98A7D">createdAt must be less or equal than updatedAt</span><span style="color:#C98A7D99">\`</span></span>
<span class="line"><span style="color:#666666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> FileSystem</span><span style="color:#666666"> =</span><span style="color:#666666"> ({</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#5DA994"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">})</span><span style="color:#666666"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">: </span><span style="color:#5DA994">NonEmptyString</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>FileSystem</span></span><span style="color:#666666"> =</span><span style="color:#666666"> (</span></span>
<span class="line"><span style="color:#666666">  |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#CB7676">      readonly</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">type</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">"</span></code></span>type</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">      readonly</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">children</span><span style="color:#666666">:</span><span style="color:#BD976A"> readonly</span><span style="color:#BD976A"> FileSystem</span><span style="color:#666666">[]</span></code></span>children</span></span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> FileSystem</span><span style="color:#666666"> =</span><span style="color:#666666"> ({</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#5DA994"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">})</span><span style="color:#666666"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">: </span><span style="color:#5DA994">NonEmptyString</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>FileSystem</span></span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">    }</span></span>
<span class="line"><span style="color:#666666">  |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#CB7676">      readonly</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">type</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span></code></span>type</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    }</span></span>
<span class="line"><span style="color:#666666">)</span><span style="color:#666666"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#CB7676">  readonly</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">name</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">></span></code></span>name</span></span><span style="color:#666666">: </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> NonEmptyString</span><span style="color:#666666"> =</span><span style="color:#5DA994"> string</span><span style="color:#666666"> &#x26;</span><span style="color:#5DA994"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">></span></code></span>NonEmptyString</span></span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">FileSystemCommon</span><span style="color:#666666">: </span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#CB7676">false</span><span style="color:#666666">></span></span></code></pre></code></span>FileSystemCommon</span></span><span style="color:#666666"> =</span><span style="color:#80A665"> </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">}>(</span><span style="color:#BD976A">fields</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">}):</span><span style="color:#5DA994"> Record</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">></span></span></code></pre></code></span>Record</span></span><span style="color:#666666">({</span></span>
<span class="line"><span style="color:#B8A965">  </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">name</span><span style="color:#666666">:</span><span style="color:#BD976A"> Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">,</span><span style="color:#BD976A"> string</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>></span></code></span>name</span></span><span style="color:#666666">: </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">NonEmptyString</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>></span></code></span>NonEmptyString</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#666666">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">FileSystemDirectory</span><span style="color:#666666">: </span><span style="color:#5DA994">Runtype</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#5DA994"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">} &#x26; {</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">: </span><span style="color:#5DA994">NonEmptyString</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">} &#x26; {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}></span></span></code></pre></code></span>FileSystemDirectory</span></span><span style="color:#666666">: </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">interface</span><span style="color:#5DA994"> Runtype</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">A</span><span style="color:#666666"> =</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">></span></code><div class="twoslash-popup-docs">A runtype determines at runtime whether a value conforms to a type specification.</div></span>Runtype</span></span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> FileSystem</span><span style="color:#666666"> =</span><span style="color:#666666"> ({</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#5DA994"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">})</span><span style="color:#666666"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">: </span><span style="color:#5DA994">NonEmptyString</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>FileSystem</span></span><span style="color:#666666"> &#x26; { </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">type</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">"</span></code></span>type</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666"> }> =</span><span style="color:#80A665"> </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Lazy</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#80A665">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#CB7676"> false</span><span style="color:#666666">>,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#80A665">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    children</span><span style="color:#666666">: </span><span style="color:#5DA994">Array</span><span style="color:#666666">&#x3C;...>;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#CB7676"> false</span><span style="color:#666666">>,</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#BD976A"> unknown</span><span style="color:#666666">>]</span><span style="color:#CB7676">>></span><span style="color:#666666">(</span><span style="color:#80A665">delayed</span><span style="color:#666666">: () => </span><span style="color:#5DA994">Intersect</span><span style="color:#666666">&#x3C;...>):</span><span style="color:#5DA994"> Intersect</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">></span></span></code></pre></code><div class="twoslash-popup-docs">Construct a possibly-recursive Runtype.</div></span>Lazy</span></span><span style="color:#666666">(</span></span>
<span class="line"><span style="color:#666666">  ()</span><span style="color:#666666"> =></span></span>
<span class="line"><span style="color:#80A665">    </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#80A665">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#CB7676"> false</span><span style="color:#666666">>,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#80A665">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    children</span><span style="color:#666666">: </span><span style="color:#5DA994">Array</span><span style="color:#666666">&#x3C;...>;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#CB7676"> false</span><span style="color:#666666">>,</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#BD976A"> unknown</span><span style="color:#666666">>]>(</span><span style="color:#BD976A">intersectees_0</span><span style="color:#666666">: </span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;...>,</span><span style="color:#BD976A"> intersectees_1</span><span style="color:#666666">: </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;...>):</span><span style="color:#5DA994"> Intersect</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">></span></span></code></pre></code><div class="twoslash-popup-docs">Construct an intersection runtype from runtypes for its alternatives.</div></span>Intersect</span></span><span style="color:#666666">(</span></span>
<span class="line"><span style="color:#BD976A">      </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">FileSystemCommon</span><span style="color:#666666">: </span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#CB7676">false</span><span style="color:#666666">></span></span></code></pre></code></span>FileSystemCommon</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#80A665">      </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    children</span><span style="color:#666666">: </span><span style="color:#5DA994">Array</span><span style="color:#666666">&#x3C;...>;</span></span>
<span class="line"><span style="color:#666666">}>(</span><span style="color:#BD976A">fields</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">}):</span><span style="color:#5DA994"> Record</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">></span></span></code></pre></code></span>Record</span></span><span style="color:#666666">({</span></span>
<span class="line"><span style="color:#B8A965">        </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">type</span><span style="color:#666666">:</span><span style="color:#BD976A"> Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">"</span><span style="color:#666666">></span></code></span>type</span></span><span style="color:#666666">: </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>(</span><span style="color:#BD976A">valueBase</span><span style="color:#DBD7CAEE">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">"</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">"</span><span style="color:#666666">></span></code><div class="twoslash-popup-docs">Construct a runtype for a type literal.</div></span>Literal</span></span><span style="color:#666666">(</span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">),</span></span>
<span class="line"><span style="color:#B8A965">        </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">children</span><span style="color:#666666">:</span><span style="color:#BD976A"> Array</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#80A665">Runtype</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#5DA994"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">: </span><span style="color:#5DA994">NonEmptyString</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}>,</span><span style="color:#BD976A"> Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#80A665">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#CB7676"> false</span><span style="color:#666666">>,</span><span style="color:#BD976A"> Record</span><span style="color:#666666">&#x3C;...>]>]>,</span><span style="color:#4D9375"> false</span><span style="color:#666666">></span></span></code></pre></code></span>children</span></span><span style="color:#666666">: </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Array</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#80A665">Runtype</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#5DA994"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">: </span><span style="color:#5DA994">NonEmptyString</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}>,</span><span style="color:#BD976A"> Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#80A665">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#CB7676"> false</span><span style="color:#666666">>,</span><span style="color:#BD976A"> Record</span><span style="color:#666666">&#x3C;...>]>]>,</span><span style="color:#BD976A"> boolean</span><span style="color:#666666">>(</span><span style="color:#BD976A">element</span><span style="color:#666666">: </span><span style="color:#5DA994">Union</span><span style="color:#666666">&#x3C;...>):</span><span style="color:#5DA994"> Array</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">></span></span></code></pre></code></span>Array</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">FileSystem</span><span style="color:#666666">: </span><span style="color:#5DA994">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Runtype</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#5DA994"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">} &#x26; {</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">: </span><span style="color:#5DA994">NonEmptyString</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">} &#x26; {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}>, </span><span style="color:#5DA994">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#CB7676">false</span><span style="color:#666666">>, </span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;...>]>]></span></span></code></pre></code></span>FileSystem</span></span><span style="color:#666666">),</span></span>
<span class="line"><span style="color:#666666">      }).</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Runtype</span><span style="color:#666666">&#x3C;{</span><span style="color:#80A665"> type</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span><span style="color:#80A665"> children</span><span style="color:#666666">:</span><span style="color:#666666"> (({ readonly </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">; </span><span style="color:#BD976A">readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#BD976A">readonly</span><span style="color:#BD976A"> FileSystem</span><span style="color:#666666">[]; }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> { readonly </span><span style="color:#B8A965">name</span><span style="color:#666666">: </span><span style="color:#BD976A">NonEmptyString</span><span style="color:#666666">; }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> { </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">; })</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ({ </span><span style="color:#B8A965">name</span><span style="color:#666666">: </span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>; }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> { </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">; }))[];</span><span style="color:#666666"> }>.</span><span style="color:#80A665">withConstraint</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">>(</span><span style="color:#BD976A">constraint</span><span style="color:#666666">: </span><span style="color:#5DA994">ConstraintCheck</span><span style="color:#666666">&#x3C;...>,</span><span style="color:#BD976A"> options</span><span style="color:#CB7676">?</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">} | </span><span style="color:#CB7676">undefined</span><span style="color:#666666">):</span><span style="color:#5DA994"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">></span></span></code></pre></code><div class="twoslash-popup-docs">Use an arbitrary constraint function to validate a runtype, and optionally
to change its name and/or its static type.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@template</span><span class="twoslash-popup-docs-tag-value">T - Optionally override the static type of the resulting runtype</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">constraint - Custom function
that returns \`true\` if the constraint is satisfied, \`false\` or a custom
error message if not.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">options</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">options.name - allows setting the name of this
constrained runtype, which is helpful in reflection or diagnostic
use-cases.</span></span></div></span>withConstraint</span></span><span style="color:#666666">((</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">v</span><span style="color:#666666">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#80A665">    type</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    children</span><span style="color:#666666">:</span><span style="color:#666666"> (({</span></span>
<span class="line"><span style="color:#666666">        readonly </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#BD976A">readonly</span><span style="color:#BD976A"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">        readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">:</span><span style="color:#BD976A"> NonEmptyString</span><span style="color:#DBD7CAEE">;</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> '</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#DBD7CAEE">;</span></span>
<span class="line"><span style="color:#666666">    })</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ({</span></span>
<span class="line"><span style="color:#B8A965">        name</span><span style="color:#666666">: </span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#B8A965">        type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    }))[];</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>v</span></span><span style="color:#666666">)</span><span style="color:#666666"> =></span></span>
<span class="line"><span style="color:#CB7676">        new </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">var </span><span style="color:#BD976A">Set</span><span style="color:#666666">: </span><span style="color:#5DA994">SetConstructor</span></span>
<span class="line"><span style="color:#CB7676">new</span><span style="color:#666666"> &#x3C;</span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676">>></span><span style="color:#666666">(</span><span style="color:#BD976A">iterable</span><span style="color:#CB7676">?</span><span style="color:#666666">: </span><span style="color:#5DA994">Iterable</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>> | </span><span style="color:#CB7676">null</span><span style="color:#666666"> | </span><span style="color:#CB7676">undefined</span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#BD976A"> Set</span><span style="color:#666666">&#x3C;...></span><span style="color:#666666"> (</span><span style="color:#CB7676">+</span><span style="color:#4C9A91">1</span><span style="color:#BD976A"> overload</span><span style="color:#666666">)</span></span></code></pre></code></span>Set</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">v</span><span style="color:#666666">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#80A665">    type</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    children</span><span style="color:#666666">:</span><span style="color:#666666"> (({</span></span>
<span class="line"><span style="color:#666666">        readonly </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#BD976A">readonly</span><span style="color:#BD976A"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">        readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">:</span><span style="color:#BD976A"> NonEmptyString</span><span style="color:#DBD7CAEE">;</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> '</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#DBD7CAEE">;</span></span>
<span class="line"><span style="color:#666666">    })</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ({</span></span>
<span class="line"><span style="color:#B8A965">        name</span><span style="color:#666666">: </span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#B8A965">        type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    }))[];</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>v</span></span><span style="color:#666666">.</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">children</span><span style="color:#666666">:</span><span style="color:#666666"> (({</span></span>
<span class="line"><span style="color:#666666">    readonly </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#BD976A">readonly</span><span style="color:#BD976A"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">:</span><span style="color:#BD976A"> NonEmptyString</span><span style="color:#DBD7CAEE">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> '</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#DBD7CAEE">;</span></span>
<span class="line"><span style="color:#666666">})</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ({</span></span>
<span class="line"><span style="color:#B8A965">    name</span><span style="color:#666666">: </span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#B8A965">    type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}))[]</span></span></code></pre></code></span>children</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Array</span><span style="color:#666666">&#x3C;({ readonly </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">; </span><span style="color:#BD976A">readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#BD976A">readonly</span><span style="color:#BD976A"> FileSystem</span><span style="color:#666666">[]; }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> { readonly </span><span style="color:#B8A965">name</span><span style="color:#666666">: </span><span style="color:#BD976A">NonEmptyString</span><span style="color:#666666">; }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> { </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">; })</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ({ </span><span style="color:#B8A965">name</span><span style="color:#666666">: </span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>; }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> { </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">; })>.</span><span style="color:#80A665">map</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26;</span><span style="color:#5DA994"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>>(</span><span style="color:#BD976A">callbackfn</span><span style="color:#DBD7CAEE">: </span><span style="color:#666666">(</span><span style="color:#80A665">value</span><span style="color:#666666">: ({</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#5DA994"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">} &#x26; {</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">: </span><span style="color:#5DA994">NonEmptyString</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">} &#x26; {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}) | ({</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">} &#x26; {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">}),</span><span style="color:#BD976A"> index</span><span style="color:#666666">: </span><span style="color:#5DA994">number</span><span style="color:#666666">,</span><span style="color:#BD976A"> array</span><span style="color:#666666">: (({</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#5DA994"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">} &#x26; ... </span><span style="color:#4C9A91">1</span><span style="color:#5DA994"> more</span><span style="color:#666666"> ... &#x26; {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}) | ({</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">} &#x26; {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">}))[])</span><span style="color:#666666"> =></span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;...>,</span><span style="color:#BD976A"> thisArg</span><span style="color:#CB7676">?:</span><span style="color:#BD976A"> any</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#666666">(</span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;...>)[]</span></span></code></pre></code><div class="twoslash-popup-docs">Calls a defined callback function on each element of an array, and returns an array that contains the results.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">callbackfn A function that accepts up to three arguments. The map method calls the callbackfn function one time for each element in the array.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">thisArg An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.</span></span></div></span>map</span></span><span style="color:#666666">((</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">c</span><span style="color:#666666">:</span><span style="color:#666666"> ({</span></span>
<span class="line"><span style="color:#666666">    readonly </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#BD976A">readonly</span><span style="color:#BD976A"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">    readonly </span><span style="color:#B8A965">name</span><span style="color:#666666">: </span><span style="color:#BD976A">NonEmptyString</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#B8A965">    type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">})</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ({</span></span>
<span class="line"><span style="color:#B8A965">    name</span><span style="color:#666666">: </span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#B8A965">    type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">})</span></span></code></pre></code></span>c</span></span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">c</span><span style="color:#666666">:</span><span style="color:#666666"> ({</span></span>
<span class="line"><span style="color:#666666">    readonly </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#BD976A">readonly</span><span style="color:#BD976A"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">    readonly </span><span style="color:#B8A965">name</span><span style="color:#666666">: </span><span style="color:#BD976A">NonEmptyString</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#B8A965">    type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">})</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ({</span></span>
<span class="line"><span style="color:#B8A965">    name</span><span style="color:#666666">: </span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#B8A965">    type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">})</span></span></code></pre></code></span>c</span></span><span style="color:#666666">.</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">name</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">></span></code></span>name</span></span><span style="color:#666666">)).</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">Set</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676">>></span><span style="color:#666666">.</span><span style="color:#BD976A">size</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">number</span></code><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@returns</span><span class="twoslash-popup-docs-tag-value">the number of (unique) elements in Set.</span></span></div></span>size</span></span><span style="color:#CB7676"> === </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">v</span><span style="color:#666666">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#80A665">    type</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    children</span><span style="color:#666666">:</span><span style="color:#666666"> (({</span></span>
<span class="line"><span style="color:#666666">        readonly </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#BD976A">readonly</span><span style="color:#BD976A"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">        readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">:</span><span style="color:#BD976A"> NonEmptyString</span><span style="color:#DBD7CAEE">;</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> '</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#DBD7CAEE">;</span></span>
<span class="line"><span style="color:#666666">    })</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ({</span></span>
<span class="line"><span style="color:#B8A965">        name</span><span style="color:#666666">: </span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#B8A965">        type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    }))[];</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>v</span></span><span style="color:#666666">.</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">children</span><span style="color:#666666">:</span><span style="color:#666666"> (({</span></span>
<span class="line"><span style="color:#666666">    readonly </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#BD976A">readonly</span><span style="color:#BD976A"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">:</span><span style="color:#BD976A"> NonEmptyString</span><span style="color:#DBD7CAEE">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> '</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#DBD7CAEE">;</span></span>
<span class="line"><span style="color:#666666">})</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ({</span></span>
<span class="line"><span style="color:#B8A965">    name</span><span style="color:#666666">: </span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#B8A965">    type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}))[]</span></span></code></pre></code></span>children</span></span><span style="color:#666666">.</span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">Array</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">T</span><span style="color:#666666">>.</span><span style="color:#B8A965">length</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">number</span></code><div class="twoslash-popup-docs">Gets or sets the length of the array. This is a number one higher than the highest index in the array.</div></span>length</span></span></span>
<span class="line"><span style="color:#CB7676">          ? </span><span style="color:#4D9375">true</span></span>
<span class="line"><span style="color:#CB7676">          : </span><span style="color:#C98A7D99">\`</span><span style="color:#C98A7D">Expected unique names, got </span><span style="color:#666666">\${</span><span style="color:#C98A7D"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">var </span><span style="color:#BD976A">JSON</span><span style="color:#666666">: </span><span style="color:#5DA994">JSON</span></code><div class="twoslash-popup-docs">An intrinsic object that provides functions to convert JavaScript values to and from the JavaScript Object Notation (JSON) format.</div></span>JSON</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">JSON</span><span style="color:#666666">.</span><span style="color:#80A665">stringify</span><span style="color:#666666">(</span><span style="color:#BD976A">value</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">any</span><span style="color:#666666">,</span><span style="color:#BD976A"> replacer</span><span style="color:#CB7676">?:</span><span style="color:#666666"> ((</span><span style="color:#C99076">this</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">,</span><span style="color:#BD976A"> key</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666">,</span><span style="color:#BD976A"> value</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#BD976A"> any</span><span style="color:#666666">)</span><span style="color:#CB7676"> |</span><span style="color:#CB7676"> undefined</span><span style="color:#666666">,</span><span style="color:#BD976A"> space</span><span style="color:#CB7676">?:</span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> |</span><span style="color:#BD976A"> number</span><span style="color:#CB7676"> |</span><span style="color:#CB7676"> undefined</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#80A665">string</span><span style="color:#666666"> (</span><span style="color:#CB7676">+</span><span style="color:#4C9A91">1</span><span style="color:#BD976A"> overload</span><span style="color:#666666">)</span></code><div class="twoslash-popup-docs">Converts a JavaScript value to a JavaScript Object Notation (JSON) string.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">value A JavaScript value, usually an object or array, to be converted.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">replacer A function that transforms the results.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">space Adds indentation, white space, and line break characters to the return-value JSON text to make it easier to read.</span></span></div></span>stringify</span></span><span style="color:#666666">(</span></span>
<span class="line"><span style="color:#C98A7D">              </span><span style="color:#C98A7D"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">v</span><span style="color:#666666">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#80A665">    type</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    children</span><span style="color:#666666">:</span><span style="color:#666666"> (({</span></span>
<span class="line"><span style="color:#666666">        readonly </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#BD976A">readonly</span><span style="color:#BD976A"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">        readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">:</span><span style="color:#BD976A"> NonEmptyString</span><span style="color:#DBD7CAEE">;</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> '</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#DBD7CAEE">;</span></span>
<span class="line"><span style="color:#666666">    })</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ({</span></span>
<span class="line"><span style="color:#B8A965">        name</span><span style="color:#666666">: </span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#B8A965">        type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    }))[];</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>v</span></span><span style="color:#666666">.</span><span style="color:#C98A7D"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">children</span><span style="color:#666666">:</span><span style="color:#666666"> (({</span></span>
<span class="line"><span style="color:#666666">    readonly </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#BD976A">readonly</span><span style="color:#BD976A"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">:</span><span style="color:#BD976A"> NonEmptyString</span><span style="color:#DBD7CAEE">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> '</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#DBD7CAEE">;</span></span>
<span class="line"><span style="color:#666666">})</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ({</span></span>
<span class="line"><span style="color:#B8A965">    name</span><span style="color:#666666">: </span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#B8A965">    type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}))[]</span></span></code></pre></code></span>children</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Array</span><span style="color:#666666">&#x3C;({ readonly </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">; </span><span style="color:#BD976A">readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#BD976A">readonly</span><span style="color:#BD976A"> FileSystem</span><span style="color:#666666">[]; }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> { readonly </span><span style="color:#B8A965">name</span><span style="color:#666666">: </span><span style="color:#BD976A">NonEmptyString</span><span style="color:#666666">; }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> { </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">; })</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ({ </span><span style="color:#B8A965">name</span><span style="color:#666666">: </span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>; }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> { </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">; })>.</span><span style="color:#80A665">map</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26;</span><span style="color:#5DA994"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>>(</span><span style="color:#BD976A">callbackfn</span><span style="color:#DBD7CAEE">: </span><span style="color:#666666">(</span><span style="color:#80A665">value</span><span style="color:#666666">: ({</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#5DA994"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">} &#x26; {</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">: </span><span style="color:#5DA994">NonEmptyString</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">} &#x26; {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}) | ({</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">} &#x26; {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">}),</span><span style="color:#BD976A"> index</span><span style="color:#666666">: </span><span style="color:#5DA994">number</span><span style="color:#666666">,</span><span style="color:#BD976A"> array</span><span style="color:#666666">: (({</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#5DA994"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">} &#x26; ... </span><span style="color:#4C9A91">1</span><span style="color:#5DA994"> more</span><span style="color:#666666"> ... &#x26; {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}) | ({</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">} &#x26; {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">}))[])</span><span style="color:#666666"> =></span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;...>,</span><span style="color:#BD976A"> thisArg</span><span style="color:#CB7676">?:</span><span style="color:#BD976A"> any</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#666666">(</span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;...>)[]</span></span></code></pre></code><div class="twoslash-popup-docs">Calls a defined callback function on each element of an array, and returns an array that contains the results.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">callbackfn A function that accepts up to three arguments. The map method calls the callbackfn function one time for each element in the array.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">thisArg An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.</span></span></div></span>map</span></span><span style="color:#666666">((</span><span style="color:#C98A7D"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">c</span><span style="color:#666666">:</span><span style="color:#666666"> ({</span></span>
<span class="line"><span style="color:#666666">    readonly </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#BD976A">readonly</span><span style="color:#BD976A"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">    readonly </span><span style="color:#B8A965">name</span><span style="color:#666666">: </span><span style="color:#BD976A">NonEmptyString</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#B8A965">    type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">})</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ({</span></span>
<span class="line"><span style="color:#B8A965">    name</span><span style="color:#666666">: </span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#B8A965">    type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">})</span></span></code></pre></code></span>c</span></span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#C98A7D"> </span><span style="color:#C98A7D"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">c</span><span style="color:#666666">:</span><span style="color:#666666"> ({</span></span>
<span class="line"><span style="color:#666666">    readonly </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#BD976A">readonly</span><span style="color:#BD976A"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">    readonly </span><span style="color:#B8A965">name</span><span style="color:#666666">: </span><span style="color:#BD976A">NonEmptyString</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#B8A965">    type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">})</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ({</span></span>
<span class="line"><span style="color:#B8A965">    name</span><span style="color:#666666">: </span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#B8A965">    type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">})</span></span></code></pre></code></span>c</span></span><span style="color:#666666">.</span><span style="color:#C98A7D"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">name</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">></span></code></span>name</span></span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#666666">            )</span><span style="color:#666666">}</span><span style="color:#C98A7D99">\`</span></span>
<span class="line"><span style="color:#666666">      )</span></span>
<span class="line"><span style="color:#666666">    )</span></span>
<span class="line"><span style="color:#666666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">FileSystemFile</span><span style="color:#666666">: </span><span style="color:#5DA994">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#CB7676">false</span><span style="color:#666666">>, </span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#CB7676">false</span><span style="color:#666666">>]></span></span></code></pre></code></span>FileSystemFile</span></span><span style="color:#666666"> =</span><span style="color:#80A665"> </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#80A665">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#CB7676"> false</span><span style="color:#666666">>,</span><span style="color:#80A665"> Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#CB7676"> false</span><span style="color:#666666">>]>(</span><span style="color:#BD976A">intersectees_0</span><span style="color:#666666">: </span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;...>,</span><span style="color:#BD976A"> intersectees_1</span><span style="color:#666666">: </span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;...>):</span><span style="color:#5DA994"> Intersect</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">></span></span></code></pre></code><div class="twoslash-popup-docs">Construct an intersection runtype from runtypes for its alternatives.</div></span>Intersect</span></span><span style="color:#666666">(</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">FileSystemCommon</span><span style="color:#666666">: </span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#CB7676">false</span><span style="color:#666666">></span></span></code></pre></code></span>FileSystemCommon</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#80A665">  </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">}>(</span><span style="color:#BD976A">fields</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">}):</span><span style="color:#5DA994"> Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#CB7676"> false</span><span style="color:#666666">></span></span></code></pre></code></span>Record</span></span><span style="color:#666666">({</span></span>
<span class="line"><span style="color:#B8A965">    </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">type</span><span style="color:#666666">:</span><span style="color:#BD976A"> Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">></span></code></span>type</span></span><span style="color:#666666">: </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>(</span><span style="color:#BD976A">valueBase</span><span style="color:#DBD7CAEE">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">></span></code><div class="twoslash-popup-docs">Construct a runtype for a type literal.</div></span>Literal</span></span><span style="color:#666666">(</span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">'</span><span style="color:#666666">),</span></span>
<span class="line"><span style="color:#666666">  })</span></span>
<span class="line"><span style="color:#666666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">FileSystem</span><span style="color:#666666">: </span><span style="color:#5DA994">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Runtype</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#5DA994"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">} &#x26; {</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">: </span><span style="color:#5DA994">NonEmptyString</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">} &#x26; {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}>, </span><span style="color:#5DA994">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#CB7676">false</span><span style="color:#666666">>, </span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;...>]>]></span></span></code></pre></code></span>FileSystem</span></span><span style="color:#666666"> =</span><span style="color:#80A665"> </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#80A665">Runtype</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#5DA994"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">: </span><span style="color:#5DA994">NonEmptyString</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}>,</span><span style="color:#BD976A"> Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#80A665">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#CB7676"> false</span><span style="color:#666666">>,</span><span style="color:#BD976A"> Record</span><span style="color:#666666">&#x3C;...>]>]>(</span><span style="color:#BD976A">alternatives_0</span><span style="color:#666666">: </span><span style="color:#5DA994">Runtype</span><span style="color:#666666">&#x3C;...>,</span><span style="color:#BD976A"> alternatives_1</span><span style="color:#666666">: </span><span style="color:#5DA994">Intersect</span><span style="color:#666666">&#x3C;...>):</span><span style="color:#5DA994"> Union</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">></span></span></code></pre></code><div class="twoslash-popup-docs">Construct a union runtype from runtypes for its alternatives.</div></span>Union</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">FileSystemDirectory</span><span style="color:#666666">: </span><span style="color:#5DA994">Runtype</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#5DA994"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">} &#x26; {</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">: </span><span style="color:#5DA994">NonEmptyString</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">} &#x26; {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}></span></span></code></pre></code></span>FileSystemDirectory</span></span><span style="color:#666666">,</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">FileSystemFile</span><span style="color:#666666">: </span><span style="color:#5DA994">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#CB7676">false</span><span style="color:#666666">>, </span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#CB7676">false</span><span style="color:#666666">>]></span></span></code></pre></code></span>FileSystemFile</span></span><span style="color:#666666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">UserJson</span><span style="color:#666666">: </span><span style="color:#5DA994">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#BD976A">    email</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Email</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>, </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;...>, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">    ... </span><span style="color:#4C9A91">7</span><span style="color:#5DA994"> more</span><span style="color:#666666"> ...;</span></span>
<span class="line"><span style="color:#BD976A">    fileSystem</span><span style="color:#666666">: </span><span style="color:#5DA994">Union</span><span style="color:#666666">&#x3C;...>;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#CB7676">false</span><span style="color:#666666">>, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;...>]></span></span></code></pre></code></span>UserJson</span></span><span style="color:#666666"> =</span><span style="color:#80A665"> </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#80A665">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#BD976A">    email</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Email</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>, </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;...>, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">    ...</span><span style="color:#4C9A91"> 7</span><span style="color:#5DA994"> more</span><span style="color:#666666"> .</span><span style="color:#DBD7CAEE">..</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    fileSystem</span><span style="color:#666666">: </span><span style="color:#5DA994">Union</span><span style="color:#666666">&#x3C;...>;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#CB7676"> false</span><span style="color:#666666">>,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;...>]>(</span><span style="color:#BD976A">intersectees_0</span><span style="color:#666666">: </span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;...>,</span><span style="color:#BD976A"> intersectees_1</span><span style="color:#666666">: </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;...>):</span><span style="color:#5DA994"> Intersect</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">></span></span></code></pre></code><div class="twoslash-popup-docs">Construct an intersection runtype from runtypes for its alternatives.</div></span>Intersect</span></span><span style="color:#666666">(</span></span>
<span class="line"><span style="color:#80A665">  </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#BD976A">    email</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Email</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>, </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;...>, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">    ...</span><span style="color:#4C9A91"> 7</span><span style="color:#5DA994"> more</span><span style="color:#666666"> .</span><span style="color:#DBD7CAEE">..</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    fileSystem</span><span style="color:#666666">: </span><span style="color:#5DA994">Union</span><span style="color:#666666">&#x3C;...>;</span></span>
<span class="line"><span style="color:#666666">}>(</span><span style="color:#BD976A">fields</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">}):</span><span style="color:#5DA994"> Record</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">></span></span></code></pre></code></span>Record</span></span><span style="color:#666666">({</span></span>
<span class="line"><span style="color:#B8A965">    </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">name</span><span style="color:#666666">:</span><span style="color:#BD976A"> Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">,</span><span style="color:#BD976A"> string</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>></span></code></span>name</span></span><span style="color:#666666">: </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">NonEmptyString</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>></span></code></span>NonEmptyString</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#B8A965">    </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">email</span><span style="color:#666666">:</span><span style="color:#BD976A"> Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Email</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">,</span><span style="color:#BD976A"> string</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>></span><span style="color:#666666">,</span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>></span></code></span>email</span></span><span style="color:#666666">: </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">Email</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Email</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>, </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>></span></code></span>Email</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#758575DD">    // the lib supports no transformations</span></span>
<span class="line"><span style="color:#B8A965">    </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">createdAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">,</span><span style="color:#BD976A"> string</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>></span></code></span>createdAt</span></span><span style="color:#666666">: </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">IsoDateString</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>></span></code></span>IsoDateString</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#B8A965">    </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">updatedAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">,</span><span style="color:#BD976A"> string</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>></span></code></span>updatedAt</span></span><span style="color:#666666">: </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">IsoDateString</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>></span></code></span>IsoDateString</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#B8A965">    </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">subscription</span><span style="color:#666666">:</span><span style="color:#BD976A"> Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#BD976A">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>,</span><span style="color:#BD976A"> Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>,</span><span style="color:#BD976A"> Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>]></span></code></span>subscription</span></span><span style="color:#666666">: </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">SubscriptionType</span><span style="color:#666666">: </span><span style="color:#5DA994">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>, </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>, </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>]></span></code></span>SubscriptionType</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#B8A965">    </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">stripeId</span><span style="color:#666666">:</span><span style="color:#BD976A"> Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">StripeCustomerId</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Template</span><span style="color:#666666">&#x3C;[</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">cus_</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#C98A7D99"> ""</span><span style="color:#666666">],</span><span style="color:#666666"> [</span><span style="color:#BD976A">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">,</span><span style="color:#BD976A"> string</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#666666">>]</span><span style="color:#CB7676">>></span></code></span>stripeId</span></span><span style="color:#666666">: </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">StripeCustomerId</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">StripeCustomerId</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Template</span><span style="color:#666666">&#x3C;[</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">cus_</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">""</span><span style="color:#666666">], [</span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>]>></span></code></span>StripeCustomerId</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#B8A965">    </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">visits</span><span style="color:#666666">:</span><span style="color:#BD976A"> Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegativeInteger</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#BD976A">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Number</span><span style="color:#666666">,</span><span style="color:#BD976A"> number</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>></span><span style="color:#666666">,</span><span style="color:#BD976A"> Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Number</span><span style="color:#666666">,</span><span style="color:#BD976A"> number</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>></span><span style="color:#666666">]</span><span style="color:#CB7676">>></span></code></span>visits</span></span><span style="color:#666666">: </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">NonNegativeInteger</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegativeInteger</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Number</span><span style="color:#666666">, </span><span style="color:#5DA994">number</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>, </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Number</span><span style="color:#666666">, </span><span style="color:#5DA994">number</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>]>></span></code></span>NonNegativeInteger</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#B8A965">    </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">favouriteColours</span><span style="color:#666666">:</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Array</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#BD976A">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">HexColour</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">,</span><span style="color:#BD976A"> string</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>></span><span style="color:#666666">,</span><span style="color:#BD976A"> Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#BD976A">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>,</span><span style="color:#BD976A"> Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>,</span><span style="color:#BD976A"> Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>]>]>,</span><span style="color:#4D9375"> false</span><span style="color:#666666">>,</span><span style="color:#666666"> (</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ...</span><span style="color:#4C9A91"> 2</span><span style="color:#BD976A"> more</span><span style="color:#666666"> ...</span><span style="color:#CB7676"> |</span><span style="color:#666666"> (</span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;...>))[],</span><span style="color:#BD976A"> unknown</span><span style="color:#666666">></span></code></span>favouriteColours</span></span><span style="color:#666666">: </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">Array</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">HexColour</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#5DA994"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">,</span><span style="color:#5DA994"> string</span><span style="color:#666666">,</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">>>,</span><span style="color:#5DA994"> Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>,</span><span style="color:#5DA994"> Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>,</span><span style="color:#5DA994"> Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>]>]>,</span><span style="color:#5DA994"> boolean</span><span style="color:#666666">>(</span><span style="color:#BD976A">element</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Union</span><span style="color:#666666">&#x3C;...>)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Array</span><span style="color:#666666">&#x3C;...></span></code></span>Array</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">HexColourOrColour</span><span style="color:#666666">: </span><span style="color:#5DA994">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">HexColour</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>, </span><span style="color:#5DA994">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>, </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>, </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>]>]></span></code></span>HexColourOrColour</span></span><span style="color:#666666">).</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Runtype</span><span style="color:#666666">&#x3C;(</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#666666"> (</span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">HexColour</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>))[]>.</span><span style="color:#80A665">withConstraint</span><span style="color:#666666">&#x3C;(</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> |</span><span style="color:#666666"> (</span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26;</span><span style="color:#5DA994"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">HexColour</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>))[],</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">>(</span><span style="color:#BD976A">constraint</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">ConstraintCheck</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Array</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#BD976A">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">HexColour</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">String</span><span style="color:#666666">,</span><span style="color:#BD976A"> string</span><span style="color:#666666">,</span><span style="color:#BD976A"> unknown</span><span style="color:#CB7676">>></span><span style="color:#666666">,</span><span style="color:#BD976A"> Union</span><span style="color:#666666">&#x3C;...>]>,</span><span style="color:#4D9375"> false</span><span style="color:#CB7676">>></span><span style="color:#666666">,</span><span style="color:#BD976A"> options</span><span style="color:#CB7676">?:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> |</span><span style="color:#CB7676"> undefined</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Constraint</span><span style="color:#666666">&#x3C;...></span></span></code></pre></code><div class="twoslash-popup-docs">Use an arbitrary constraint function to validate a runtype, and optionally
to change its name and/or its static type.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@template</span><span class="twoslash-popup-docs-tag-value">T - Optionally override the static type of the resulting runtype</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">constraint - Custom function
that returns \`true\` if the constraint is satisfied, \`false\` or a custom
error message if not.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">options</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">options.name - allows setting the name of this
constrained runtype, which is helpful in reflection or diagnostic
use-cases.</span></span></div></span>withConstraint</span></span><span style="color:#666666">((</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">v</span><span style="color:#666666">:</span><span style="color:#666666"> (</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ...</span><span style="color:#4C9A91"> 2</span><span style="color:#BD976A"> more</span><span style="color:#666666"> ...</span><span style="color:#CB7676"> |</span><span style="color:#666666"> (</span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;...>))[]</span></code></span>v</span></span><span style="color:#666666">) =></span></span>
<span class="line"><span style="color:#CB7676">      new</span><span style="color:#80A665"> </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">var </span><span style="color:#BD976A">Set</span><span style="color:#666666">: </span><span style="color:#5DA994">SetConstructor</span></span>
<span class="line"><span style="color:#CB7676">new</span><span style="color:#666666"> &#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#666666"> (</span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">HexColour</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>)>(</span><span style="color:#BD976A">iterable</span><span style="color:#CB7676">?</span><span style="color:#666666">: </span><span style="color:#5DA994">Iterable</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> | </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> | </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> | (</span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">HexColour</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>)> | </span><span style="color:#CB7676">null</span><span style="color:#666666"> | </span><span style="color:#CB7676">undefined</span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#BD976A"> Set</span><span style="color:#666666">&#x3C;...></span><span style="color:#666666"> (</span><span style="color:#CB7676">+</span><span style="color:#4C9A91">1</span><span style="color:#BD976A"> overload</span><span style="color:#666666">)</span></span></code></pre></code></span>Set</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">v</span><span style="color:#666666">:</span><span style="color:#666666"> (</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ...</span><span style="color:#4C9A91"> 2</span><span style="color:#BD976A"> more</span><span style="color:#666666"> ...</span><span style="color:#CB7676"> |</span><span style="color:#666666"> (</span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;...>))[]</span></code></span>v</span></span><span style="color:#666666">).</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">Set</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">T</span><span style="color:#666666">>.</span><span style="color:#BD976A">size</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">number</span></code><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@returns</span><span class="twoslash-popup-docs-tag-value">the number of (unique) elements in Set.</span></span></div></span>size</span></span><span style="color:#CB7676"> ===</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">v</span><span style="color:#666666">:</span><span style="color:#666666"> (</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ...</span><span style="color:#4C9A91"> 2</span><span style="color:#BD976A"> more</span><span style="color:#666666"> ...</span><span style="color:#CB7676"> |</span><span style="color:#666666"> (</span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;...>))[]</span></code></span>v</span></span><span style="color:#666666">.</span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">Array</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">T</span><span style="color:#666666">>.</span><span style="color:#B8A965">length</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">number</span></code><div class="twoslash-popup-docs">Gets or sets the length of the array. This is a number one higher than the highest index in the array.</div></span>length</span></span><span style="color:#CB7676"> ?</span><span style="color:#4D9375"> true</span><span style="color:#CB7676"> :</span><span style="color:#C98A7D99"> \`</span><span style="color:#C98A7D">Expected unique items</span><span style="color:#C98A7D99">\`</span></span>
<span class="line"><span style="color:#666666">    ),</span></span>
<span class="line"><span style="color:#B8A965">    </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">profile</span><span style="color:#666666">:</span><span style="color:#BD976A"> Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#80A665">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">listener</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    boughtTracks</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegativeInteger</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Number</span><span style="color:#666666">, </span><span style="color:#5DA994">number</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>, </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;...>>]>>;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#CB7676"> false</span><span style="color:#666666">>,</span><span style="color:#BD976A"> Record</span><span style="color:#666666">&#x3C;...>]></span></span></code></pre></code></span>profile</span></span><span style="color:#666666">: </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">Profile</span><span style="color:#666666">: </span><span style="color:#5DA994">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">Literal</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">listener</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    boughtTracks</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegativeInteger</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonNegative</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Number</span><span style="color:#666666">, </span><span style="color:#5DA994">number</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>, </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Integer</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;...>>]>>;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#CB7676">false</span><span style="color:#666666">>, </span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;...>]></span></span></code></pre></code></span>Profile</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#B8A965">    </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">fileSystem</span><span style="color:#666666">:</span><span style="color:#BD976A"> Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#80A665">Runtype</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#5DA994"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">: </span><span style="color:#5DA994">NonEmptyString</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}>,</span><span style="color:#BD976A"> Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#80A665">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#CB7676"> false</span><span style="color:#666666">>,</span><span style="color:#BD976A"> Record</span><span style="color:#666666">&#x3C;...>]>]></span></span></code></pre></code></span>fileSystem</span></span><span style="color:#666666">: </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">FileSystem</span><span style="color:#666666">: </span><span style="color:#5DA994">Union</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Runtype</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#5DA994"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">} &#x26; {</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">: </span><span style="color:#5DA994">NonEmptyString</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">} &#x26; {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}>, </span><span style="color:#5DA994">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#CB7676">false</span><span style="color:#666666">>, </span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;...>]>]></span></span></code></pre></code></span>FileSystem</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#666666">  }),</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">TemporalConcern</span><span style="color:#666666">: </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    createdAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#BD976A">    updatedAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#CB7676">false</span><span style="color:#666666">>, {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">></span></span></code></pre></code></span>TemporalConcern</span></span></span>
<span class="line"><span style="color:#666666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> User</span><span style="color:#666666"> =</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    createdAt</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    updatedAt</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">    ...</span><span style="color:#4C9A91"> 6</span><span style="color:#5DA994"> more</span><span style="color:#666666"> .</span><span style="color:#DBD7CAEE">..</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    fileSystem</span><span style="color:#666666">: ({</span></span>
<span class="line"><span style="color:#CB7676">        readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">        readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#5DA994"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">    } &#x26; ... </span><span style="color:#4C9A91">1</span><span style="color:#5DA994"> more</span><span style="color:#666666"> ... &#x26; {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    }) | ({</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">    } &#x26; {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    });</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>User</span></span><span style="color:#666666"> =</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Static</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">A</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> RuntypeBase</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">unknown</span><span style="color:#666666">>></span><span style="color:#666666"> =</span><span style="color:#5DA994"> A</span><span style="color:#666666">[</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">_falseWitness</span><span style="color:#C98A7D99">"</span><span style="color:#666666">]</span></code><div class="twoslash-popup-docs">Obtains the static type associated with a Runtype.</div></span>Static</span></span><span style="color:#666666">&#x3C;</span><span style="color:#CB7676">typeof</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">UserJson</span><span style="color:#666666">: </span><span style="color:#5DA994">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#BD976A">    email</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Email</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>, </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;...>, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">    ... </span><span style="color:#4C9A91">7</span><span style="color:#5DA994"> more</span><span style="color:#666666"> ...;</span></span>
<span class="line"><span style="color:#BD976A">    fileSystem</span><span style="color:#666666">: </span><span style="color:#5DA994">Union</span><span style="color:#666666">&#x3C;...>;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#CB7676">false</span><span style="color:#666666">>, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;...>]></span></span></code></pre></code></span>UserJson</span></span><span style="color:#666666">>;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375">export</span><span style="color:#CB7676"> const </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#80A665">decodeUser</span><span style="color:#666666">: (</span><span style="color:#BD976A">u</span><span style="color:#666666">: </span><span style="color:#5DA994">unknown</span><span style="color:#666666">) => </span><span style="color:#5DA994">Result</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">User</span><span style="color:#666666">></span></code></span>decodeUser</span></span><span style="color:#666666"> =</span><span style="color:#666666"> (</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">u</span><span style="color:#666666">:</span><span style="color:#BD976A"> unknown</span></code></span>u</span></span><span style="color:#666666">: </span><span style="color:#5DA994">unknown</span><span style="color:#666666">):</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Result</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">E</span><span style="color:#666666">,</span><span style="color:#5DA994"> T</span><span style="color:#666666">></span><span style="color:#666666"> =</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    _tag</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">left</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    error</span><span style="color:#666666">: </span><span style="color:#5DA994">E</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    _tag</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">right</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    value</span><span style="color:#666666">: </span><span style="color:#5DA994">T</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>Result</span></span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666">,</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> User</span><span style="color:#666666"> =</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    createdAt</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    updatedAt</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">    ...</span><span style="color:#4C9A91"> 6</span><span style="color:#5DA994"> more</span><span style="color:#666666"> .</span><span style="color:#DBD7CAEE">..</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    fileSystem</span><span style="color:#666666">: ({</span></span>
<span class="line"><span style="color:#CB7676">        readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">        readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#5DA994"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">    } &#x26; ... </span><span style="color:#4C9A91">1</span><span style="color:#5DA994"> more</span><span style="color:#666666"> ... &#x26; {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    }) | ({</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">    } &#x26; {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    });</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>User</span></span><span style="color:#666666">></span><span style="color:#666666"> =></span></span>
<span class="line"><span style="color:#80A665">  </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#80A665">mapResult</span><span style="color:#666666">: &#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    createdAt</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    updatedAt</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">    ... </span><span style="color:#4C9A91">6</span><span style="color:#5DA994"> more</span><span style="color:#666666"> ...;</span></span>
<span class="line"><span style="color:#80A665">    fileSystem</span><span style="color:#666666">: ({</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    } &#x26; ... </span><span style="color:#4C9A91">1</span><span style="color:#5DA994"> more</span><span style="color:#666666"> ... &#x26; {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    }) | ({</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    } &#x26; {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    });</span></span>
<span class="line"><span style="color:#666666">} &#x26; {</span></span>
<span class="line"><span style="color:#BD976A">    createdAt</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    updatedAt</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">}>(</span><span style="color:#BD976A">r</span><span style="color:#666666">: </span><span style="color:#5DA994">LibResult</span><span style="color:#666666">&#x3C;...>) => </span><span style="color:#5DA994">Result</span><span style="color:#666666">&#x3C;...></span></span></code></pre></code></span>mapResult</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">UserJson</span><span style="color:#666666">: </span><span style="color:#5DA994">Intersect</span><span style="color:#666666">&#x3C;[</span><span style="color:#5DA994">Record</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#BD976A">    email</span><span style="color:#666666">: </span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">Email</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Brand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">String</span><span style="color:#666666">, </span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>, </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;...>, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">>>;</span></span>
<span class="line"><span style="color:#666666">    ... </span><span style="color:#4C9A91">7</span><span style="color:#5DA994"> more</span><span style="color:#666666"> ...;</span></span>
<span class="line"><span style="color:#BD976A">    fileSystem</span><span style="color:#666666">: </span><span style="color:#5DA994">Union</span><span style="color:#666666">&#x3C;...>;</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#CB7676">false</span><span style="color:#666666">>, </span><span style="color:#5DA994">Constraint</span><span style="color:#666666">&#x3C;...>]></span></span></code></pre></code></span>UserJson</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">RuntypeBase</span><span style="color:#666666">&#x3C;{</span><span style="color:#80A665"> createdAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span><span style="color:#80A665"> updatedAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span><span style="color:#80A665"> name</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span><span style="color:#666666"> ...</span><span style="color:#4C9A91"> 6</span><span style="color:#BD976A"> more</span><span style="color:#666666"> ...;</span><span style="color:#80A665"> fileSystem</span><span style="color:#666666">:</span><span style="color:#666666"> ({ readonly </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">; </span><span style="color:#BD976A">readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#BD976A">readonly</span><span style="color:#BD976A"> FileSystem</span><span style="color:#666666">[]; }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> ...</span><span style="color:#4C9A91"> 1</span><span style="color:#BD976A"> more</span><span style="color:#666666"> ...</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> { </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">; })</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ({ </span><span style="color:#B8A965">name</span><span style="color:#666666">: </span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>; }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> { </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">; });</span><span style="color:#666666"> }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span><span style="color:#80A665"> createdAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span><span style="color:#80A665"> updatedAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span><span style="color:#666666"> }>.</span><span style="color:#80A665">validate</span><span style="color:#666666">(</span><span style="color:#BD976A">x</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">any</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#80A665">LibResult</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    createdAt</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    updatedAt</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">    ...</span><span style="color:#4C9A91"> 6</span><span style="color:#5DA994"> more</span><span style="color:#666666"> .</span><span style="color:#DBD7CAEE">..</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    fileSystem</span><span style="color:#666666">: ({</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    } &#x26; ... </span><span style="color:#4C9A91">1</span><span style="color:#5DA994"> more</span><span style="color:#666666"> ... &#x26; {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    }) | ({</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    } &#x26; {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    });</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">}></span></span></code></pre></code><div class="twoslash-popup-docs">Validates that a value conforms to this type, and returns a result indicating
success or failure (does not throw).</div></span>validate</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">u</span><span style="color:#666666">:</span><span style="color:#BD976A"> unknown</span></code></span>u</span></span><span style="color:#666666">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">// actually since there's no transformation, it's just the same object; so "no-feature feature"</span></span>
<span class="line"><span style="color:#758575DD">// BUT also we can't check if a transformed object was passed or not; so I predict plenty of errors on this front;</span></span>
<span class="line"><span style="color:#758575DD">// the presence of transformations (and they will be present in production code) dictates that this feature is functionally, not only nominally, non-existing</span></span>
<span class="line"><span style="color:#4D9375">export</span><span style="color:#CB7676"> const </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#80A665">encodeUser</span><span style="color:#666666">: (</span><span style="color:#BD976A">_u</span><span style="color:#666666">: </span><span style="color:#5DA994">User</span><span style="color:#666666">) => </span><span style="color:#5DA994">Result</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">></span></code></span>encodeUser</span></span><span style="color:#666666"> =</span><span style="color:#666666"> (</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">_u</span><span style="color:#666666">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#80A665">    createdAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#80A665">    updatedAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#80A665">    name</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">    ...</span><span style="color:#4C9A91"> 6</span><span style="color:#BD976A"> more</span><span style="color:#666666"> ...;</span></span>
<span class="line"><span style="color:#80A665">    fileSystem</span><span style="color:#666666">:</span><span style="color:#666666"> ({</span></span>
<span class="line"><span style="color:#666666">        readonly </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#BD976A">readonly</span><span style="color:#BD976A"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> ...</span><span style="color:#4C9A91"> 1</span><span style="color:#BD976A"> more</span><span style="color:#666666"> ...</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#B8A965">        type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    })</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ({</span></span>
<span class="line"><span style="color:#B8A965">        name</span><span style="color:#666666">: </span><span style="color:#BD976A">string</span><span style="color:#CB7676"> &#x26;</span><span style="color:#BD976A"> RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#B8A965">        type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    });</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>_u</span></span><span style="color:#666666">: </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> User</span><span style="color:#666666"> =</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    createdAt</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    updatedAt</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">IsoDateString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">    ...</span><span style="color:#4C9A91"> 6</span><span style="color:#5DA994"> more</span><span style="color:#666666"> .</span><span style="color:#DBD7CAEE">..</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    fileSystem</span><span style="color:#666666">: ({</span></span>
<span class="line"><span style="color:#CB7676">        readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">        readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#5DA994"> FileSystem</span><span style="color:#666666">[];</span></span>
<span class="line"><span style="color:#666666">    } &#x26; ... </span><span style="color:#4C9A91">1</span><span style="color:#5DA994"> more</span><span style="color:#666666"> ... &#x26; {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    }) | ({</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666"> &#x26; </span><span style="color:#5DA994">RuntypeBrand</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">NonEmptyString</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">    } &#x26; {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    });</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> &#x26;</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>User</span></span><span style="color:#666666">):</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Result</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">E</span><span style="color:#666666">,</span><span style="color:#5DA994"> T</span><span style="color:#666666">></span><span style="color:#666666"> =</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    _tag</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">left</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    error</span><span style="color:#666666">: </span><span style="color:#5DA994">E</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    _tag</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">right</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    value</span><span style="color:#666666">: </span><span style="color:#5DA994">T</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>Result</span></span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666">,</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">></span><span style="color:#666666"> =></span><span style="color:#666666"> ({</span></span>
<span class="line"><span style="color:#B8A965">  </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">_tag</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">left</span><span style="color:#C98A7D99">"</span></code></span>_tag</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">left</span><span style="color:#C98A7D99">'</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#B8A965">  </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">error</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span></code></span>error</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">the lib cannot do it</span><span style="color:#C98A7D99">'</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#666666">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">// utils</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#80A665">mapResult</span><span style="color:#666666">: &#x3C;</span><span style="color:#5DA994">T</span><span style="color:#666666">>(</span><span style="color:#BD976A">r</span><span style="color:#666666">: </span><span style="color:#5DA994">LibResult</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#666666">>) => </span><span style="color:#5DA994">Result</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">T</span><span style="color:#666666">></span></code></span>mapResult</span></span><span style="color:#666666"> =</span><span style="color:#666666"> &#x3C;</span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">function</span><span style="color:#666666"> (</span><span style="color:#BD976A">type</span><span style="color:#BD976A"> parameter</span><span style="color:#666666">)</span><span style="color:#80A665"> T</span><span style="color:#80A665"> in</span><span style="color:#666666"> &#x3C;</span><span style="color:#5DA994">T</span><span style="color:#666666">>(</span><span style="color:#BD976A">r</span><span style="color:#666666">: </span><span style="color:#5DA994">LibResult</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#666666">>):</span><span style="color:#5DA994"> Result</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666">,</span><span style="color:#5DA994"> T</span><span style="color:#666666">></span></code></span>T</span></span><span style="color:#666666">>(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">r</span><span style="color:#666666">:</span><span style="color:#BD976A"> LibResult</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">T</span><span style="color:#666666">></span></code></span>r</span></span><span style="color:#666666">: </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> LibResult</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#666666">></span><span style="color:#666666"> =</span><span style="color:#5DA994"> Success</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#666666">></span><span style="color:#666666"> |</span><span style="color:#5DA994"> Failure</span></code><div class="twoslash-popup-docs">The result of a type validation.</div></span>LibResult</span></span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">function</span><span style="color:#666666"> (</span><span style="color:#BD976A">type</span><span style="color:#BD976A"> parameter</span><span style="color:#666666">)</span><span style="color:#80A665"> T</span><span style="color:#80A665"> in</span><span style="color:#666666"> &#x3C;</span><span style="color:#5DA994">T</span><span style="color:#666666">>(</span><span style="color:#BD976A">r</span><span style="color:#666666">: </span><span style="color:#5DA994">LibResult</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#666666">>):</span><span style="color:#5DA994"> Result</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666">,</span><span style="color:#5DA994"> T</span><span style="color:#666666">></span></code></span>T</span></span><span style="color:#666666">>):</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Result</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">E</span><span style="color:#666666">,</span><span style="color:#5DA994"> T</span><span style="color:#666666">></span><span style="color:#666666"> =</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    _tag</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">left</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    error</span><span style="color:#666666">: </span><span style="color:#5DA994">E</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    _tag</span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">right</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    value</span><span style="color:#666666">: </span><span style="color:#5DA994">T</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>Result</span></span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666">,</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">function</span><span style="color:#666666"> (</span><span style="color:#BD976A">type</span><span style="color:#BD976A"> parameter</span><span style="color:#666666">)</span><span style="color:#80A665"> T</span><span style="color:#80A665"> in</span><span style="color:#666666"> &#x3C;</span><span style="color:#5DA994">T</span><span style="color:#666666">>(</span><span style="color:#BD976A">r</span><span style="color:#666666">: </span><span style="color:#5DA994">LibResult</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#666666">>):</span><span style="color:#5DA994"> Result</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666">,</span><span style="color:#5DA994"> T</span><span style="color:#666666">></span></code></span>T</span></span><span style="color:#666666">></span><span style="color:#666666"> =></span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">r</span><span style="color:#666666">:</span><span style="color:#BD976A"> LibResult</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">T</span><span style="color:#666666">></span></code></span>r</span></span><span style="color:#666666">.</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">success</span><span style="color:#666666">:</span><span style="color:#BD976A"> boolean</span></code><div class="twoslash-popup-docs">A tag indicating failure.


A tag indicating success.</div></span>success</span></span></span>
<span class="line"><span style="color:#CB7676">    ?</span><span style="color:#666666"> { </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">_tag</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">right</span><span style="color:#C98A7D99">"</span></code></span>_tag</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">right</span><span style="color:#C98A7D99">'</span><span style="color:#666666">, </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">value</span><span style="color:#666666">:</span><span style="color:#BD976A"> T</span></code></span>value</span></span><span style="color:#666666">: </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">r</span><span style="color:#666666">:</span><span style="color:#BD976A"> Success</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">T</span><span style="color:#666666">></span></code></span>r</span></span><span style="color:#666666">.</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">value</span><span style="color:#666666">:</span><span style="color:#BD976A"> T</span></code><div class="twoslash-popup-docs">The original value, cast to its validated type.</div></span>value</span></span><span style="color:#666666"> }</span></span>
<span class="line"><span style="color:#CB7676">    :</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#B8A965">        </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">_tag</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">left</span><span style="color:#C98A7D99">"</span></code></span>_tag</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">left</span><span style="color:#C98A7D99">'</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#B8A965">        </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">error</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span></code></span>error</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">\`</span><span style="color:#666666">\${</span><span style="color:#C98A7D"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">r</span><span style="color:#666666">:</span><span style="color:#BD976A"> Failure</span></code></span>r</span></span><span style="color:#666666">.</span><span style="color:#C98A7D"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">message</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span></code><div class="twoslash-popup-docs">A message indicating the reason why the validation failed.</div></span>message</span></span><span style="color:#666666">}</span><span style="color:#C99076">\\n</span><span style="color:#666666">\${</span><span style="color:#C98A7D"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">var </span><span style="color:#BD976A">JSON</span><span style="color:#666666">: </span><span style="color:#5DA994">JSON</span></code><div class="twoslash-popup-docs">An intrinsic object that provides functions to convert JavaScript values to and from the JavaScript Object Notation (JSON) format.</div></span>JSON</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">JSON</span><span style="color:#666666">.</span><span style="color:#80A665">stringify</span><span style="color:#666666">(</span><span style="color:#BD976A">value</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">any</span><span style="color:#666666">,</span><span style="color:#BD976A"> replacer</span><span style="color:#CB7676">?:</span><span style="color:#666666"> (</span><span style="color:#BD976A">string</span><span style="color:#CB7676"> |</span><span style="color:#BD976A"> number</span><span style="color:#666666">)[]</span><span style="color:#CB7676"> |</span><span style="color:#CB7676"> null</span><span style="color:#CB7676"> |</span><span style="color:#CB7676"> undefined</span><span style="color:#666666">,</span><span style="color:#BD976A"> space</span><span style="color:#CB7676">?:</span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> |</span><span style="color:#BD976A"> number</span><span style="color:#CB7676"> |</span><span style="color:#CB7676"> undefined</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#80A665">string</span><span style="color:#666666"> (</span><span style="color:#CB7676">+</span><span style="color:#4C9A91">1</span><span style="color:#BD976A"> overload</span><span style="color:#666666">)</span></code><div class="twoslash-popup-docs">Converts a JavaScript value to a JavaScript Object Notation (JSON) string.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">value A JavaScript value, usually an object or array, to be converted.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">replacer An array of strings and numbers that acts as an approved list for selecting the object properties that will be stringified.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">space Adds indentation, white space, and line break characters to the return-value JSON text to make it easier to read.</span></span></div></span>stringify</span></span><span style="color:#666666">(</span><span style="color:#C98A7D"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">r</span><span style="color:#666666">:</span><span style="color:#BD976A"> Failure</span></code></span>r</span></span><span style="color:#666666">.</span><span style="color:#C98A7D"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">details</span><span style="color:#CB7676">?:</span><span style="color:#BD976A"> Details</span><span style="color:#CB7676"> |</span><span style="color:#CB7676"> undefined</span></code><div class="twoslash-popup-docs">A detailed object enumerating where the validation failed exactly.</div></span>details</span></span><span style="color:#666666">,</span><span style="color:#CB7676"> null</span><span style="color:#666666">,</span><span style="color:#4C9A91"> 2</span><span style="color:#666666">)</span><span style="color:#666666">}</span><span style="color:#C99076">\\n</span><span style="color:#666666">\${</span><span style="color:#C98A7D"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">r</span><span style="color:#666666">:</span><span style="color:#BD976A"> Failure</span></code></span>r</span></span><span style="color:#666666">.</span><span style="color:#C98A7D"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">code</span><span style="color:#666666">:</span><span style="color:#BD976A"> Failcode</span></code><div class="twoslash-popup-docs">An error code assigned to this type of error.</div></span>code</span></span><span style="color:#666666">}</span><span style="color:#C98A7D99">\`</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#666666">      };</span></span>
<span class="line"></span></code></pre>`,y=({isIframe:n})=>s.jsx("div",{children:s.jsx(a,{isIframe:n,code:t,encodeUser:p,decodeUser:o,validUser:l,meta:e,library:"runtypes"})});export{y as RuntypesPage};
