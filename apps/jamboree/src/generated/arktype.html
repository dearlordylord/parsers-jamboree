<pre class="shiki vitesse-dark twoslash lsp" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#4D9375">import</span><span style="color:#666666"> {</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">class</span><span style="color:#5DA994"> ArkErrors</span></code></span>ArkErrors</span></span><span style="color:#666666">,</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">scope</span><span style="color:#666666">: </span><span style="color:#5DA994">ScopeParser</span></code></span>scope</span></span><span style="color:#666666">,</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">type</span><span style="color:#666666">: </span><span style="color:#5DA994">TypeParser</span><span style="color:#666666">&#x3C;{}></span></code></span>type</span></span><span style="color:#666666"> }</span><span style="color:#4D9375"> from</span><span style="color:#C98A7D99"> '</span><span style="color:#C98A7D">arktype</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#4D9375">import</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">COLOURS</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#666666"> [</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">]</span></code></span>COLOURS</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">ISO_DATE_REGEX</span><span style="color:#666666">: </span><span style="color:#5DA994">RegExp</span></code></span>ISO_DATE_REGEX</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Result</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">E</span><span style="color:#666666">,</span><span style="color:#5DA994"> T</span><span style="color:#666666">></span><span style="color:#666666"> =</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    _tag</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">left</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    error</span><span style="color:#666666">: </span><span style="color:#5DA994">E</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    _tag</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">right</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    value</span><span style="color:#666666">: </span><span style="color:#5DA994">T</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>Result</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">SUBSCRIPTION_TYPES</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#666666"> [</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span><span style="color:#666666">]</span></code></span>SUBSCRIPTION_TYPES</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#4D9375"> from</span><span style="color:#C98A7D99"> '</span><span style="color:#C98A7D">./libs/common/src/index</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#4D9375">import</span><span style="color:#666666"> {</span><span style="color:#BD976A"> </span><span style="color:#BD976A">Objects</span><span style="color:#666666">,</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Pipe</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">acc</span><span style="color:#666666">,</span><span style="color:#5DA994"> xs</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> Fn</span><span style="color:#666666">[]></span><span style="color:#666666"> =</span><span style="color:#5DA994"> xs</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> [</span><span style="color:#CB7676">infer</span><span style="color:#5DA994"> first</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> Fn</span><span style="color:#666666">,</span><span style="color:#666666"> ...</span><span style="color:#CB7676">infer</span><span style="color:#5DA994"> rest</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> Fn</span><span style="color:#666666">[]]</span><span style="color:#CB7676"> ?</span><span style="color:#5DA994"> Pipe</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Call</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">first</span><span style="color:#666666">,</span><span style="color:#5DA994"> acc</span><span style="color:#666666">,</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">,</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">,</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">>,</span><span style="color:#5DA994"> rest</span><span style="color:#666666">></span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> acc</span></code><div class="twoslash-popup-docs">Pipe a value through a list of functions.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@description</span><span class="twoslash-popup-docs-tag-value">This is the same as the pipe operator in other languages.
Calls the first function with the initial value, then passes the result to the second function, and so on.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">acc - The initial value to pass to the first function.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">xs - The list of functions to pipe the value through.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@returns</span><span class="twoslash-popup-docs-tag-value">The result of the last function.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@example</span><span class="twoslash-popup-docs-tag-value">```ts
type T0 = Pipe&#x3C;1, [Numbers.Add&#x3C;1>, Numbers.Negate]>; // -2
```</span></span></div></span>Pipe</span></span><span style="color:#666666">,</span><span style="color:#BD976A"> </span><span style="color:#BD976A">Strings</span><span style="color:#666666">,</span><span style="color:#BD976A"> </span><span style="color:#BD976A">Tuples</span><span style="color:#666666"> }</span><span style="color:#4D9375"> from</span><span style="color:#C98A7D99"> '</span><span style="color:#C98A7D">hotscript</span><span style="color:#C98A7D99">'</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#4D9375">import</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Mutable</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">obj</span><span style="color:#666666"> =</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">></span><span style="color:#666666"> =</span><span style="color:#5DA994"> PartialApply</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">MutableFn</span><span style="color:#666666">,</span><span style="color:#666666"> [</span><span style="color:#5DA994">obj</span><span style="color:#666666">]></span></code><div class="twoslash-popup-docs">Make all properties of an object mutable</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">value - The object to make properties mutable</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@returns</span><span class="twoslash-popup-docs-tag-value">The object with its properties made mutable</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@example</span><span class="twoslash-popup-docs-tag-value">```ts
type T0 = Call&#x3C;Objects.Mutable, { readonly a: 1; readonly b: true }>; // { a:1; b: true }
```</span></span></div></span>Mutable</span></span><span style="color:#666666"> =</span><span style="color:#5DA994"> </span><span style="color:#5DA994">Objects</span><span style="color:#666666">.</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Objects</span><span style="color:#DBD7CAEE">.Mutable</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">obj</span><span style="color:#666666"> =</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">></span><span style="color:#666666"> =</span><span style="color:#5DA994"> PartialApply</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">MutableFn</span><span style="color:#666666">,</span><span style="color:#666666"> [</span><span style="color:#5DA994">obj</span><span style="color:#666666">]></span></code><div class="twoslash-popup-docs">Make all properties of an object mutable</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">value - The object to make properties mutable</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@returns</span><span class="twoslash-popup-docs-tag-value">The object with its properties made mutable</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@example</span><span class="twoslash-popup-docs-tag-value">```ts
type T0 = Call&#x3C;Objects.Mutable, { readonly a: 1; readonly b: true }>; // { a:1; b: true }
```</span></span></div></span>Mutable</span></span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">// had to use hotscript to type the literal union imported from a const array</span></span>
<span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> TupleToLiteral</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]></span><span style="color:#666666"> =</span><span style="color:#666666"> ([</span><span style="color:#5DA994">Strings</span><span style="color:#666666">.</span><span style="color:#5DA994">Append</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">>,</span><span style="color:#666666"> {</span><span style="color:#666666"> [</span><span style="color:#5DA994">key</span><span style="color:#CB7676"> in</span><span style="color:#CB7676"> keyof</span><span style="color:#666666"> ((((</span><span style="color:#5DA994">Equal</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#666666">,</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">></span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> true</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> []</span><span style="color:#CB7676"> :</span><span style="color:#666666"> [</span><span style="color:#5DA994">T</span><span style="color:#666666">])</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]</span><span style="color:#CB7676"> ?</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">)</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> :</span><span style="color:#666666"> [])</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> (</span><span style="color:#5DA994">args</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]</span><span style="color:#CB7676"> ?</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">)</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> {</span><span style="color:#666666"> -</span><span style="color:#CB7676">readonly</span><span style="color:#666666"> [</span><span style="color:#5DA994">key</span><span style="color:#CB7676"> in</span><span style="color:#CB7676"> keyof</span><span style="color:#5DA994"> obj</span><span style="color:#666666">]: </span><span style="color:#5DA994">obj</span><span style="color:#666666">[</span><span style="color:#5DA994">key</span><span style="color:#666666">];</span><span style="color:#666666"> }</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">)]: (((</span><span style="color:#5DA994">Equal</span><span style="color:#666666">&#x3C;...> </span><span style="color:#CB7676">extends</span><span style="color:#CB7676"> true</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> [] </span><span style="color:#CB7676">:</span><span style="color:#666666"> [...]) </span><span style="color:#CB7676">extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[] </span><span style="color:#CB7676">?</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">) </span><span style="color:#CB7676">extends</span><span style="color:#666666"> [...] </span><span style="color:#CB7676">?</span><span style="color:#666666"> [...] </span><span style="color:#CB7676">:</span><span style="color:#666666"> [...]) </span><span style="color:#CB7676">extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[] </span><span style="color:#CB7676">?</span><span style="color:#C98A7D99"> `</span><span style="color:#666666">${</span><span style="color:#5DA994">Extract</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D">...</span><span style="color:#666666">></span><span style="color:#666666">}${</span><span style="color:#5DA994">Extract</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D">...</span><span style="color:#666666">></span><span style="color:#666666">}</span><span style="color:#C98A7D99">`</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">;</span><span style="color:#666666"> }]</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> {</span><span style="color:#666666"> [</span><span style="color:#5DA994">key</span><span style="color:#CB7676"> in</span><span style="color:#CB7676"> keyof</span><span style="color:#5DA994"> tuple</span><span style="color:#666666">]: </span><span style="color:#5DA994">Call</span><span style="color:#666666">&#x3C;...>;</span><span style="color:#666666"> }</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">)</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> ?</span><span style="color:#5DA994"> ReduceImpl</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">></span><span style="color:#CB7676"> :</span><span style="color:#666666"> ([</span><span style="color:#5DA994">Strings</span><span style="color:#666666">.</span><span style="color:#5DA994">Append</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">>,</span><span style="color:#666666"> {</span><span style="color:#666666"> [</span><span style="color:#5DA994">key</span><span style="color:#CB7676"> in</span><span style="color:#CB7676"> keyof</span><span style="color:#666666"> ((((</span><span style="color:#5DA994">Equal</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#666666">,</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">></span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> true</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> []</span><span style="color:#CB7676"> :</span><span style="color:#666666"> [</span><span style="color:#5DA994">T</span><span style="color:#666666">])</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]</span><span style="color:#CB7676"> ?</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">)</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> :</span><span style="color:#666666"> [])</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> (</span><span style="color:#5DA994">args</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]</span><span style="color:#CB7676"> ?</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">)</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> {</span><span style="color:#666666"> -</span><span style="color:#CB7676">readonly</span><span style="color:#666666"> [</span><span style="color:#5DA994">key</span><span style="color:#CB7676"> in</span><span style="color:#CB7676"> keyof</span><span style="color:#5DA994"> obj</span><span style="color:#666666">]: </span><span style="color:#5DA994">obj</span><span style="color:#666666">[</span><span style="color:#5DA994">key</span><span style="color:#666666">];</span><span style="color:#666666"> }</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">)]: (((</span><span style="color:#5DA994">Equal</span><span style="color:#666666">&#x3C;...> </span><span style="color:#CB7676">extends</span><span style="color:#CB7676"> true</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> [] </span><span style="color:#CB7676">:</span><span style="color:#666666"> [...]) </span><span style="color:#CB7676">extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[] </span><span style="color:#CB7676">?</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">) </span><span style="color:#CB7676">extends</span><span style="color:#666666"> [...] </span><span style="color:#CB7676">?</span><span style="color:#666666"> [...] </span><span style="color:#CB7676">:</span><span style="color:#666666"> [...]) </span><span style="color:#CB7676">extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[] </span><span style="color:#CB7676">?</span><span style="color:#C98A7D99"> `</span><span style="color:#666666">${</span><span style="color:#5DA994">Extract</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D">...</span><span style="color:#666666">></span><span style="color:#666666">}${</span><span style="color:#5DA994">Extract</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D">...</span><span style="color:#666666">></span><span style="color:#666666">}</span><span style="color:#C98A7D99">`</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">;</span><span style="color:#666666"> }]</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> {</span><span style="color:#666666"> [</span><span style="color:#5DA994">key</span><span style="color:#CB7676"> in</span><span style="color:#CB7676"> keyof</span><span style="color:#5DA994"> tuple</span><span style="color:#666666">]: </span><span style="color:#5DA994">Call</span><span style="color:#666666">&#x3C;...>;</span><span style="color:#666666"> }</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">)</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> ?</span><span style="color:#5DA994"> ReduceImpl</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">></span><span style="color:#CB7676"> :</span><span style="color:#C98A7D99"> ""</span></code></span>TupleToLiteral</span></span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">function</span><span style="color:#666666"> (</span><span style="color:#BD976A">type</span><span style="color:#BD976A"> parameter</span><span style="color:#666666">)</span><span style="color:#80A665"> T</span><span style="color:#80A665"> in</span><span style="color:#80A665"> type</span><span style="color:#80A665"> TupleToLiteral</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]></span></code></span>T</span></span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]></span><span style="color:#666666"> =</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Pipe</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">acc</span><span style="color:#666666">,</span><span style="color:#5DA994"> xs</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> Fn</span><span style="color:#666666">[]></span><span style="color:#666666"> =</span><span style="color:#5DA994"> xs</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> [</span><span style="color:#CB7676">infer</span><span style="color:#5DA994"> first</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> Fn</span><span style="color:#666666">,</span><span style="color:#666666"> ...</span><span style="color:#CB7676">infer</span><span style="color:#5DA994"> rest</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> Fn</span><span style="color:#666666">[]]</span><span style="color:#CB7676"> ?</span><span style="color:#5DA994"> Pipe</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Call</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">first</span><span style="color:#666666">,</span><span style="color:#5DA994"> acc</span><span style="color:#666666">,</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">,</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">,</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">>,</span><span style="color:#5DA994"> rest</span><span style="color:#666666">></span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> acc</span></code><div class="twoslash-popup-docs">Pipe a value through a list of functions.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@description</span><span class="twoslash-popup-docs-tag-value">This is the same as the pipe operator in other languages.
Calls the first function with the initial value, then passes the result to the second function, and so on.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">acc - The initial value to pass to the first function.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">xs - The list of functions to pipe the value through.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@returns</span><span class="twoslash-popup-docs-tag-value">The result of the last function.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@example</span><span class="twoslash-popup-docs-tag-value">```ts
type T0 = Pipe&#x3C;1, [Numbers.Add&#x3C;1>, Numbers.Negate]>; // -2
```</span></span></div></span>Pipe</span></span><span style="color:#666666">&#x3C;</span></span>
<span class="line"><span style="color:#5DA994">  </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">function</span><span style="color:#666666"> (</span><span style="color:#BD976A">type</span><span style="color:#BD976A"> parameter</span><span style="color:#666666">)</span><span style="color:#80A665"> T</span><span style="color:#80A665"> in</span><span style="color:#80A665"> type</span><span style="color:#80A665"> TupleToLiteral</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]></span></code></span>T</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#666666">  [</span></span>
<span class="line"><span style="color:#5DA994">    </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Mutable</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">obj</span><span style="color:#666666"> =</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">></span><span style="color:#666666"> =</span><span style="color:#5DA994"> PartialApply</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">MutableFn</span><span style="color:#666666">,</span><span style="color:#666666"> [</span><span style="color:#5DA994">obj</span><span style="color:#666666">]></span></code><div class="twoslash-popup-docs">Make all properties of an object mutable</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">value - The object to make properties mutable</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@returns</span><span class="twoslash-popup-docs-tag-value">The object with its properties made mutable</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@example</span><span class="twoslash-popup-docs-tag-value">```ts
type T0 = Call&#x3C;Objects.Mutable, { readonly a: 1; readonly b: true }>; // { a:1; b: true }
```</span></span></div></span>Mutable</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#5DA994">    </span><span style="color:#5DA994">Tuples</span><span style="color:#666666">.</span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Tuples</span><span style="color:#DBD7CAEE">.Map</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">fn</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> Fn</span><span style="color:#666666"> |</span><span style="color:#5DA994"> unset</span><span style="color:#666666"> |</span><span style="color:#5DA994"> _</span><span style="color:#666666"> =</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">,</span><span style="color:#5DA994"> tuple</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#5DA994"> any</span><span style="color:#666666">[]</span><span style="color:#666666"> |</span><span style="color:#5DA994"> unset</span><span style="color:#666666"> =</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">></span><span style="color:#666666"> =</span><span style="color:#5DA994"> PartialApply</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">MapFn</span><span style="color:#666666">,</span><span style="color:#666666"> [</span><span style="color:#5DA994">fn</span><span style="color:#666666">,</span><span style="color:#5DA994"> tuple</span><span style="color:#666666">]></span></code><div class="twoslash-popup-docs">Apply a function to each element of a tuple and return a new tuple with the results.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@params</span><span class="twoslash-popup-docs-tag-value">args[0] - A tuple of elements to be transformed.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">fn - A function that takes an element of the tuple and transforms it.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@returns</span><span class="twoslash-popup-docs-tag-value">A tuple with the results of applying the function to each element of the input tuple.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@example</span><span class="twoslash-popup-docs-tag-value">```ts
type T0 = Call&#x3C;T.Map&#x3C;S.ToString>,[1,2,3]>; // ["1","2","3"]
type T1 = Call&#x3C;T.Map&#x3C;S.ToString>,[]>; // []
```</span></span></div></span>Map</span></span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Strings</span><span style="color:#666666">.</span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Strings</span><span style="color:#DBD7CAEE">.Prepend</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Start</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> string</span><span style="color:#666666"> |</span><span style="color:#5DA994"> _</span><span style="color:#666666"> |</span><span style="color:#5DA994"> unset</span><span style="color:#666666"> =</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">,</span><span style="color:#5DA994"> Str</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> string</span><span style="color:#666666"> |</span><span style="color:#5DA994"> _</span><span style="color:#666666"> |</span><span style="color:#5DA994"> unset</span><span style="color:#666666"> =</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">></span><span style="color:#666666"> =</span><span style="color:#5DA994"> PartialApply</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">PrependFn</span><span style="color:#666666">,</span><span style="color:#666666"> [</span><span style="color:#5DA994">Start</span><span style="color:#666666">,</span><span style="color:#5DA994"> Str</span><span style="color:#666666">]></span></code><div class="twoslash-popup-docs">Prepend a string to another string.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">args 0] - The string to be prepended to.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">str - The string to prepend.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@returns</span><span class="twoslash-popup-docs-tag-value">The prepended string.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@example</span><span class="twoslash-popup-docs-tag-value">```ts
type T0 = Call&#x3C;Strings.Prepend&#x3C;"abc">,"def">; // "abcdef"
```</span></span></div></span>Prepend</span></span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>>,</span></span>
<span class="line"><span style="color:#5DA994">    </span><span style="color:#5DA994">Tuples</span><span style="color:#666666">.</span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Tuples</span><span style="color:#DBD7CAEE">.Map</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">fn</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> Fn</span><span style="color:#666666"> |</span><span style="color:#5DA994"> unset</span><span style="color:#666666"> |</span><span style="color:#5DA994"> _</span><span style="color:#666666"> =</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">,</span><span style="color:#5DA994"> tuple</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#5DA994"> any</span><span style="color:#666666">[]</span><span style="color:#666666"> |</span><span style="color:#5DA994"> unset</span><span style="color:#666666"> =</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">></span><span style="color:#666666"> =</span><span style="color:#5DA994"> PartialApply</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">MapFn</span><span style="color:#666666">,</span><span style="color:#666666"> [</span><span style="color:#5DA994">fn</span><span style="color:#666666">,</span><span style="color:#5DA994"> tuple</span><span style="color:#666666">]></span></code><div class="twoslash-popup-docs">Apply a function to each element of a tuple and return a new tuple with the results.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@params</span><span class="twoslash-popup-docs-tag-value">args[0] - A tuple of elements to be transformed.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">fn - A function that takes an element of the tuple and transforms it.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@returns</span><span class="twoslash-popup-docs-tag-value">A tuple with the results of applying the function to each element of the input tuple.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@example</span><span class="twoslash-popup-docs-tag-value">```ts
type T0 = Call&#x3C;T.Map&#x3C;S.ToString>,[1,2,3]>; // ["1","2","3"]
type T1 = Call&#x3C;T.Map&#x3C;S.ToString>,[]>; // []
```</span></span></div></span>Map</span></span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Strings</span><span style="color:#666666">.</span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Strings</span><span style="color:#DBD7CAEE">.Append</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">End</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> string</span><span style="color:#666666"> |</span><span style="color:#5DA994"> _</span><span style="color:#666666"> |</span><span style="color:#5DA994"> unset</span><span style="color:#666666"> =</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">,</span><span style="color:#5DA994"> Str</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> string</span><span style="color:#666666"> |</span><span style="color:#5DA994"> _</span><span style="color:#666666"> |</span><span style="color:#5DA994"> unset</span><span style="color:#666666"> =</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">></span><span style="color:#666666"> =</span><span style="color:#5DA994"> PartialApply</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">AppendFn</span><span style="color:#666666">,</span><span style="color:#666666"> [</span><span style="color:#5DA994">End</span><span style="color:#666666">,</span><span style="color:#5DA994"> Str</span><span style="color:#666666">]></span></code><div class="twoslash-popup-docs">Append a string to another string.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">args 0] - The string to be appended to.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">str - The string to append.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@returns</span><span class="twoslash-popup-docs-tag-value">The appended string.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@example</span><span class="twoslash-popup-docs-tag-value">```ts
type T0 = Call&#x3C;Strings.Append&#x3C;"abc">,"def">; // "defabc"
```</span></span></div></span>Append</span></span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>>,</span></span>
<span class="line"><span style="color:#5DA994">    </span><span style="color:#5DA994">Tuples</span><span style="color:#666666">.</span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Tuples</span><span style="color:#DBD7CAEE">.Join</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Sep</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> string</span><span style="color:#666666"> |</span><span style="color:#5DA994"> _</span><span style="color:#666666"> |</span><span style="color:#5DA994"> unset</span><span style="color:#666666"> =</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">,</span><span style="color:#5DA994"> Tuple</span><span style="color:#666666"> =</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">></span><span style="color:#666666"> =</span><span style="color:#5DA994"> PartialApply</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">JoinFn</span><span style="color:#666666">,</span><span style="color:#666666"> [</span><span style="color:#5DA994">Sep</span><span style="color:#666666">,</span><span style="color:#5DA994"> Tuple</span><span style="color:#666666">]></span></code><div class="twoslash-popup-docs">Join a tuple into a single string.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">args 0] - The tuple to join.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">sep - The separator to join the strings with.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@returns</span><span class="twoslash-popup-docs-tag-value">The joined string.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@example</span><span class="twoslash-popup-docs-tag-value">```ts
type T0 = Call&#x3C;Tuples.Join&#x3C;",">,["a","b","c"]>; // "a,b,c"
type T1 = Call&#x3C;Tuples.Join,",",["a","b","c"]>; // "a,b,c"
type T2 = Call&#x3C;Tuples.Join&#x3C;",",["a","b","c"]>>; // "a,b,c"
```</span></span></div></span>Join</span></span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">|</span><span style="color:#C98A7D99">'</span><span style="color:#666666">></span></span>
<span class="line"><span style="color:#666666">  ]</span></span>
<span class="line"><span style="color:#666666">>;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> SubscriptionTypeLiteral</span><span style="color:#666666"> =</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'free'|'pro'|'enterprise'</span><span style="color:#C98A7D99">"</span></code></span>SubscriptionTypeLiteral</span></span><span style="color:#666666"> =</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> TupleToLiteral</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]></span><span style="color:#666666"> =</span><span style="color:#666666"> ([</span><span style="color:#5DA994">Strings</span><span style="color:#666666">.</span><span style="color:#5DA994">Append</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">>,</span><span style="color:#666666"> {</span><span style="color:#666666"> [</span><span style="color:#5DA994">key</span><span style="color:#CB7676"> in</span><span style="color:#CB7676"> keyof</span><span style="color:#666666"> ((((</span><span style="color:#5DA994">Equal</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#666666">,</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">></span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> true</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> []</span><span style="color:#CB7676"> :</span><span style="color:#666666"> [</span><span style="color:#5DA994">T</span><span style="color:#666666">])</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]</span><span style="color:#CB7676"> ?</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">)</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> :</span><span style="color:#666666"> [])</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> (</span><span style="color:#5DA994">args</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]</span><span style="color:#CB7676"> ?</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">)</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> {</span><span style="color:#666666"> -</span><span style="color:#CB7676">readonly</span><span style="color:#666666"> [</span><span style="color:#5DA994">key</span><span style="color:#CB7676"> in</span><span style="color:#CB7676"> keyof</span><span style="color:#5DA994"> obj</span><span style="color:#666666">]: </span><span style="color:#5DA994">obj</span><span style="color:#666666">[</span><span style="color:#5DA994">key</span><span style="color:#666666">];</span><span style="color:#666666"> }</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">)]: (((</span><span style="color:#5DA994">Equal</span><span style="color:#666666">&#x3C;...> </span><span style="color:#CB7676">extends</span><span style="color:#CB7676"> true</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> [] </span><span style="color:#CB7676">:</span><span style="color:#666666"> [...]) </span><span style="color:#CB7676">extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[] </span><span style="color:#CB7676">?</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">) </span><span style="color:#CB7676">extends</span><span style="color:#666666"> [...] </span><span style="color:#CB7676">?</span><span style="color:#666666"> [...] </span><span style="color:#CB7676">:</span><span style="color:#666666"> [...]) </span><span style="color:#CB7676">extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[] </span><span style="color:#CB7676">?</span><span style="color:#C98A7D99"> `</span><span style="color:#666666">${</span><span style="color:#5DA994">Extract</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D">...</span><span style="color:#666666">></span><span style="color:#666666">}${</span><span style="color:#5DA994">Extract</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D">...</span><span style="color:#666666">></span><span style="color:#666666">}</span><span style="color:#C98A7D99">`</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">;</span><span style="color:#666666"> }]</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> {</span><span style="color:#666666"> [</span><span style="color:#5DA994">key</span><span style="color:#CB7676"> in</span><span style="color:#CB7676"> keyof</span><span style="color:#5DA994"> tuple</span><span style="color:#666666">]: </span><span style="color:#5DA994">Call</span><span style="color:#666666">&#x3C;...>;</span><span style="color:#666666"> }</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">)</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> ?</span><span style="color:#5DA994"> ReduceImpl</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">></span><span style="color:#CB7676"> :</span><span style="color:#666666"> ([</span><span style="color:#5DA994">Strings</span><span style="color:#666666">.</span><span style="color:#5DA994">Append</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">>,</span><span style="color:#666666"> {</span><span style="color:#666666"> [</span><span style="color:#5DA994">key</span><span style="color:#CB7676"> in</span><span style="color:#CB7676"> keyof</span><span style="color:#666666"> ((((</span><span style="color:#5DA994">Equal</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#666666">,</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">></span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> true</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> []</span><span style="color:#CB7676"> :</span><span style="color:#666666"> [</span><span style="color:#5DA994">T</span><span style="color:#666666">])</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]</span><span style="color:#CB7676"> ?</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">)</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> :</span><span style="color:#666666"> [])</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> (</span><span style="color:#5DA994">args</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]</span><span style="color:#CB7676"> ?</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">)</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> {</span><span style="color:#666666"> -</span><span style="color:#CB7676">readonly</span><span style="color:#666666"> [</span><span style="color:#5DA994">key</span><span style="color:#CB7676"> in</span><span style="color:#CB7676"> keyof</span><span style="color:#5DA994"> obj</span><span style="color:#666666">]: </span><span style="color:#5DA994">obj</span><span style="color:#666666">[</span><span style="color:#5DA994">key</span><span style="color:#666666">];</span><span style="color:#666666"> }</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">)]: (((</span><span style="color:#5DA994">Equal</span><span style="color:#666666">&#x3C;...> </span><span style="color:#CB7676">extends</span><span style="color:#CB7676"> true</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> [] </span><span style="color:#CB7676">:</span><span style="color:#666666"> [...]) </span><span style="color:#CB7676">extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[] </span><span style="color:#CB7676">?</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">) </span><span style="color:#CB7676">extends</span><span style="color:#666666"> [...] </span><span style="color:#CB7676">?</span><span style="color:#666666"> [...] </span><span style="color:#CB7676">:</span><span style="color:#666666"> [...]) </span><span style="color:#CB7676">extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[] </span><span style="color:#CB7676">?</span><span style="color:#C98A7D99"> `</span><span style="color:#666666">${</span><span style="color:#5DA994">Extract</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D">...</span><span style="color:#666666">></span><span style="color:#666666">}${</span><span style="color:#5DA994">Extract</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D">...</span><span style="color:#666666">></span><span style="color:#666666">}</span><span style="color:#C98A7D99">`</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">;</span><span style="color:#666666"> }]</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> {</span><span style="color:#666666"> [</span><span style="color:#5DA994">key</span><span style="color:#CB7676"> in</span><span style="color:#CB7676"> keyof</span><span style="color:#5DA994"> tuple</span><span style="color:#666666">]: </span><span style="color:#5DA994">Call</span><span style="color:#666666">&#x3C;...>;</span><span style="color:#666666"> }</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">)</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> ?</span><span style="color:#5DA994"> ReduceImpl</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">></span><span style="color:#CB7676"> :</span><span style="color:#C98A7D99"> ""</span></code></span>TupleToLiteral</span></span><span style="color:#666666">&#x3C;</span><span style="color:#CB7676">typeof</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">SUBSCRIPTION_TYPES</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#666666"> [</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span><span style="color:#666666">]</span></code></span>SUBSCRIPTION_TYPES</span></span><span style="color:#666666">>;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">SUBSCRIPTION_TYPES_LITERAL</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'free'|'pro'|'enterprise'</span><span style="color:#C98A7D99">"</span></code></span>SUBSCRIPTION_TYPES_LITERAL</span></span><span style="color:#666666"> =</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">SUBSCRIPTION_TYPES</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#666666"> [</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span><span style="color:#666666">]</span></code></span>SUBSCRIPTION_TYPES</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">ReadonlyArray</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>.</span><span style="color:#80A665">map</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'free'</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'pro'</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'enterprise'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>(</span><span style="color:#BD976A">callbackfn</span><span style="color:#DBD7CAEE">: </span><span style="color:#666666">(</span><span style="color:#BD976A">value</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> | </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> | </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> index</span><span style="color:#666666">: </span><span style="color:#5DA994">number</span><span style="color:#666666">,</span><span style="color:#BD976A"> array</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#666666"> (</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> | </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> | </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span><span style="color:#666666">)[])</span><span style="color:#666666"> =></span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'free'</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'pro'</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'enterprise'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> thisArg</span><span style="color:#CB7676">?:</span><span style="color:#BD976A"> any</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#666666">(</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'free'</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ...</span><span style="color:#4C9A91"> 1</span><span style="color:#BD976A"> more</span><span style="color:#666666"> ...</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'enterprise'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">)[]</span></code><div class="twoslash-popup-docs">Calls a defined callback function on each element of an array, and returns an array that contains the results.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">callbackfn A function that accepts up to three arguments. The map method calls the callbackfn function one time for each element in the array.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">thisArg An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.</span></span></div></span>map</span></span><span style="color:#666666">(</span></span>
<span class="line"><span style="color:#666666">  (</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">t</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span></code></span>t</span></span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#C98A7D99"> `</span><span style="color:#C98A7D">'</span><span style="color:#666666">${</span><span style="color:#C98A7D"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">t</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">free</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">pro</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">enterprise</span><span style="color:#C98A7D99">"</span></code></span>t</span></span><span style="color:#666666">}</span><span style="color:#C98A7D">'</span><span style="color:#C98A7D99">`</span><span style="color:#4D9375"> as</span><span style="color:#CB7676"> </span><span style="color:#CB7676"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> const</span><span style="color:#666666"> =</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'free'</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'pro'</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'enterprise'</span><span style="color:#C98A7D99">"</span></code></span>const</span></span></span>
<span class="line"><span style="color:#666666">).</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">Array</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'free'</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'pro'</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'enterprise'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>.</span><span style="color:#80A665">join</span><span style="color:#666666">(</span><span style="color:#BD976A">separator</span><span style="color:#CB7676">?:</span><span style="color:#BD976A"> string</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">string</span></code><div class="twoslash-popup-docs">Adds all the elements of an array into a string, separated by the specified separator string.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">separator A string used to separate one element of the array from the next in the resulting string. If omitted, the array elements are separated with a comma.</span></span></div></span>join</span></span><span style="color:#666666">(</span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">|</span><span style="color:#C98A7D99">'</span><span style="color:#666666">)</span><span style="color:#4D9375"> as</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> SubscriptionTypeLiteral</span><span style="color:#666666"> =</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'free'|'pro'|'enterprise'</span><span style="color:#C98A7D99">"</span></code></span>SubscriptionTypeLiteral</span></span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> ColourTypeLiteral</span><span style="color:#666666"> =</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'red'|'green'|'blue'</span><span style="color:#C98A7D99">"</span></code></span>ColourTypeLiteral</span></span><span style="color:#666666"> =</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> TupleToLiteral</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]></span><span style="color:#666666"> =</span><span style="color:#666666"> ([</span><span style="color:#5DA994">Strings</span><span style="color:#666666">.</span><span style="color:#5DA994">Append</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">>,</span><span style="color:#666666"> {</span><span style="color:#666666"> [</span><span style="color:#5DA994">key</span><span style="color:#CB7676"> in</span><span style="color:#CB7676"> keyof</span><span style="color:#666666"> ((((</span><span style="color:#5DA994">Equal</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#666666">,</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">></span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> true</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> []</span><span style="color:#CB7676"> :</span><span style="color:#666666"> [</span><span style="color:#5DA994">T</span><span style="color:#666666">])</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]</span><span style="color:#CB7676"> ?</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">)</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> :</span><span style="color:#666666"> [])</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> (</span><span style="color:#5DA994">args</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]</span><span style="color:#CB7676"> ?</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">)</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> {</span><span style="color:#666666"> -</span><span style="color:#CB7676">readonly</span><span style="color:#666666"> [</span><span style="color:#5DA994">key</span><span style="color:#CB7676"> in</span><span style="color:#CB7676"> keyof</span><span style="color:#5DA994"> obj</span><span style="color:#666666">]: </span><span style="color:#5DA994">obj</span><span style="color:#666666">[</span><span style="color:#5DA994">key</span><span style="color:#666666">];</span><span style="color:#666666"> }</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">)]: (((</span><span style="color:#5DA994">Equal</span><span style="color:#666666">&#x3C;...> </span><span style="color:#CB7676">extends</span><span style="color:#CB7676"> true</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> [] </span><span style="color:#CB7676">:</span><span style="color:#666666"> [...]) </span><span style="color:#CB7676">extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[] </span><span style="color:#CB7676">?</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">) </span><span style="color:#CB7676">extends</span><span style="color:#666666"> [...] </span><span style="color:#CB7676">?</span><span style="color:#666666"> [...] </span><span style="color:#CB7676">:</span><span style="color:#666666"> [...]) </span><span style="color:#CB7676">extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[] </span><span style="color:#CB7676">?</span><span style="color:#C98A7D99"> `</span><span style="color:#666666">${</span><span style="color:#5DA994">Extract</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D">...</span><span style="color:#666666">></span><span style="color:#666666">}${</span><span style="color:#5DA994">Extract</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D">...</span><span style="color:#666666">></span><span style="color:#666666">}</span><span style="color:#C98A7D99">`</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">;</span><span style="color:#666666"> }]</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> {</span><span style="color:#666666"> [</span><span style="color:#5DA994">key</span><span style="color:#CB7676"> in</span><span style="color:#CB7676"> keyof</span><span style="color:#5DA994"> tuple</span><span style="color:#666666">]: </span><span style="color:#5DA994">Call</span><span style="color:#666666">&#x3C;...>;</span><span style="color:#666666"> }</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">)</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> ?</span><span style="color:#5DA994"> ReduceImpl</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">></span><span style="color:#CB7676"> :</span><span style="color:#666666"> ([</span><span style="color:#5DA994">Strings</span><span style="color:#666666">.</span><span style="color:#5DA994">Append</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">>,</span><span style="color:#666666"> {</span><span style="color:#666666"> [</span><span style="color:#5DA994">key</span><span style="color:#CB7676"> in</span><span style="color:#CB7676"> keyof</span><span style="color:#666666"> ((((</span><span style="color:#5DA994">Equal</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">T</span><span style="color:#666666">,</span><span style="color:#5DA994"> unique</span><span style="color:#5DA994"> symbol</span><span style="color:#666666">></span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> true</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> []</span><span style="color:#CB7676"> :</span><span style="color:#666666"> [</span><span style="color:#5DA994">T</span><span style="color:#666666">])</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]</span><span style="color:#CB7676"> ?</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">)</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> :</span><span style="color:#666666"> [])</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> (</span><span style="color:#5DA994">args</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[]</span><span style="color:#CB7676"> ?</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">)</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> {</span><span style="color:#666666"> -</span><span style="color:#CB7676">readonly</span><span style="color:#666666"> [</span><span style="color:#5DA994">key</span><span style="color:#CB7676"> in</span><span style="color:#CB7676"> keyof</span><span style="color:#5DA994"> obj</span><span style="color:#666666">]: </span><span style="color:#5DA994">obj</span><span style="color:#666666">[</span><span style="color:#5DA994">key</span><span style="color:#666666">];</span><span style="color:#666666"> }</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">)]: (((</span><span style="color:#5DA994">Equal</span><span style="color:#666666">&#x3C;...> </span><span style="color:#CB7676">extends</span><span style="color:#CB7676"> true</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> [] </span><span style="color:#CB7676">:</span><span style="color:#666666"> [...]) </span><span style="color:#CB7676">extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[] </span><span style="color:#CB7676">?</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">) </span><span style="color:#CB7676">extends</span><span style="color:#666666"> [...] </span><span style="color:#CB7676">?</span><span style="color:#666666"> [...] </span><span style="color:#CB7676">:</span><span style="color:#666666"> [...]) </span><span style="color:#CB7676">extends</span><span style="color:#CB7676"> infer</span><span style="color:#5DA994"> args</span><span style="color:#CB7676"> extends</span><span style="color:#5DA994"> unknown</span><span style="color:#666666">[] </span><span style="color:#CB7676">?</span><span style="color:#C98A7D99"> `</span><span style="color:#666666">${</span><span style="color:#5DA994">Extract</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D">...</span><span style="color:#666666">></span><span style="color:#666666">}${</span><span style="color:#5DA994">Extract</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D">...</span><span style="color:#666666">></span><span style="color:#666666">}</span><span style="color:#C98A7D99">`</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">;</span><span style="color:#666666"> }]</span><span style="color:#CB7676"> extends</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> ?</span><span style="color:#666666"> {</span><span style="color:#666666"> [</span><span style="color:#5DA994">key</span><span style="color:#CB7676"> in</span><span style="color:#CB7676"> keyof</span><span style="color:#5DA994"> tuple</span><span style="color:#666666">]: </span><span style="color:#5DA994">Call</span><span style="color:#666666">&#x3C;...>;</span><span style="color:#666666"> }</span><span style="color:#CB7676"> :</span><span style="color:#5DA994"> never</span><span style="color:#666666">)</span><span style="color:#CB7676"> extends</span><span style="color:#CB7676"> readonly</span><span style="color:#666666"> [...]</span><span style="color:#CB7676"> ?</span><span style="color:#5DA994"> ReduceImpl</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">></span><span style="color:#CB7676"> :</span><span style="color:#C98A7D99"> ""</span></code></span>TupleToLiteral</span></span><span style="color:#666666">&#x3C;</span><span style="color:#CB7676">typeof</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">COLOURS</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#666666"> [</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">]</span></code></span>COLOURS</span></span><span style="color:#666666">>;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">COLOURS_LITERAL</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'red'|'green'|'blue'</span><span style="color:#C98A7D99">"</span></code></span>COLOURS_LITERAL</span></span><span style="color:#666666"> =</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">COLOURS</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#666666"> [</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">]</span></code></span>COLOURS</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">ReadonlyArray</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>.</span><span style="color:#80A665">map</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'red'</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'green'</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'blue'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>(</span><span style="color:#BD976A">callbackfn</span><span style="color:#DBD7CAEE">: </span><span style="color:#666666">(</span><span style="color:#BD976A">value</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> | </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> | </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> index</span><span style="color:#666666">: </span><span style="color:#5DA994">number</span><span style="color:#666666">,</span><span style="color:#BD976A"> array</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#666666"> (</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> | </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> | </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span><span style="color:#666666">)[])</span><span style="color:#666666"> =></span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'red'</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'green'</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'blue'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> thisArg</span><span style="color:#CB7676">?:</span><span style="color:#BD976A"> any</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#666666">(</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'red'</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ...</span><span style="color:#4C9A91"> 1</span><span style="color:#BD976A"> more</span><span style="color:#666666"> ...</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'blue'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">)[]</span></code><div class="twoslash-popup-docs">Calls a defined callback function on each element of an array, and returns an array that contains the results.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">callbackfn A function that accepts up to three arguments. The map method calls the callbackfn function one time for each element in the array.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">thisArg An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.</span></span></div></span>map</span></span><span style="color:#666666">((</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">t</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span></code></span>t</span></span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#C98A7D99"> `</span><span style="color:#C98A7D">'</span><span style="color:#666666">${</span><span style="color:#C98A7D"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">t</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">red</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">green</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">blue</span><span style="color:#C98A7D99">"</span></code></span>t</span></span><span style="color:#666666">}</span><span style="color:#C98A7D">'</span><span style="color:#C98A7D99">`</span><span style="color:#4D9375"> as</span><span style="color:#CB7676"> </span><span style="color:#CB7676"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> const</span><span style="color:#666666"> =</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'red'</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'green'</span><span style="color:#C98A7D99">"</span><span style="color:#666666"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'blue'</span><span style="color:#C98A7D99">"</span></code></span>const</span></span><span style="color:#666666">).</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">Array</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'red'</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'green'</span><span style="color:#C98A7D99">"</span><span style="color:#CB7676"> |</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'blue'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>.</span><span style="color:#80A665">join</span><span style="color:#666666">(</span><span style="color:#BD976A">separator</span><span style="color:#CB7676">?:</span><span style="color:#BD976A"> string</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">string</span></code><div class="twoslash-popup-docs">Adds all the elements of an array into a string, separated by the specified separator string.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">separator A string used to separate one element of the array from the next in the resulting string. If omitted, the array elements are separated with a comma.</span></span></div></span>join</span></span><span style="color:#666666">(</span></span>
<span class="line"><span style="color:#C98A7D99">  '</span><span style="color:#C98A7D">|</span><span style="color:#C98A7D99">'</span></span>
<span class="line"><span style="color:#666666">)</span><span style="color:#4D9375"> as</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> ColourTypeLiteral</span><span style="color:#666666"> =</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'red'|'green'|'blue'</span><span style="color:#C98A7D99">"</span></code></span>ColourTypeLiteral</span></span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">hexColorRegexString</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">^#[a-fA-F0-9]{6}$</span><span style="color:#C98A7D99">"</span></code></span>hexColorRegexString</span></span><span style="color:#666666"> =</span><span style="color:#C98A7D99"> `</span><span style="color:#C98A7D">^#[a-fA-F0-9]{6}$</span><span style="color:#C98A7D99">`</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">COLOURS_WITH_CODES_LITERAL</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">('red'|'green'|'blue')|/^#[a-fA-F0-9]{6}$/</span><span style="color:#C98A7D99">"</span></code></span>COLOURS_WITH_CODES_LITERAL</span></span><span style="color:#666666"> =</span></span>
<span class="line"><span style="color:#C98A7D99">  `</span><span style="color:#C98A7D">(</span><span style="color:#666666">${</span><span style="color:#C98A7D"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">COLOURS_LITERAL</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'red'|'green'|'blue'</span><span style="color:#C98A7D99">"</span></code></span>COLOURS_LITERAL</span></span><span style="color:#666666">}</span><span style="color:#C98A7D">)|/</span><span style="color:#666666">${</span><span style="color:#C98A7D"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">hexColorRegexString</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">^#[a-fA-F0-9]{6}$</span><span style="color:#C98A7D99">"</span></code></span>hexColorRegexString</span></span><span style="color:#666666">}</span><span style="color:#C98A7D">/</span><span style="color:#C98A7D99">`</span><span style="color:#4D9375"> as</span><span style="color:#CB7676"> </span><span style="color:#CB7676"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">type</span><span style="color:#5DA994"> const</span><span style="color:#666666"> =</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">('red'|'green'|'blue')|/^#[a-fA-F0-9]{6}$/</span><span style="color:#C98A7D99">"</span></code></span>const</span></span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">isoDateString</span><span style="color:#666666">: </span><span style="color:#5DA994">Type</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">, {}></span></code></span>isoDateString</span></span><span style="color:#666666"> =</span><span style="color:#80A665"> </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">type</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">string</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#5DA994"> Type</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">,</span><span style="color:#666666"> {}>>(</span><span style="color:#BD976A">def</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">any</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#80A665">Type</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">,</span><span style="color:#666666"> {}></span><span style="color:#666666"> (</span><span style="color:#CB7676">+</span><span style="color:#4C9A91">2</span><span style="color:#BD976A"> overloads</span><span style="color:#666666">)</span></code></span>type</span></span><span style="color:#666666">(</span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">string</span><span style="color:#C98A7D99">'</span><span style="color:#666666">).</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">Type</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">any</span><span style="color:#666666">, {}>.</span><span style="color:#80A665">narrow</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">never</span><span style="color:#666666">>(</span><span style="color:#BD976A">predicate</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Predicate</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">any</span><span style="color:#666666">></span><span style="color:#CB7676"> |</span><span style="color:#BD976A"> PredicateCast</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">any</span><span style="color:#666666">,</span><span style="color:#BD976A"> never</span><span style="color:#666666">>)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Type</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">any</span><span style="color:#666666">, {}></span></code></span>narrow</span></span><span style="color:#666666">((</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">s</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span></code></span>s</span></span><span style="color:#666666">,</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">ctx</span><span style="color:#666666">:</span><span style="color:#BD976A"> TraversalContext</span></code></span>ctx</span></span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#4D9375">  if</span><span style="color:#666666"> (</span><span style="color:#CB7676">!</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">ISO_DATE_REGEX</span><span style="color:#666666">: </span><span style="color:#5DA994">RegExp</span></code></span>ISO_DATE_REGEX</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">RegExp</span><span style="color:#666666">.</span><span style="color:#80A665">test</span><span style="color:#666666">(</span><span style="color:#BD976A">string</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">string</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">boolean</span></code><div class="twoslash-popup-docs">Returns a Boolean value that indicates whether or not a pattern exists in a searched string.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">string String on which to perform the search.</span></span></div></span>test</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">s</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span></code></span>s</span></span><span style="color:#666666">))</span><span style="color:#4D9375"> return</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">ctx</span><span style="color:#666666">:</span><span style="color:#BD976A"> TraversalContext</span></code></span>ctx</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">TraversalContext</span><span style="color:#666666">.</span><span style="color:#80A665">mustBe</span><span style="color:#666666">(</span><span style="color:#BD976A">expected</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">string</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#4D9375">false</span></code></span>mustBe</span></span><span style="color:#666666">(</span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">a valid ISO date string</span><span style="color:#C98A7D99">'</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#4D9375">  return</span><span style="color:#4D9375"> true</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">isoDate</span><span style="color:#666666">: </span><span style="color:#5DA994">Type</span><span style="color:#666666">&#x3C;(</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">) => </span><span style="color:#5DA994">Out</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Date</span><span style="color:#666666">>, {}></span></code></span>isoDate</span></span><span style="color:#666666"> =</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">isoDateString</span><span style="color:#666666">: </span><span style="color:#5DA994">Type</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">, {}></span></code></span>isoDateString</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Type</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">any</span><span style="color:#666666">, {}>.</span><span style="color:#BD976A">pipe</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">ChainedPipes</span></span>
<span class="line"><span style="color:#666666">&#x3C;(</span><span style="color:#BD976A">s</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#5DA994"> Date</span><span style="color:#666666">,</span><span style="color:#5DA994"> Type</span><span style="color:#666666">&#x3C;(</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#5DA994"> Out</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Date</span><span style="color:#666666">>,</span><span style="color:#666666"> {}>>(</span><span style="color:#80A665">a</span><span style="color:#666666">: (</span><span style="color:#BD976A">s</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">) => </span><span style="color:#5DA994">Date</span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#80A665"> Type</span><span style="color:#666666">&#x3C;(</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#5DA994"> Out</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Date</span><span style="color:#666666">>,</span><span style="color:#666666"> {}></span><span style="color:#666666"> (</span><span style="color:#CB7676">+</span><span style="color:#4C9A91">6</span><span style="color:#BD976A"> overloads</span><span style="color:#666666">)</span></span></code></pre></code></span>pipe</span></span><span style="color:#666666">(</span></span>
<span class="line"><span style="color:#666666">  (</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">s</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span></code></span>s</span></span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#CB7676"> new </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">var </span><span style="color:#BD976A">Date</span><span style="color:#666666">: </span><span style="color:#5DA994">DateConstructor</span></span>
<span class="line"><span style="color:#CB7676">new</span><span style="color:#666666"> (</span><span style="color:#BD976A">value</span><span style="color:#666666">: </span><span style="color:#5DA994">number</span><span style="color:#666666"> | </span><span style="color:#5DA994">string</span><span style="color:#666666"> | </span><span style="color:#5DA994">Date</span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#80A665"> Date</span><span style="color:#666666"> (</span><span style="color:#CB7676">+</span><span style="color:#4C9A91">4</span><span style="color:#BD976A"> overloads</span><span style="color:#666666">)</span></span></code></pre></code></span>Date</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">s</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span></code></span>s</span></span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#666666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">favouriteColours</span><span style="color:#666666">: </span><span style="color:#5DA994">Type</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">[], </span><span style="color:#5DA994">Narrowed</span><span style="color:#666666">>, {}></span></code></span>favouriteColours</span></span><span style="color:#666666"> =</span><span style="color:#80A665"> </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">type</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">(('red'|'green'|'blue')|/^#[a-fA-F0-9]{6}$/)[]</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#5DA994"> Type</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">[],</span><span style="color:#666666"> {}>>(</span><span style="color:#BD976A">def</span><span style="color:#DBD7CAEE">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">(('red'|'green'|'blue')|/^#[a-fA-F0-9]{6}$/)[]</span><span style="color:#C98A7D99">"</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#80A665">Type</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">[],</span><span style="color:#666666"> {}></span><span style="color:#666666"> (</span><span style="color:#CB7676">+</span><span style="color:#4C9A91">2</span><span style="color:#BD976A"> overloads</span><span style="color:#666666">)</span></code></span>type</span></span><span style="color:#666666">(</span><span style="color:#C98A7D99">`</span><span style="color:#C98A7D">(</span><span style="color:#666666">${</span><span style="color:#C98A7D"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">COLOURS_WITH_CODES_LITERAL</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">('red'|'green'|'blue')|/^#[a-fA-F0-9]{6}$/</span><span style="color:#C98A7D99">"</span></code></span>COLOURS_WITH_CODES_LITERAL</span></span><span style="color:#666666">}</span><span style="color:#C98A7D">)[]</span><span style="color:#C98A7D99">`</span><span style="color:#666666">).</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">Type</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">any</span><span style="color:#666666">[], {}>.</span><span style="color:#80A665">narrow</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">never</span><span style="color:#666666">>(</span><span style="color:#BD976A">predicate</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Predicate</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">any</span><span style="color:#666666">[]></span><span style="color:#CB7676"> |</span><span style="color:#BD976A"> PredicateCast</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">any</span><span style="color:#666666">[],</span><span style="color:#BD976A"> never</span><span style="color:#666666">>)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Type</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">constrain</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">any</span><span style="color:#666666">[],</span><span style="color:#BD976A"> Narrowed</span><span style="color:#666666">>, {}></span></code></span>narrow</span></span><span style="color:#666666">(</span></span>
<span class="line"><span style="color:#666666">  (</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">v</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">[]</span></code></span>v</span></span><span style="color:#666666">,</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">ctx</span><span style="color:#666666">:</span><span style="color:#BD976A"> TraversalContext</span></code></span>ctx</span></span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#CB7676">    const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">set</span><span style="color:#666666">: </span><span style="color:#5DA994">Set</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">></span></code></span>set</span></span><span style="color:#666666"> =</span><span style="color:#CB7676"> new </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">var </span><span style="color:#BD976A">Set</span><span style="color:#666666">: </span><span style="color:#5DA994">SetConstructor</span></span>
<span class="line"><span style="color:#CB7676">new</span><span style="color:#666666"> &#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">>(</span><span style="color:#BD976A">iterable</span><span style="color:#CB7676">?</span><span style="color:#666666">: </span><span style="color:#5DA994">Iterable</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">> | </span><span style="color:#CB7676">null</span><span style="color:#666666"> | </span><span style="color:#CB7676">undefined</span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#80A665"> Set</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">></span><span style="color:#666666"> (</span><span style="color:#CB7676">+</span><span style="color:#4C9A91">1</span><span style="color:#BD976A"> overload</span><span style="color:#666666">)</span></span></code></pre></code></span>Set</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">v</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">[]</span></code></span>v</span></span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#4D9375">    if</span><span style="color:#666666"> (</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">set</span><span style="color:#666666">: </span><span style="color:#5DA994">Set</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">></span></code></span>set</span></span><span style="color:#666666">.</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">Set</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">T</span><span style="color:#666666">>.</span><span style="color:#BD976A">size</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">number</span></code><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@returns</span><span class="twoslash-popup-docs-tag-value">the number of (unique) elements in Set.</span></span></div></span>size</span></span><span style="color:#CB7676"> !== </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">v</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">[]</span></code></span>v</span></span><span style="color:#666666">.</span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">Array</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">T</span><span style="color:#666666">>.</span><span style="color:#B8A965">length</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">number</span></code><div class="twoslash-popup-docs">Gets or sets the length of the array. This is a number one higher than the highest index in the array.</div></span>length</span></span><span style="color:#666666">)</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#4D9375">      return</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">ctx</span><span style="color:#666666">:</span><span style="color:#BD976A"> TraversalContext</span></code></span>ctx</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">TraversalContext</span><span style="color:#666666">.</span><span style="color:#80A665">mustBe</span><span style="color:#666666">(</span><span style="color:#BD976A">expected</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">string</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#4D9375">false</span></code></span>mustBe</span></span><span style="color:#666666">(</span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">favourite colours must be unique</span><span style="color:#C98A7D99">'</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#666666">    }</span></span>
<span class="line"><span style="color:#4D9375">    return</span><span style="color:#4D9375"> true</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">  }</span></span>
<span class="line"><span style="color:#666666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">favouriteColoursSet</span><span style="color:#666666">: </span><span style="color:#5DA994">Type</span><span style="color:#666666">&#x3C;(</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">[], </span><span style="color:#5DA994">Narrowed</span><span style="color:#666666">>) => </span><span style="color:#5DA994">Out</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Set</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">>>, {}></span></code></span>favouriteColoursSet</span></span><span style="color:#666666"> =</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">favouriteColours</span><span style="color:#666666">: </span><span style="color:#5DA994">Type</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">[], </span><span style="color:#5DA994">Narrowed</span><span style="color:#666666">>, {}></span></code></span>favouriteColours</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Type</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">constrain</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">any</span><span style="color:#666666">[],</span><span style="color:#BD976A"> Narrowed</span><span style="color:#666666">>, {}>.</span><span style="color:#BD976A">pipe</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">ChainedPipes</span></span>
<span class="line"><span style="color:#666666">&#x3C;(</span><span style="color:#BD976A">a</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">[])</span><span style="color:#666666"> =></span><span style="color:#BD976A"> Set</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">any</span><span style="color:#666666">>,</span><span style="color:#BD976A"> Type</span><span style="color:#666666">&#x3C;(</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">[], </span><span style="color:#5DA994">Narrowed</span><span style="color:#666666">>)</span><span style="color:#666666"> =></span><span style="color:#BD976A"> Out</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Set</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">any</span><span style="color:#CB7676">>></span><span style="color:#666666">, {}</span><span style="color:#CB7676">>></span><span style="color:#666666">(</span><span style="color:#80A665">a</span><span style="color:#666666">: (</span><span style="color:#BD976A">a</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">[]) => </span><span style="color:#5DA994">Set</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">>)</span><span style="color:#666666"> =></span><span style="color:#BD976A"> Type</span><span style="color:#666666">&#x3C;(</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">[], </span><span style="color:#5DA994">Narrowed</span><span style="color:#666666">>)</span><span style="color:#666666"> =></span><span style="color:#BD976A"> Out</span><span style="color:#666666">&#x3C;...>, {}></span><span style="color:#666666"> (</span><span style="color:#CB7676">+</span><span style="color:#4C9A91">6</span><span style="color:#BD976A"> overloads</span><span style="color:#666666">)</span></span></code></pre></code></span>pipe</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">a</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">[]</span></code></span>a</span></span><span style="color:#666666"> =></span><span style="color:#CB7676"> new </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">var </span><span style="color:#BD976A">Set</span><span style="color:#666666">: </span><span style="color:#5DA994">SetConstructor</span></span>
<span class="line"><span style="color:#CB7676">new</span><span style="color:#666666"> &#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">>(</span><span style="color:#BD976A">iterable</span><span style="color:#CB7676">?</span><span style="color:#666666">: </span><span style="color:#5DA994">Iterable</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">> | </span><span style="color:#CB7676">null</span><span style="color:#666666"> | </span><span style="color:#CB7676">undefined</span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#80A665"> Set</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">></span><span style="color:#666666"> (</span><span style="color:#CB7676">+</span><span style="color:#4C9A91">1</span><span style="color:#BD976A"> overload</span><span style="color:#666666">)</span></span></code></pre></code></span>Set</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">a</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">[]</span></code></span>a</span></span><span style="color:#666666">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">profile</span><span style="color:#666666">: </span><span style="color:#5DA994">Type</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    boughtTracks</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">} | {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    publishedTracks</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}, {}></span></span></code></pre></code></span>profile</span></span><span style="color:#666666"> =</span><span style="color:#80A665"> </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">type</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'listener'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> boughtTracks</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">integer>0</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">|</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#CB7676"> readonly</span><span style="color:#666666"> [{</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'artist'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> publishedTracks</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">integer>0</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}],</span><span style="color:#5DA994"> Type</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    boughtTracks</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    publishedTracks</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#666666"> {}>>(</span><span style="color:#BD976A">_0</span><span style="color:#666666">: </span><span style="color:#5DA994">validateObjectLiteral</span><span style="color:#666666">&#x3C;...>,</span><span style="color:#BD976A"> _1</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">|</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> _2_0</span><span style="color:#666666">: </span><span style="color:#5DA994">validateObjectLiteral</span><span style="color:#666666">&#x3C;...>):</span><span style="color:#5DA994"> Type</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">></span><span style="color:#666666"> (</span><span style="color:#DBD7CAEE">+</span><span style="color:#4C9A91">2</span><span style="color:#5DA994"> overloads</span><span style="color:#666666">)</span></span></code></pre></code></span>type</span></span><span style="color:#666666">(</span></span>
<span class="line"><span style="color:#666666">  {</span></span>
<span class="line"><span style="color:#B8A965">    </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">type</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'listener'</span><span style="color:#C98A7D99">"</span></code></span>type</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'listener'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#B8A965">    </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">boughtTracks</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span></code></span>boughtTracks</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">integer>0</span><span style="color:#C98A7D99">'</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#666666">  },</span></span>
<span class="line"><span style="color:#C98A7D99">  '</span><span style="color:#C98A7D">|</span><span style="color:#C98A7D99">'</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#666666">  {</span></span>
<span class="line"><span style="color:#B8A965">    </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">type</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'artist'</span><span style="color:#C98A7D99">"</span></code></span>type</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'artist'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#B8A965">    </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">publishedTracks</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span></code></span>publishedTracks</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">integer>0</span><span style="color:#C98A7D99">'</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#666666">  }</span></span>
<span class="line"><span style="color:#666666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">fileSystem</span><span style="color:#666666">: </span><span style="color:#5DA994">Type</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">} | {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    children</span><span style="color:#666666">: </span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;({</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    } | ...)[], </span><span style="color:#5DA994">Narrowed</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">}, {</span></span>
<span class="line"><span style="color:#BD976A">    root</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    } | {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        children</span><span style="color:#666666">: </span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;({</span></span>
<span class="line"><span style="color:#BD976A">            type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">            name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">        } | ...)[], </span><span style="color:#5DA994">Narrowed</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#BD976A">    filename</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    file</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#BD976A">    directory</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        children</span><span style="color:#666666">: </span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;({</span></span>
<span class="line"><span style="color:#BD976A">            type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">            name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">        } | ...)[], </span><span style="color:#5DA994">Narrowed</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#666666">}></span></span></code></pre></code></span>fileSystem</span></span><span style="color:#666666"> =</span><span style="color:#80A665"> </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">scope</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> filename</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">0&#x3C;string&#x3C;255</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> file</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#CB7676">        readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'file'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">        readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">filename</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> directory</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#CB7676">        readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'directory'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">        readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">filename</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">        readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#666666"> [...];</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> root</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file|directory</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}>(</span><span style="color:#BD976A">def</span><span style="color:#666666">: </span><span style="color:#5DA994">validateScope</span><span style="color:#666666">&#x3C;...>,</span><span style="color:#BD976A"> config</span><span style="color:#CB7676">?</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkScopeConfig</span><span style="color:#666666">):</span><span style="color:#5DA994"> Scope</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">></span></span></code></pre></code></span>scope</span></span><span style="color:#666666">({</span></span>
<span class="line"><span style="color:#B8A965">  </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">filename</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span></code></span>filename</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">0&#x3C;string&#x3C;255</span><span style="color:#C98A7D99">'</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#B8A965">  </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">file</span><span style="color:#666666">:</span><span style="color:#80A665"> validateObjectLiteral</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'file'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">filename</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#5DA994"> bootstrapAliases</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> filename</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">0&#x3C;string&#x3C;255</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> file</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#CB7676">        readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'file'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">        readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">filename</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> directory</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#CB7676">        readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'directory'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">        readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">filename</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">        readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#666666"> [...];</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> root</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file|directory</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}>,</span><span style="color:#666666"> {}></span></span></code></pre></code></span>file</span></span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#B8A965">    </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">type</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'file'</span><span style="color:#C98A7D99">"</span></code></span>type</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'file'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#B8A965">    </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">name</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">filename</span><span style="color:#C98A7D99">"</span></code></span>name</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">filename</span><span style="color:#C98A7D99">'</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#666666">  },</span></span>
<span class="line"><span style="color:#B8A965">  </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">directory</span><span style="color:#666666">:</span><span style="color:#80A665"> validateObjectLiteral</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'directory'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">filename</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> children</span><span style="color:#666666">: </span><span style="color:#CB7676">readonly</span><span style="color:#666666"> [</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">root[]</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">:</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">unknown</span><span style="color:#666666">];</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#5DA994"> bootstrapAliases</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> filename</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">0&#x3C;string&#x3C;255</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> file</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#CB7676">        readonly</span><span style="color:#BD976A"> type</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'file'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">        readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">filename</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> directory</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> root</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">file|directory</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}>,</span><span style="color:#666666"> {}></span></span></code></pre></code></span>directory</span></span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#B8A965">    </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">type</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'directory'</span><span style="color:#C98A7D99">"</span></code></span>type</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'directory'</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#B8A965">    </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">name</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">filename</span><span style="color:#C98A7D99">"</span></code></span>name</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">filename</span><span style="color:#C98A7D99">'</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#B8A965">    </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">children</span><span style="color:#666666">:</span><span style="color:#BD976A"> readonly</span><span style="color:#666666"> [</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">root[]</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">:</span><span style="color:#C98A7D99">"</span><span style="color:#666666">,</span><span style="color:#BD976A"> Predicate</span><span style="color:#666666">&#x3C;({</span></span>
<span class="line"><span style="color:#B8A965">    type</span><span style="color:#666666">: </span><span style="color:#BD976A">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#B8A965">    type</span><span style="color:#666666">: </span><span style="color:#BD976A">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    children</span><span style="color:#666666">: </span><span style="color:#BD976A">constrain</span><span style="color:#666666">&#x3C;({</span></span>
<span class="line"><span style="color:#B8A965">        type</span><span style="color:#666666">: </span><span style="color:#BD976A">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    } </span><span style="color:#CB7676">|</span><span style="color:#666666"> ...)[], Narrowed>;</span></span>
<span class="line"><span style="color:#666666">})[]>]</span></span></code></pre></code></span>children</span></span><span style="color:#666666">: [</span></span>
<span class="line"><span style="color:#C98A7D99">      '</span><span style="color:#C98A7D">root[]</span><span style="color:#C98A7D99">'</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#C98A7D99">      '</span><span style="color:#C98A7D">:</span><span style="color:#C98A7D99">'</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#666666">      (</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">v</span><span style="color:#666666">:</span><span style="color:#666666"> ({</span></span>
<span class="line"><span style="color:#B8A965">    type</span><span style="color:#666666">: </span><span style="color:#BD976A">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#B8A965">    type</span><span style="color:#666666">: </span><span style="color:#BD976A">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    children</span><span style="color:#666666">: </span><span style="color:#BD976A">constrain</span><span style="color:#666666">&#x3C;({</span></span>
<span class="line"><span style="color:#B8A965">        type</span><span style="color:#666666">: </span><span style="color:#BD976A">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    } </span><span style="color:#CB7676">|</span><span style="color:#666666"> ...)[], Narrowed>;</span></span>
<span class="line"><span style="color:#666666">})[]</span></span></code></pre></code></span>v</span></span><span style="color:#666666">, </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">ctx</span><span style="color:#666666">:</span><span style="color:#BD976A"> TraversalContext</span></code></span>ctx</span></span><span style="color:#666666">) => {</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#CB7676">new</span><span style="color:#80A665"> </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">var </span><span style="color:#BD976A">Set</span><span style="color:#666666">: </span><span style="color:#5DA994">SetConstructor</span></span>
<span class="line"><span style="color:#CB7676">new</span><span style="color:#666666"> &#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">>(</span><span style="color:#BD976A">iterable</span><span style="color:#CB7676">?</span><span style="color:#666666">: </span><span style="color:#5DA994">Iterable</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">> | </span><span style="color:#CB7676">null</span><span style="color:#666666"> | </span><span style="color:#CB7676">undefined</span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#80A665"> Set</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">></span><span style="color:#666666"> (</span><span style="color:#CB7676">+</span><span style="color:#4C9A91">1</span><span style="color:#BD976A"> overload</span><span style="color:#666666">)</span></span></code></pre></code></span>Set</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">v</span><span style="color:#666666">:</span><span style="color:#666666"> ({</span></span>
<span class="line"><span style="color:#B8A965">    type</span><span style="color:#666666">: </span><span style="color:#BD976A">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#B8A965">    type</span><span style="color:#666666">: </span><span style="color:#BD976A">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    children</span><span style="color:#666666">: </span><span style="color:#BD976A">constrain</span><span style="color:#666666">&#x3C;({</span></span>
<span class="line"><span style="color:#B8A965">        type</span><span style="color:#666666">: </span><span style="color:#BD976A">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    } </span><span style="color:#CB7676">|</span><span style="color:#666666"> ...)[], Narrowed>;</span></span>
<span class="line"><span style="color:#666666">})[]</span></span></code></pre></code></span>v</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Array</span><span style="color:#666666">&#x3C;{</span><span style="color:#80A665"> type</span><span style="color:#666666">:</span><span style="color:#BD976A"> ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span><span style="color:#80A665"> name</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span><span style="color:#666666"> }</span><span style="color:#CB7676"> |</span><span style="color:#666666"> {</span><span style="color:#80A665"> type</span><span style="color:#666666">:</span><span style="color:#BD976A"> ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span><span style="color:#80A665"> name</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span><span style="color:#80A665"> children</span><span style="color:#666666">:</span><span style="color:#BD976A"> constrain</span><span style="color:#666666">&#x3C;({ </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#BD976A">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">; </span><span style="color:#BD976A">name</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">; }</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ...)[],</span><span style="color:#BD976A"> Narrowed</span><span style="color:#666666">>;</span><span style="color:#666666"> }>.</span><span style="color:#80A665">map</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">>(</span><span style="color:#BD976A">callbackfn</span><span style="color:#DBD7CAEE">: </span><span style="color:#666666">(</span><span style="color:#BD976A">value</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">} | {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    children</span><span style="color:#666666">: </span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;({</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    } | ...)[], </span><span style="color:#5DA994">Narrowed</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#BD976A"> index</span><span style="color:#666666">: </span><span style="color:#5DA994">number</span><span style="color:#666666">,</span><span style="color:#80A665"> array</span><span style="color:#666666">: ({</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">} | {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    children</span><span style="color:#666666">: </span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;({</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    } | ...)[], </span><span style="color:#5DA994">Narrowed</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">})[])</span><span style="color:#666666"> =></span><span style="color:#BD976A"> any</span><span style="color:#666666">,</span><span style="color:#BD976A"> thisArg</span><span style="color:#CB7676">?:</span><span style="color:#BD976A"> any</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">any</span><span style="color:#666666">[]</span></span></code></pre></code><div class="twoslash-popup-docs">Calls a defined callback function on each element of an array, and returns an array that contains the results.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">callbackfn A function that accepts up to three arguments. The map method calls the callbackfn function one time for each element in the array.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">thisArg An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.</span></span></div></span>map</span></span><span style="color:#666666">((</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">f</span><span style="color:#666666">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#80A665">    type</span><span style="color:#666666">:</span><span style="color:#BD976A"> ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    name</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#80A665">    type</span><span style="color:#666666">:</span><span style="color:#BD976A"> ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    name</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    children</span><span style="color:#666666">:</span><span style="color:#BD976A"> constrain</span><span style="color:#666666">&#x3C;({</span></span>
<span class="line"><span style="color:#B8A965">        type</span><span style="color:#666666">: </span><span style="color:#BD976A">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ...)[],</span><span style="color:#BD976A"> Narrowed</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>f</span></span><span style="color:#666666">) => </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">f</span><span style="color:#666666">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#80A665">    type</span><span style="color:#666666">:</span><span style="color:#BD976A"> ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    name</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#80A665">    type</span><span style="color:#666666">:</span><span style="color:#BD976A"> ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    name</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    children</span><span style="color:#666666">:</span><span style="color:#BD976A"> constrain</span><span style="color:#666666">&#x3C;({</span></span>
<span class="line"><span style="color:#B8A965">        type</span><span style="color:#666666">: </span><span style="color:#BD976A">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ...)[],</span><span style="color:#BD976A"> Narrowed</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>f</span></span><span style="color:#666666">.</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">name</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span></code></span>name</span></span><span style="color:#666666">)).</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">Set</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">T</span><span style="color:#666666">>.</span><span style="color:#BD976A">size</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">number</span></code><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@returns</span><span class="twoslash-popup-docs-tag-value">the number of (unique) elements in Set.</span></span></div></span>size</span></span><span style="color:#CB7676"> !==</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">v</span><span style="color:#666666">:</span><span style="color:#666666"> ({</span></span>
<span class="line"><span style="color:#B8A965">    type</span><span style="color:#666666">: </span><span style="color:#BD976A">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#CB7676"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#B8A965">    type</span><span style="color:#666666">: </span><span style="color:#BD976A">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    children</span><span style="color:#666666">: </span><span style="color:#BD976A">constrain</span><span style="color:#666666">&#x3C;({</span></span>
<span class="line"><span style="color:#B8A965">        type</span><span style="color:#666666">: </span><span style="color:#BD976A">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    } </span><span style="color:#CB7676">|</span><span style="color:#666666"> ...)[], Narrowed>;</span></span>
<span class="line"><span style="color:#666666">})[]</span></span></code></pre></code></span>v</span></span><span style="color:#666666">.</span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">Array</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">T</span><span style="color:#666666">>.</span><span style="color:#B8A965">length</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">number</span></code><div class="twoslash-popup-docs">Gets or sets the length of the array. This is a number one higher than the highest index in the array.</div></span>length</span></span><span style="color:#666666">) {</span></span>
<span class="line"><span style="color:#4D9375">          return</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">ctx</span><span style="color:#666666">:</span><span style="color:#BD976A"> TraversalContext</span></code></span>ctx</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">TraversalContext</span><span style="color:#666666">.</span><span style="color:#80A665">mustBe</span><span style="color:#666666">(</span><span style="color:#BD976A">expected</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">string</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#4D9375">false</span></code></span>mustBe</span></span><span style="color:#666666">(</span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">names must be unique in a directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#666666">        }</span></span>
<span class="line"><span style="color:#4D9375">        return</span><span style="color:#4D9375"> true</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">      },</span></span>
<span class="line"><span style="color:#666666">    ],</span></span>
<span class="line"><span style="color:#666666">  },</span></span>
<span class="line"><span style="color:#B8A965">  </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">root</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">file|directory</span><span style="color:#C98A7D99">"</span></code></span>root</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">file|directory</span><span style="color:#C98A7D99">'</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#666666">}).</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Scope</span><span style="color:#666666">&#x3C;{</span><span style="color:#80A665"> root</span><span style="color:#666666">:</span><span style="color:#666666"> {</span><span style="color:#80A665"> type</span><span style="color:#666666">:</span><span style="color:#BD976A"> ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span><span style="color:#80A665"> name</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span><span style="color:#666666"> }</span><span style="color:#CB7676"> |</span><span style="color:#666666"> {</span><span style="color:#80A665"> type</span><span style="color:#666666">:</span><span style="color:#BD976A"> ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span><span style="color:#80A665"> name</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span><span style="color:#80A665"> children</span><span style="color:#666666">:</span><span style="color:#BD976A"> constrain</span><span style="color:#666666">&#x3C;({ </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#BD976A">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">; </span><span style="color:#BD976A">name</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">; }</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ...)[],</span><span style="color:#BD976A"> Narrowed</span><span style="color:#666666">>;</span><span style="color:#666666"> };</span><span style="color:#80A665"> filename</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span><span style="color:#80A665"> file</span><span style="color:#666666">:</span><span style="color:#666666"> {</span><span style="color:#80A665"> type</span><span style="color:#666666">:</span><span style="color:#BD976A"> ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span><span style="color:#80A665"> name</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span><span style="color:#666666"> };</span><span style="color:#80A665"> directory</span><span style="color:#666666">:</span><span style="color:#666666"> {</span><span style="color:#80A665"> type</span><span style="color:#666666">:</span><span style="color:#BD976A"> ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span><span style="color:#80A665"> name</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span><span style="color:#80A665"> children</span><span style="color:#666666">:</span><span style="color:#BD976A"> constrain</span><span style="color:#666666">&#x3C;({ </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#BD976A">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">; </span><span style="color:#BD976A">name</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">; }</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ...)[],</span><span style="color:#BD976A"> Narrowed</span><span style="color:#666666">>;</span><span style="color:#666666"> };</span><span style="color:#666666"> }>.</span><span style="color:#80A665">resolve</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">root</span><span style="color:#C98A7D99">"</span><span style="color:#666666">>(</span><span style="color:#BD976A">name</span><span style="color:#DBD7CAEE">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">root</span><span style="color:#C98A7D99">"</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#80A665">Type</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    children</span><span style="color:#666666">: </span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;({</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    } | ...)[], </span><span style="color:#5DA994">Narrowed</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    root</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    } | {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        children</span><span style="color:#666666">: </span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;...>;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#BD976A">    filename</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    file</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#BD976A">    directory</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        children</span><span style="color:#666666">: </span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;...>;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#666666">}></span></span></code></pre></code></span>resolve</span></span><span style="color:#666666">(</span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">root</span><span style="color:#C98A7D99">'</span><span style="color:#666666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">userJson</span><span style="color:#666666">: </span><span style="color:#5DA994">Type</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    email</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    createdAt</span><span style="color:#666666">: (</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">) => </span><span style="color:#5DA994">Out</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Date</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#80A665">    updatedAt</span><span style="color:#666666">: (</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">) => </span><span style="color:#5DA994">Out</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Date</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    subscription</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    stripeId</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666">.</span><span style="color:#5DA994">matching</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    visits</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    favouriteColours</span><span style="color:#666666">: (</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;...>) => </span><span style="color:#5DA994">Out</span><span style="color:#666666">&#x3C;...>;</span></span>
<span class="line"><span style="color:#BD976A">    profile</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    } | {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#BD976A">    fileSystem</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    } | {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        children</span><span style="color:#666666">: </span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;({</span></span>
<span class="line"><span style="color:#BD976A">            type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">            name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">        } | ...)[], </span><span style="color:#5DA994">Narrowed</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#5DA994">Narrowed</span><span style="color:#666666">>, {}></span></span></code></pre></code></span>userJson</span></span><span style="color:#666666"> =</span><span style="color:#80A665"> </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">type</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> name</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">0&#x3C;string&#x3C;255</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> email</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">email</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> createdAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Type</span><span style="color:#666666">&#x3C;(</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">) => </span><span style="color:#5DA994">Out</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Date</span><span style="color:#666666">>, {}>;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> updatedAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Type</span><span style="color:#666666">&#x3C;(</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">) => </span><span style="color:#5DA994">Out</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Date</span><span style="color:#666666">>, {}>;</span></span>
<span class="line"><span style="color:#666666">    ...</span><span style="color:#4C9A91"> 5</span><span style="color:#5DA994"> more</span><span style="color:#666666"> .</span><span style="color:#DBD7CAEE">..</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    readonly</span><span style="color:#BD976A"> fileSystem</span><span style="color:#666666">: </span><span style="color:#5DA994">Type</span><span style="color:#666666">&#x3C;...>;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#5DA994"> Type</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">>>(</span><span style="color:#BD976A">def</span><span style="color:#666666">: </span><span style="color:#5DA994">validateObjectLiteral</span><span style="color:#666666">&#x3C;...>):</span><span style="color:#5DA994"> Type</span><span style="color:#666666">&#x3C;</span><span style="color:#DBD7CAEE">...</span><span style="color:#666666">></span><span style="color:#666666"> (</span><span style="color:#DBD7CAEE">+</span><span style="color:#4C9A91">2</span><span style="color:#5DA994"> overloads</span><span style="color:#666666">)</span></span></code></pre></code></span>type</span></span><span style="color:#666666">({</span></span>
<span class="line"><span style="color:#B8A965">  </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">name</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span></code></span>name</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">0&#x3C;string&#x3C;255</span><span style="color:#C98A7D99">'</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#B8A965">  </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">email</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span></code></span>email</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">email</span><span style="color:#C98A7D99">'</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#B8A965">  </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">createdAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> Type</span><span style="color:#666666">&#x3C;(</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#BD976A"> Out</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Date</span><span style="color:#666666">>, {}></span></code></span>createdAt</span></span><span style="color:#666666">: </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">isoDate</span><span style="color:#666666">: </span><span style="color:#5DA994">Type</span><span style="color:#666666">&#x3C;(</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">) => </span><span style="color:#5DA994">Out</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Date</span><span style="color:#666666">>, {}></span></code></span>isoDate</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#B8A965">  </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">updatedAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> Type</span><span style="color:#666666">&#x3C;(</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#BD976A"> Out</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Date</span><span style="color:#666666">>, {}></span></code></span>updatedAt</span></span><span style="color:#666666">: </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">isoDate</span><span style="color:#666666">: </span><span style="color:#5DA994">Type</span><span style="color:#666666">&#x3C;(</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">) => </span><span style="color:#5DA994">Out</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Date</span><span style="color:#666666">>, {}></span></code></span>isoDate</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#B8A965">  </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">subscription</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">'free'|'pro'|'enterprise'</span><span style="color:#C98A7D99">"</span></code></span>subscription</span></span><span style="color:#666666">: </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">SUBSCRIPTION_TYPES_LITERAL</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">'free'|'pro'|'enterprise'</span><span style="color:#C98A7D99">"</span></code></span>SUBSCRIPTION_TYPES_LITERAL</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#B8A965">  </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">stripeId</span><span style="color:#666666">:</span><span style="color:#BD976A"> RegExp</span></code></span>stripeId</span></span><span style="color:#666666">:</span><span style="color:#C98A7D99"> /</span><span style="color:#4D9375">^</span><span style="color:#C4704F">cus_</span><span style="color:#666666">[</span><span style="color:#C99076">a-zA-Z0-9</span><span style="color:#666666">]</span><span style="color:#4C9A91">{14,}</span><span style="color:#4D9375">$</span><span style="color:#C98A7D99">/</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#B8A965">  </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">visits</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span></code></span>visits</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">integer>0</span><span style="color:#C98A7D99">'</span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#B8A965">  </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">favouriteColours</span><span style="color:#666666">:</span><span style="color:#BD976A"> Type</span><span style="color:#666666">&#x3C;(</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">[], </span><span style="color:#5DA994">Narrowed</span><span style="color:#666666">>)</span><span style="color:#666666"> =></span><span style="color:#BD976A"> Out</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Set</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">any</span><span style="color:#CB7676">>></span><span style="color:#666666">, {}></span></code></span>favouriteColours</span></span><span style="color:#666666">: </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#BD976A">favouriteColoursSet</span><span style="color:#666666">: </span><span style="color:#5DA994">Type</span><span style="color:#666666">&#x3C;(</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">[], </span><span style="color:#5DA994">Narrowed</span><span style="color:#666666">>) => </span><span style="color:#5DA994">Out</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Set</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">>>, {}></span></code></span>favouriteColoursSet</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">profile</span><span style="color:#666666">:</span><span style="color:#80A665"> Type</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    boughtTracks</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    publishedTracks</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#666666"> {}></span></span></code></pre></code></span>profile</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">fileSystem</span><span style="color:#666666">:</span><span style="color:#80A665"> Type</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    children</span><span style="color:#666666">: </span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;({</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    } | ...)[], </span><span style="color:#5DA994">Narrowed</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">},</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    root</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    } | {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        children</span><span style="color:#666666">: </span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;({</span></span>
<span class="line"><span style="color:#BD976A">            type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">            name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">        } | ...)[], </span><span style="color:#5DA994">Narrowed</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#BD976A">    filename</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    file</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#BD976A">    directory</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        children</span><span style="color:#666666">: </span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;({</span></span>
<span class="line"><span style="color:#BD976A">            type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">            name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">        } | ...)[], </span><span style="color:#5DA994">Narrowed</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#666666">}></span></span></code></pre></code></span>fileSystem</span></span><span style="color:#666666">,</span></span>
<span class="line"><span style="color:#666666">}).</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Type</span><span style="color:#666666">&#x3C;{</span><span style="color:#80A665"> name</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span><span style="color:#80A665"> email</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span><span style="color:#80A665"> createdAt</span><span style="color:#666666">:</span><span style="color:#666666"> (</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#BD976A"> Out</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Date</span><span style="color:#666666">>;</span><span style="color:#80A665"> updatedAt</span><span style="color:#666666">:</span><span style="color:#666666"> (</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#BD976A"> Out</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Date</span><span style="color:#666666">>;</span><span style="color:#80A665"> subscription</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span><span style="color:#80A665"> stripeId</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span><span style="color:#666666">.</span><span style="color:#BD976A">matching</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">string</span><span style="color:#666666">>;</span><span style="color:#80A665"> visits</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span><span style="color:#80A665"> favouriteColours</span><span style="color:#666666">:</span><span style="color:#666666"> (</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;...>)</span><span style="color:#666666"> =></span><span style="color:#BD976A"> Out</span><span style="color:#666666">&#x3C;...>;</span><span style="color:#80A665"> profile</span><span style="color:#666666">:</span><span style="color:#666666"> {</span><span style="color:#666666"> ...;</span><span style="color:#666666"> }</span><span style="color:#CB7676"> |</span><span style="color:#666666"> {</span><span style="color:#666666"> ...;</span><span style="color:#666666"> };</span><span style="color:#80A665"> fileSystem</span><span style="color:#666666">:</span><span style="color:#666666"> {</span><span style="color:#80A665"> type</span><span style="color:#666666">:</span><span style="color:#BD976A"> ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span><span style="color:#80A665"> name</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span><span style="color:#666666"> }</span><span style="color:#CB7676"> |</span><span style="color:#666666"> {</span><span style="color:#80A665"> type</span><span style="color:#666666">:</span><span style="color:#BD976A"> ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span><span style="color:#80A665"> name</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span><span style="color:#80A665"> children</span><span style="color:#666666">:</span><span style="color:#BD976A"> constrain</span><span style="color:#666666">&#x3C;({ </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#BD976A">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">; </span><span style="color:#BD976A">name</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">; }</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ...)[],</span><span style="color:#BD976A"> Narrowed</span><span style="color:#666666">>;</span><span style="color:#666666"> };</span><span style="color:#666666"> }, {}>.</span><span style="color:#80A665">narrow</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">never</span><span style="color:#666666">>(</span><span style="color:#BD976A">predicate</span><span style="color:#DBD7CAEE">: </span><span style="color:#80A665">Predicate</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    email</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    createdAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    updatedAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    subscription</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    stripeId</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    visits</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    favouriteColours</span><span style="color:#666666">: </span><span style="color:#5DA994">Set</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    profile</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        boughtTracks</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    } | {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#BD976A">    fileSystem</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    } | {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#666666">}></span><span style="color:#CB7676"> |</span><span style="color:#BD976A"> PredicateCast</span><span style="color:#666666">&#x3C;...>)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">Type</span><span style="color:#666666">&#x3C;...></span></span></code></pre></code></span>narrow</span></span><span style="color:#666666">((</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">u</span><span style="color:#666666">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#80A665">    name</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    email</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    createdAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    updatedAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    subscription</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    stripeId</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    visits</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    favouriteColours</span><span style="color:#666666">:</span><span style="color:#BD976A"> Set</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">any</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#80A665">    profile</span><span style="color:#666666">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#80A665">        type</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">        boughtTracks</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#80A665">    fileSystem</span><span style="color:#666666">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>u</span></span><span style="color:#666666">,</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">ctx</span><span style="color:#666666">:</span><span style="color:#BD976A"> TraversalContext</span></code></span>ctx</span></span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#4D9375">  if</span><span style="color:#666666"> (</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">u</span><span style="color:#666666">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#80A665">    name</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    email</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    createdAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    updatedAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    subscription</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    stripeId</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    visits</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    favouriteColours</span><span style="color:#666666">:</span><span style="color:#BD976A"> Set</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">any</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#80A665">    profile</span><span style="color:#666666">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#80A665">        type</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">        boughtTracks</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#80A665">    fileSystem</span><span style="color:#666666">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>u</span></span><span style="color:#666666">.</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">updatedAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> Date</span></code></span>updatedAt</span></span><span style="color:#666666"> &#x3C;</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">u</span><span style="color:#666666">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#80A665">    name</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    email</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    createdAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    updatedAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    subscription</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    stripeId</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    visits</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    favouriteColours</span><span style="color:#666666">:</span><span style="color:#BD976A"> Set</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">any</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#80A665">    profile</span><span style="color:#666666">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#80A665">        type</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">        boughtTracks</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#80A665">    fileSystem</span><span style="color:#666666">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>u</span></span><span style="color:#666666">.</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">createdAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> Date</span></code></span>createdAt</span></span><span style="color:#666666">)</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#4D9375">    return</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">ctx</span><span style="color:#666666">:</span><span style="color:#BD976A"> TraversalContext</span></code></span>ctx</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">TraversalContext</span><span style="color:#666666">.</span><span style="color:#80A665">mustBe</span><span style="color:#666666">(</span><span style="color:#BD976A">expected</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">string</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#4D9375">false</span></code></span>mustBe</span></span><span style="color:#666666">(</span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">createdAt must be less or equal than updatedAt</span><span style="color:#C98A7D99">'</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#666666">  }</span></span>
<span class="line"><span style="color:#4D9375">  return</span><span style="color:#4D9375"> true</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> UserJson</span><span style="color:#666666"> =</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    email</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    createdAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    updatedAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    subscription</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    stripeId</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    visits</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    favouriteColours</span><span style="color:#666666">: </span><span style="color:#5DA994">Set</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    profile</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        boughtTracks</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    } | {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#BD976A">    fileSystem</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    } | {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>UserJson</span></span><span style="color:#666666"> =</span><span style="color:#CB7676"> typeof</span><span style="color:#BD976A"> </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">userJson</span><span style="color:#666666">: </span><span style="color:#5DA994">Type</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;{</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    email</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    createdAt</span><span style="color:#666666">: (</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">) => </span><span style="color:#5DA994">Out</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Date</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#80A665">    updatedAt</span><span style="color:#666666">: (</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">) => </span><span style="color:#5DA994">Out</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">Date</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    subscription</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    stripeId</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666">.</span><span style="color:#5DA994">matching</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    visits</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    favouriteColours</span><span style="color:#666666">: (</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;...>) => </span><span style="color:#5DA994">Out</span><span style="color:#666666">&#x3C;...>;</span></span>
<span class="line"><span style="color:#BD976A">    profile</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    } | {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#BD976A">    fileSystem</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    } | {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        children</span><span style="color:#666666">: </span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;({</span></span>
<span class="line"><span style="color:#BD976A">            type</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#5DA994">$</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">            name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">        } | ...)[], </span><span style="color:#5DA994">Narrowed</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#666666">}, </span><span style="color:#5DA994">Narrowed</span><span style="color:#666666">>, {}></span></span></code></pre></code></span>userJson</span></span><span style="color:#666666">.</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#BD976A">Type</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">constrain</span><span style="color:#666666">&#x3C;{</span><span style="color:#80A665"> name</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span><span style="color:#80A665"> email</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span><span style="color:#80A665"> createdAt</span><span style="color:#666666">:</span><span style="color:#666666"> (</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#BD976A"> Out</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Date</span><span style="color:#666666">>;</span><span style="color:#80A665"> updatedAt</span><span style="color:#666666">:</span><span style="color:#666666"> (</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#BD976A"> Out</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">Date</span><span style="color:#666666">>;</span><span style="color:#80A665"> subscription</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span><span style="color:#80A665"> stripeId</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span><span style="color:#666666">.</span><span style="color:#BD976A">matching</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">string</span><span style="color:#666666">>;</span><span style="color:#80A665"> visits</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span><span style="color:#80A665"> favouriteColours</span><span style="color:#666666">:</span><span style="color:#666666"> (</span><span style="color:#BD976A">In</span><span style="color:#666666">: </span><span style="color:#5DA994">constrain</span><span style="color:#666666">&#x3C;...>)</span><span style="color:#666666"> =></span><span style="color:#BD976A"> Out</span><span style="color:#666666">&#x3C;...>;</span><span style="color:#80A665"> profile</span><span style="color:#666666">:</span><span style="color:#666666"> {</span><span style="color:#666666"> ...;</span><span style="color:#666666"> }</span><span style="color:#CB7676"> |</span><span style="color:#666666"> {</span><span style="color:#666666"> ...;</span><span style="color:#666666"> };</span><span style="color:#80A665"> fileSystem</span><span style="color:#666666">:</span><span style="color:#666666"> {</span><span style="color:#80A665"> type</span><span style="color:#666666">:</span><span style="color:#BD976A"> ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span><span style="color:#80A665"> name</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span><span style="color:#666666"> }</span><span style="color:#CB7676"> |</span><span style="color:#666666"> {</span><span style="color:#80A665"> type</span><span style="color:#666666">:</span><span style="color:#BD976A"> ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">;</span><span style="color:#80A665"> name</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span><span style="color:#80A665"> children</span><span style="color:#666666">:</span><span style="color:#BD976A"> constrain</span><span style="color:#666666">&#x3C;({ </span><span style="color:#B8A965">type</span><span style="color:#666666">: </span><span style="color:#BD976A">ArkAmbient</span><span style="color:#666666">.</span><span style="color:#BD976A">$</span><span style="color:#666666">; </span><span style="color:#BD976A">name</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">; }</span><span style="color:#CB7676"> |</span><span style="color:#666666"> ...)[],</span><span style="color:#BD976A"> Narrowed</span><span style="color:#666666">>;</span><span style="color:#666666"> };</span><span style="color:#666666"> },</span><span style="color:#BD976A"> Narrowed</span><span style="color:#666666">>, {}>.</span><span style="color:#BD976A">infer</span><span style="color:#DBD7CAEE">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#B8A965">    name</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    email</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    createdAt</span><span style="color:#666666">: </span><span style="color:#BD976A">Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    updatedAt</span><span style="color:#666666">: </span><span style="color:#BD976A">Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    subscription</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    stripeId</span><span style="color:#666666">: </span><span style="color:#BD976A">string</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    visits</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    favouriteColours</span><span style="color:#666666">: </span><span style="color:#BD976A">Set</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">any</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    profile</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#B8A965">        type</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        boughtTracks</span><span style="color:#666666">: </span><span style="color:#BD976A">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    } </span><span style="color:#CB7676">|</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#BD976A">    fileSystem</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    } </span><span style="color:#CB7676">|</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>infer</span></span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> User</span><span style="color:#666666"> =</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    email</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    createdAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    updatedAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    subscription</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    stripeId</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    visits</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    favouriteColours</span><span style="color:#666666">: </span><span style="color:#5DA994">Set</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    profile</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        boughtTracks</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    } | {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#BD976A">    fileSystem</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    } | {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>User</span></span><span style="color:#666666"> =</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> UserJson</span><span style="color:#666666"> =</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    email</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    createdAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    updatedAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    subscription</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    stripeId</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    visits</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    favouriteColours</span><span style="color:#666666">: </span><span style="color:#5DA994">Set</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    profile</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        boughtTracks</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    } | {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#BD976A">    fileSystem</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    } | {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>UserJson</span></span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375">export</span><span style="color:#CB7676"> const </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#80A665">decodeUser</span><span style="color:#666666">: (</span><span style="color:#BD976A">u</span><span style="color:#666666">: </span><span style="color:#5DA994">unknown</span><span style="color:#666666">) => </span><span style="color:#5DA994">Result</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">User</span><span style="color:#666666">></span></code></span>decodeUser</span></span><span style="color:#666666"> =</span><span style="color:#666666"> (</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">u</span><span style="color:#666666">:</span><span style="color:#BD976A"> unknown</span></code></span>u</span></span><span style="color:#666666">: </span><span style="color:#5DA994">unknown</span><span style="color:#666666">):</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Result</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">E</span><span style="color:#666666">,</span><span style="color:#5DA994"> T</span><span style="color:#666666">></span><span style="color:#666666"> =</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    _tag</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">left</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    error</span><span style="color:#666666">: </span><span style="color:#5DA994">E</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    _tag</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">right</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    value</span><span style="color:#666666">: </span><span style="color:#5DA994">T</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>Result</span></span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666">,</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> User</span><span style="color:#666666"> =</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    email</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    createdAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    updatedAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    subscription</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    stripeId</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    visits</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    favouriteColours</span><span style="color:#666666">: </span><span style="color:#5DA994">Set</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    profile</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        boughtTracks</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    } | {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#BD976A">    fileSystem</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    } | {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>User</span></span><span style="color:#666666">></span><span style="color:#666666"> =></span></span>
<span class="line"><span style="color:#758575DD">  // the lib mutates the input</span></span>
<span class="line"><span style="color:#80A665">  </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#80A665">mapResult</span><span style="color:#666666">: &#x3C;</span><span style="color:#5DA994">unknown</span><span style="color:#666666">, {</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    email</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    createdAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    updatedAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    subscription</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    stripeId</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    visits</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    favouriteColours</span><span style="color:#666666">: </span><span style="color:#5DA994">Set</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    profile</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        boughtTracks</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    } | {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#BD976A">    fileSystem</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    } | {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#666666">}>(</span><span style="color:#BD976A">r</span><span style="color:#666666">: </span><span style="color:#5DA994">ArkErrors</span><span style="color:#666666"> | {</span></span>
<span class="line"><span style="color:#666666">    ...;</span></span>
<span class="line"><span style="color:#666666">}) => </span><span style="color:#5DA994">Result</span><span style="color:#666666">&#x3C;...></span></span></code></pre></code></span>mapResult</span></span><span style="color:#666666">(</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">const </span><span style="color:#BD976A">userJson</span><span style="color:#666666">: </span><span style="color:#5DA994">Type</span></span>
<span class="line"><span style="color:#666666">(</span><span style="color:#BD976A">data</span><span style="color:#666666">: </span><span style="color:#5DA994">unknown</span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#BD976A"> ArkErrors</span><span style="color:#CB7676"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#80A665">    name</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    email</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    createdAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    updatedAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    subscription</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    stripeId</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    visits</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    favouriteColours</span><span style="color:#666666">:</span><span style="color:#BD976A"> Set</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">any</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#80A665">    profile</span><span style="color:#666666">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#80A665">    fileSystem</span><span style="color:#666666">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>userJson</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">var </span><span style="color:#BD976A">JSON</span><span style="color:#666666">: </span><span style="color:#5DA994">JSON</span></code><div class="twoslash-popup-docs">An intrinsic object that provides functions to convert JavaScript values to and from the JavaScript Object Notation (JSON) format.</div></span>JSON</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">JSON</span><span style="color:#666666">.</span><span style="color:#80A665">parse</span><span style="color:#666666">(</span><span style="color:#BD976A">text</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">string</span><span style="color:#666666">,</span><span style="color:#BD976A"> reviver</span><span style="color:#CB7676">?:</span><span style="color:#666666"> (</span><span style="color:#C99076">this</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">,</span><span style="color:#BD976A"> key</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666">,</span><span style="color:#BD976A"> value</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#BD976A"> any</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">any</span></code><div class="twoslash-popup-docs">Converts a JavaScript Object Notation (JSON) string into an object.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">text A valid JSON string.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">reviver A function that transforms the results. This function is called for each member of the object.
If a member contains nested objects, the nested objects are transformed before the parent object is.</span></span></div></span>parse</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">var </span><span style="color:#BD976A">JSON</span><span style="color:#666666">: </span><span style="color:#5DA994">JSON</span></code><div class="twoslash-popup-docs">An intrinsic object that provides functions to convert JavaScript values to and from the JavaScript Object Notation (JSON) format.</div></span>JSON</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">JSON</span><span style="color:#666666">.</span><span style="color:#80A665">stringify</span><span style="color:#666666">(</span><span style="color:#BD976A">value</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">any</span><span style="color:#666666">,</span><span style="color:#BD976A"> replacer</span><span style="color:#CB7676">?:</span><span style="color:#666666"> (</span><span style="color:#C99076">this</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">,</span><span style="color:#BD976A"> key</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666">,</span><span style="color:#BD976A"> value</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#BD976A"> any</span><span style="color:#666666">,</span><span style="color:#BD976A"> space</span><span style="color:#CB7676">?:</span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> |</span><span style="color:#BD976A"> number</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#80A665">string</span><span style="color:#666666"> (</span><span style="color:#CB7676">+</span><span style="color:#4C9A91">1</span><span style="color:#BD976A"> overload</span><span style="color:#666666">)</span></code><div class="twoslash-popup-docs">Converts a JavaScript value to a JavaScript Object Notation (JSON) string.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">value A JavaScript value, usually an object or array, to be converted.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">replacer A function that transforms the results.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">space Adds indentation, white space, and line break characters to the return-value JSON text to make it easier to read.</span></span></div></span>stringify</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">u</span><span style="color:#666666">:</span><span style="color:#BD976A"> unknown</span></code></span>u</span></span><span style="color:#666666">))));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375">export</span><span style="color:#CB7676"> const </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#80A665">encodeUser</span><span style="color:#666666">: (</span><span style="color:#BD976A">_u</span><span style="color:#666666">: </span><span style="color:#5DA994">User</span><span style="color:#666666">) => </span><span style="color:#5DA994">Result</span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">the lib cannot do it</span><span style="color:#C98A7D99">"</span><span style="color:#666666">, </span><span style="color:#5DA994">never</span><span style="color:#666666">></span></code></span>encodeUser</span></span><span style="color:#666666"> =</span><span style="color:#666666"> (</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#80A665">_u</span><span style="color:#666666">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#80A665">    name</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    email</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    createdAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    updatedAt</span><span style="color:#666666">:</span><span style="color:#BD976A"> Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    subscription</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    stripeId</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    visits</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">    favouriteColours</span><span style="color:#666666">:</span><span style="color:#BD976A"> Set</span><span style="color:#666666">&#x3C;</span><span style="color:#BD976A">any</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#80A665">    profile</span><span style="color:#666666">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#80A665">        type</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#80A665">        boughtTracks</span><span style="color:#666666">:</span><span style="color:#BD976A"> any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#80A665">    fileSystem</span><span style="color:#666666">:</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    }</span><span style="color:#CB7676"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>_u</span></span><span style="color:#666666">: </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> User</span><span style="color:#666666"> =</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    name</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    email</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    createdAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    updatedAt</span><span style="color:#666666">: </span><span style="color:#5DA994">Date</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    subscription</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    stripeId</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    visits</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    favouriteColours</span><span style="color:#666666">: </span><span style="color:#5DA994">Set</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">any</span><span style="color:#666666">>;</span></span>
<span class="line"><span style="color:#BD976A">    profile</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#BD976A">        type</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        boughtTracks</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    } | {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#BD976A">    fileSystem</span><span style="color:#666666">: {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    } | {</span></span>
<span class="line"><span style="color:#666666">        ...;</span></span>
<span class="line"><span style="color:#666666">    };</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>User</span></span><span style="color:#666666">):</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Result</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">E</span><span style="color:#666666">,</span><span style="color:#5DA994"> T</span><span style="color:#666666">></span><span style="color:#666666"> =</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    _tag</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">left</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    error</span><span style="color:#666666">: </span><span style="color:#5DA994">E</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    _tag</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">right</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    value</span><span style="color:#666666">: </span><span style="color:#5DA994">T</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>Result</span></span><span style="color:#666666">&#x3C;</span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">the lib cannot do it</span><span style="color:#C98A7D99">'</span><span style="color:#666666">,</span><span style="color:#5DA994"> never</span><span style="color:#666666">></span><span style="color:#666666"> =></span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#4D9375">  return</span><span style="color:#666666"> { </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">_tag</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">left</span><span style="color:#C98A7D99">"</span></code></span>_tag</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">left</span><span style="color:#C98A7D99">'</span><span style="color:#666666">, </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">error</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">the lib cannot do it</span><span style="color:#C98A7D99">"</span></code></span>error</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">the lib cannot do it</span><span style="color:#C98A7D99">'</span><span style="color:#666666"> };</span></span>
<span class="line"><span style="color:#666666">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">// utils</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">const </span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">const </span><span style="color:#80A665">mapResult</span><span style="color:#666666">: &#x3C;</span><span style="color:#5DA994">E</span><span style="color:#666666">, </span><span style="color:#5DA994">T</span><span style="color:#666666">>(</span><span style="color:#BD976A">r</span><span style="color:#666666">: </span><span style="color:#5DA994">T</span><span style="color:#666666"> | </span><span style="color:#5DA994">ArkErrors</span><span style="color:#666666">) => </span><span style="color:#5DA994">Result</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666">, </span><span style="color:#5DA994">T</span><span style="color:#666666">></span></code></span>mapResult</span></span><span style="color:#666666"> =</span><span style="color:#666666"> &#x3C;</span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">function</span><span style="color:#666666"> (</span><span style="color:#BD976A">type</span><span style="color:#BD976A"> parameter</span><span style="color:#666666">)</span><span style="color:#80A665"> E</span><span style="color:#80A665"> in</span><span style="color:#666666"> &#x3C;</span><span style="color:#5DA994">E</span><span style="color:#666666">,</span><span style="color:#5DA994"> T</span><span style="color:#666666">>(</span><span style="color:#BD976A">r</span><span style="color:#666666">: </span><span style="color:#5DA994">T</span><span style="color:#666666"> | </span><span style="color:#5DA994">ArkErrors</span><span style="color:#666666">):</span><span style="color:#5DA994"> Result</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666">,</span><span style="color:#5DA994"> T</span><span style="color:#666666">></span></code></span>E</span></span><span style="color:#666666">,</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">function</span><span style="color:#666666"> (</span><span style="color:#BD976A">type</span><span style="color:#BD976A"> parameter</span><span style="color:#666666">)</span><span style="color:#80A665"> T</span><span style="color:#80A665"> in</span><span style="color:#666666"> &#x3C;</span><span style="color:#5DA994">E</span><span style="color:#666666">,</span><span style="color:#5DA994"> T</span><span style="color:#666666">>(</span><span style="color:#BD976A">r</span><span style="color:#666666">: </span><span style="color:#5DA994">T</span><span style="color:#666666"> | </span><span style="color:#5DA994">ArkErrors</span><span style="color:#666666">):</span><span style="color:#5DA994"> Result</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666">,</span><span style="color:#5DA994"> T</span><span style="color:#666666">></span></code></span>T</span></span><span style="color:#666666">>(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">r</span><span style="color:#666666">:</span><span style="color:#BD976A"> ArkErrors</span><span style="color:#CB7676"> |</span><span style="color:#BD976A"> T</span></code></span>r</span></span><span style="color:#666666">: </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">function</span><span style="color:#666666"> (</span><span style="color:#BD976A">type</span><span style="color:#BD976A"> parameter</span><span style="color:#666666">)</span><span style="color:#80A665"> T</span><span style="color:#80A665"> in</span><span style="color:#666666"> &#x3C;</span><span style="color:#5DA994">E</span><span style="color:#666666">,</span><span style="color:#5DA994"> T</span><span style="color:#666666">>(</span><span style="color:#BD976A">r</span><span style="color:#666666">: </span><span style="color:#5DA994">T</span><span style="color:#666666"> | </span><span style="color:#5DA994">ArkErrors</span><span style="color:#666666">):</span><span style="color:#5DA994"> Result</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666">,</span><span style="color:#5DA994"> T</span><span style="color:#666666">></span></code></span>T</span></span><span style="color:#666666"> | </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">class</span><span style="color:#5DA994"> ArkErrors</span></code></span>ArkErrors</span></span><span style="color:#666666">):</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><pre class="shiki vitesse-dark" style="background-color:#121212;color:#dbd7caee" tabindex="0"><code><span class="line"><span style="color:#CB7676">type</span><span style="color:#5DA994"> Result</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">E</span><span style="color:#666666">,</span><span style="color:#5DA994"> T</span><span style="color:#666666">></span><span style="color:#666666"> =</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    _tag</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">left</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    error</span><span style="color:#666666">: </span><span style="color:#5DA994">E</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span><span style="color:#666666"> |</span><span style="color:#666666"> {</span></span>
<span class="line"><span style="color:#BD976A">    _tag</span><span style="color:#666666">: </span><span style="color:#C98A7D99">"</span><span style="color:#C98A7D">right</span><span style="color:#C98A7D99">"</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">    value</span><span style="color:#666666">: </span><span style="color:#5DA994">T</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">}</span></span></code></pre></code></span>Result</span></span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666">,</span><span style="color:#5DA994"> </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">function</span><span style="color:#666666"> (</span><span style="color:#BD976A">type</span><span style="color:#BD976A"> parameter</span><span style="color:#666666">)</span><span style="color:#80A665"> T</span><span style="color:#80A665"> in</span><span style="color:#666666"> &#x3C;</span><span style="color:#5DA994">E</span><span style="color:#666666">,</span><span style="color:#5DA994"> T</span><span style="color:#666666">>(</span><span style="color:#BD976A">r</span><span style="color:#666666">: </span><span style="color:#5DA994">T</span><span style="color:#666666"> | </span><span style="color:#5DA994">ArkErrors</span><span style="color:#666666">):</span><span style="color:#5DA994"> Result</span><span style="color:#666666">&#x3C;</span><span style="color:#5DA994">string</span><span style="color:#666666">,</span><span style="color:#5DA994"> T</span><span style="color:#666666">></span></code></span>T</span></span><span style="color:#666666">></span><span style="color:#666666"> =></span></span>
<span class="line"><span style="color:#BD976A">  </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">r</span><span style="color:#666666">:</span><span style="color:#BD976A"> ArkErrors</span><span style="color:#CB7676"> |</span><span style="color:#BD976A"> T</span></code></span>r</span></span><span style="color:#CB7676"> instanceof </span><span style="color:#5DA994"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">class</span><span style="color:#5DA994"> ArkErrors</span></code></span>ArkErrors</span></span></span>
<span class="line"><span style="color:#CB7676">    ?</span><span style="color:#666666"> { </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">_tag</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">left</span><span style="color:#C98A7D99">"</span></code></span>_tag</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">left</span><span style="color:#C98A7D99">'</span><span style="color:#666666">, </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">error</span><span style="color:#666666">:</span><span style="color:#BD976A"> string</span></code></span>error</span></span><span style="color:#666666">: </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#CB7676">var </span><span style="color:#BD976A">JSON</span><span style="color:#666666">: </span><span style="color:#5DA994">JSON</span></code><div class="twoslash-popup-docs">An intrinsic object that provides functions to convert JavaScript values to and from the JavaScript Object Notation (JSON) format.</div></span>JSON</span></span><span style="color:#666666">.</span><span style="color:#80A665"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#BD976A">JSON</span><span style="color:#666666">.</span><span style="color:#80A665">stringify</span><span style="color:#666666">(</span><span style="color:#BD976A">value</span><span style="color:#DBD7CAEE">: </span><span style="color:#BD976A">any</span><span style="color:#666666">,</span><span style="color:#BD976A"> replacer</span><span style="color:#CB7676">?:</span><span style="color:#666666"> (</span><span style="color:#C99076">this</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">,</span><span style="color:#BD976A"> key</span><span style="color:#666666">: </span><span style="color:#5DA994">string</span><span style="color:#666666">,</span><span style="color:#BD976A"> value</span><span style="color:#666666">: </span><span style="color:#5DA994">any</span><span style="color:#666666">)</span><span style="color:#666666"> =></span><span style="color:#BD976A"> any</span><span style="color:#666666">,</span><span style="color:#BD976A"> space</span><span style="color:#CB7676">?:</span><span style="color:#BD976A"> string</span><span style="color:#CB7676"> |</span><span style="color:#BD976A"> number</span><span style="color:#666666">)</span><span style="color:#DBD7CAEE">: </span><span style="color:#80A665">string</span><span style="color:#666666"> (</span><span style="color:#CB7676">+</span><span style="color:#4C9A91">1</span><span style="color:#BD976A"> overload</span><span style="color:#666666">)</span></code><div class="twoslash-popup-docs">Converts a JavaScript value to a JavaScript Object Notation (JSON) string.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">value A JavaScript value, usually an object or array, to be converted.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">replacer A function that transforms the results.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">space Adds indentation, white space, and line break characters to the return-value JSON text to make it easier to read.</span></span></div></span>stringify</span></span><span style="color:#666666">(</span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">r</span><span style="color:#666666">:</span><span style="color:#BD976A"> ArkErrors</span></code></span>r</span></span><span style="color:#666666">) }</span></span>
<span class="line"><span style="color:#CB7676">    :</span><span style="color:#666666"> { </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">_tag</span><span style="color:#666666">:</span><span style="color:#C98A7D99"> "</span><span style="color:#C98A7D">right</span><span style="color:#C98A7D99">"</span></code></span>_tag</span></span><span style="color:#666666">: </span><span style="color:#C98A7D99">'</span><span style="color:#C98A7D">right</span><span style="color:#C98A7D99">'</span><span style="color:#666666">, </span><span style="color:#B8A965"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">value</span><span style="color:#666666">:</span><span style="color:#BD976A"> T</span></code></span>value</span></span><span style="color:#666666">: </span><span style="color:#BD976A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#80A665">r</span><span style="color:#666666">:</span><span style="color:#BD976A"> T</span></code></span>r</span></span><span style="color:#666666"> };</span></span>
<span class="line"></span></code></pre>